(()=>{var e={};e.id=3239,e.ids=[3239],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5340:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(1584).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13585:(e,r,s)=>{"use strict";s.d(r,{$:()=>c});var t=s(69284);s(57885);var i=s(63705),n=s(27172);let a=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=n.$;var d=s(40214);let l=((e,r)=>s=>{var t;if((null==r?void 0:r.variants)==null)return o(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:i,defaultVariants:n}=r,d=Object.keys(i).map(e=>{let r=null==s?void 0:s[e],t=null==n?void 0:n[e];if(null===r)return null;let o=a(r)||a(t);return i[e][o]}),l=s&&Object.entries(s).reduce((e,r)=>{let[s,t]=r;return void 0===t||(e[s]=t),e},{});return o(e,d,null==r||null==(t=r.compoundVariants)?void 0:t.reduce((e,r)=>{let{class:s,className:t,...i}=r;return Object.entries(i).every(e=>{let[r,s]=e;return Array.isArray(s)?s.includes({...n,...l}[r]):({...n,...l})[r]===s})?[...e,s,t]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)})("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c({className:e,variant:r,size:s,asChild:n=!1,...a}){let o=n?i.DX:"button";return(0,t.jsx)(o,{"data-slot":"button",className:(0,d.cn)(l({variant:r,size:s,className:e})),...a})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},46919:(e,r,s)=>{let{createProxy:t}=s(31407);e.exports=t("/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/app-dir/link.js")},49510:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,31533,23)),Promise.resolve().then(s.bind(s,88828)),Promise.resolve().then(s.bind(s,38501)),Promise.resolve().then(s.bind(s,80174)),Promise.resolve().then(s.bind(s,70303))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66814:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,46919,23)),Promise.resolve().then(s.bind(s,68690)),Promise.resolve().then(s.bind(s,60910)),Promise.resolve().then(s.bind(s,2376)),Promise.resolve().then(s.bind(s,71913))},68690:(e,r,s)=>{"use strict";s.d(r,{AddUserGroupForm:()=>t});let t=(0,s(32120).registerClientReference)(function(){throw Error("Attempted to call AddUserGroupForm() from the server but AddUserGroupForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/add/add-user-group-form.tsx","AddUserGroupForm")},73685:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var t=s(38756),i=s(71739),n=s(98483),a=s.n(n),o=s(53100),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(r,d);let l={children:["",{children:["admin",{children:["user-groups",{children:["add",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83517)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/add/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,62911)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62615)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,92945,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9932,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,73469,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/add/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/user-groups/add/page",pathname:"/admin/user-groups/add",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83517:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>x});var t=s(69284),i=s(5340),n=s(46919),a=s.n(n),o=s(77457),d=s(50546),l=s(13585),c=s(1571),u=s(68690),p=s(29247);let m=()=>(0,t.jsx)(d.Qp,{children:(0,t.jsxs)(d.AB,{children:[(0,t.jsx)(d.J5,{children:(0,t.jsx)(d.tJ,{className:"line-clamp-1",children:"User Groups"})}),(0,t.jsx)(d.tH,{}),(0,t.jsx)(d.J5,{children:(0,t.jsx)(d.tJ,{className:"line-clamp-1",children:"Add User Group"})})]})});async function x(){let e=await (0,c.e)();return console.log("modules: ",e),(0,t.jsxs)(o.f,{breadcrumbs:(0,t.jsx)(m,{}),children:[(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(l.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(a(),{href:"/admin/user-groups",children:[(0,t.jsx)(i.A,{className:"mr-2 h-4 w-4"}),"Back to User Groups"]})})}),(0,t.jsx)("div",{className:"mx-auto h-full w-full max-w-3xl rounded-xl",children:(0,t.jsx)("div",{className:"flex flex-1 flex-col gap-4 px-4 py-10",children:(0,t.jsx)(u.AddUserGroupForm,{modules:e,addUserGroup:p.g2})})})]})}},83997:e=>{"use strict";e.exports=require("tty")},88828:(e,r,s)=>{"use strict";s.d(r,{AddUserGroupForm:()=>j});var t=s(82966),i=s(75909),n=s(38683),a=s(30848),o=s(83148),d=s(40451),l=s(93717),c=s(79155),u=s(19977),p=s(55787),m=s(14445),x=s(4535),v=s(62117),h=s(33354),f=s(75960),b=s(56236);let g=a.Ik({name:a.Yj().min(1,{message:"Name is required"}),description:a.Yj().optional()});function j({className:e,modules:r,addUserGroup:s,...a}){let[j,y]=(0,x.useTransition)(),P=(0,i.mN)({resolver:(0,n.u)(g),defaultValues:{name:"",description:""}}),[w,k]=(0,x.useState)([]),_=(e,r)=>{k(s=>{let t=s.find(r=>r.module===e);if(!t)return[...s,{module:e,actions:[r]}];{let i;return 0===(i=t.actions.includes(r)?t.actions.filter(e=>e!==r):[...t.actions,r]).length?s.filter(r=>r.module!==e):s.map(r=>r.module===e?{...r,actions:i}:r)}})},N=async e=>{try{y(async()=>{let r={name:e.name,description:e.description,permissions:w},t=await s(r);P.reset(),k([]),console.log(t),f.oR.success("User group added successfully")})}catch(e){f.oR.error(e instanceof Error?e.message:"Failed to add user group")}};return(0,t.jsx)(l.lV,{...P,children:(0,t.jsxs)("form",{onSubmit:P.handleSubmit(N),className:(0,o.cn)("flex flex-col gap-6",e),...a,children:[(0,t.jsx)(l.zB,{control:P.control,name:"name",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsxs)(l.lR,{children:["User Group Name"," ",(0,t.jsx)("span",{className:"text-red-500",children:"(required)"})]}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(d.p,{...e,placeholder:"User group name"})}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsx)(l.zB,{control:P.control,name:"description",render:({field:e})=>(0,t.jsxs)(l.eI,{children:[(0,t.jsx)(l.lR,{children:"Description"}),(0,t.jsx)(l.MJ,{children:(0,t.jsx)(u.T,{...e,placeholder:"Description",rows:4})}),(0,t.jsx)(l.C5,{})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xl font-bold mb-5",children:"Module Permissions"}),(0,t.jsx)("div",{className:"flex flex-col gap-2",children:r.map(e=>(0,t.jsxs)("div",{className:"flex flex-col gap-2 border-b border-gray-200 pb-4 w-full justify-between py-2  rounded-md p-4",children:[(0,t.jsxs)("div",{className:"text-lg font-bold flex items-center gap-2",children:[e.displayName," ",(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.availablePermissions.length," ","permissions)"]})]}),(0,t.jsx)("div",{className:"flex flex-row gap-2 ml-auto w-full ",children:e.availablePermissions.map(r=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.S,{id:`${e._id}-${r}`,className:"border-gray-300",onCheckedChange:()=>{console.log(`${e._id}-${r}`,"checked"),_(e._id,r)},checked:w.find(r=>r.module===e._id)?.actions.includes(r)||!1}),(0,t.jsx)(m.J,{htmlFor:`${e._id}-${r}`,className:"text-base font-medium font-normal",children:r})]},r))})]},e._id))})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(c.$,{type:"submit",className:"cursor-pointer",disabled:j,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.A,{className:"animate-spin"}),"Adding User Group..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.A,{className:"w-4 h-4"}),"Add User Group"]})}),(0,t.jsx)(b.o,{variant:"outline",children:"Cancel"})]})]})})}},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[6442,3174,7063,3805,9667,8910,1533,2998,6424,4901,4723,4307,7513,2904,29],()=>s(73685));module.exports=t})();