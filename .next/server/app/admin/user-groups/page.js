(()=>{var e={};e.id=1551,e.ids=[1551],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12251:(e,r,s)=>{"use strict";s.d(r,{z:()=>n});var t=s(82966),a=s(31533),i=s.n(a),d=s(83148);function n({href:e,children:r,className:s}){return(0,t.jsx)(i(),{href:e,className:(0,d.cn)("hover:underline hover:text-blue-500 hover:cursor-pointer text-blue-500",s),children:r})}},12412:e=>{"use strict";e.exports=require("assert")},18968:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"7f00034573904efccec6f62e96127fc80841d988f6":()=>t.IF,"7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c":()=>d.m3,"7f0c88e06b3bad703ae193f0f52e050d3be0abe413":()=>d.JQ,"7f143444e3e400671830be6ce02b3ff1d3e9dbf1cc":()=>i.N$,"7f228af614aba0103daf10d4c57416d697ff32364b":()=>i.$$,"7f49e83c0165e8d5d7cc80af01d567c6c8a92d2389":()=>d.lD,"7f5970b6c0de47a93832f40328853e89a90fa24ad4":()=>d.xr,"7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2":()=>i.xA,"7f6b7da9816fe4003adb7dbe6afe17b8a981665b4f":()=>t.g2,"7f804d520220bdd31092be9af94ca7c8191040f035":()=>i.ip,"7f8d0fc5a65430c58a4ace3dfaf11c42de3f7318cd":()=>t.lJ,"7f922df92c230b795598e30cad6e1589c7b6e93962":()=>d.oU,"7fac1e6f69684577729c62c70547d5c2bba4a86072":()=>d.eq,"7fb018cc823e171de450c7c5d722fd8e4049baedec":()=>d.tC,"7fbb8e4164106ecb89672208ff12b7e157dde22a52":()=>d.G6,"7fbf8ceed367c04425332882ac1b853950c858c14a":()=>a.j,"7fcacaf4d942fb25f7ee111fc3a1964d895c639f4b":()=>d.xx,"7fd954c4ea7c347d52576010de82d4e548263eaca3":()=>t.iJ,"7fd9cdd65f6f7520454973444f50071877189891c7":()=>t.K4,"7fdc65967da6e1c64afb55a4baba88495fddfa28df":()=>d.By,"7fdffce87a84d5c83ee3356c6e33814b2d8fad3291":()=>i.SG,"7fe8be6f50d158bd0073e6601575b8573865633d7e":()=>d.vr});var t=s(29247),a=s(82553),i=s(63636),d=s(90546)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22521:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h});var t=s(69284),a=s(86557),i=s(46919),d=s.n(i),n=s(77457),o=s(50546),c=s(13585),l=s(29247),u=s(74098),p=s(63636);let f=()=>(0,t.jsx)(o.Qp,{children:(0,t.jsxs)(o.AB,{children:[(0,t.jsx)(o.J5,{children:(0,t.jsx)(o.w1,{href:"/admin",children:"Home"})}),(0,t.jsx)(o.tH,{}),(0,t.jsx)(o.J5,{children:(0,t.jsx)(o.tJ,{className:"line-clamp-1",children:"User Groups"})})]})});async function h(){let e=await (0,l.K4)(),r=await (0,p.SG)(["user-groups.create"]),s=await (0,p.SG)(["user-groups.update"]),i=await (0,p.SG)(["user-groups.delete"]);return(0,t.jsxs)(n.f,{breadcrumbs:(0,t.jsx)(f,{}),children:[(0,t.jsx)("div",{className:"flex justify-end",children:r&&(0,t.jsx)(c.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(d(),{href:"/admin/user-groups/add",children:[(0,t.jsx)(a.A,{className:"mr-2 h-4 w-4"}),"Add User Group"]})})}),(0,t.jsx)("div",{className:"flex flex-col gap-4 mt-5",children:e&&e.length>0?(0,t.jsx)(u.UserGroupTable,{data:e,canEditUserGroup:s,canDeleteUserGroup:i,deleteUserGroup:l.IF}):(0,t.jsx)("div",{className:"flex flex-col gap-4 text-center bg-muted p-5 rounded-md",children:(0,t.jsx)("p",{children:"No user groups found"})})})]})}},26789:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>d.a,__next_app__:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var t=s(38756),a=s(71739),i=s(98483),d=s.n(i),n=s(53100),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(r,o);let c={children:["",{children:["admin",{children:["user-groups",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,22521)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,62911)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62615)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,92945,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9932,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,73469,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/user-groups/page",pathname:"/admin/user-groups",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29247:(e,r,s)=>{"use strict";s.d(r,{IF:()=>u,K4:()=>n,g2:()=>o,iJ:()=>l,lJ:()=>c});var t=s(63073);s(64959);var a=s(26236),i=s(92574),d=s(28551);let n=async()=>{let e=await (0,a.j2)();if(!e?.user)return[];try{let r=await i.A.get("/users/user-groups",{headers:{Authorization:`Bearer ${e.jwt}`}});console.log("\n\n\n\n--------\x3eres user group: ",r);let s=r.data;if("error"===s.status)throw Error(s.data[0].message);return s.data}catch(e){return console.log("Error getting user groups: ",e),[]}},o=async e=>{let r=await (0,a.j2)();if(!r?.user)return[];let s=(await i.A.post("/users/user-groups",e,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===s.status)throw Error(s.data[0].message);return s.data},c=async e=>{let r=await (0,a.j2)();if(!r?.user)return[];let s=(await i.A.get(`/users/user-groups/${e}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===s.status)throw Error(s.data[0].message);return s.data[0]},l=async(e,r)=>{let s=await (0,a.j2)();if(!s?.user)return[];let t=(await i.A.put(`/users/user-groups/${e}`,r,{headers:{Authorization:`Bearer ${s.jwt}`}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data},u=async e=>{let r,s=null;try{let t=await (0,a.j2)();if(!t?.user)return s="Unauthorized",{data:r,error:s};r=(await i.A.delete(`/users/user-groups/${e}`,{headers:{Authorization:`Bearer ${t.jwt}`}})).data.data}catch(e){s=e?.errorData?e.errorData.error.messages[0]:e.message}return{data:r,error:s}};(0,d.D)([n,o,c,l,u]),(0,t.A)(n,"7fd9cdd65f6f7520454973444f50071877189891c7",null),(0,t.A)(o,"7f6b7da9816fe4003adb7dbe6afe17b8a981665b4f",null),(0,t.A)(c,"7f8d0fc5a65430c58a4ace3dfaf11c42de3f7318cd",null),(0,t.A)(l,"7fd954c4ea7c347d52576010de82d4e548263eaca3",null),(0,t.A)(u,"7f00034573904efccec6f62e96127fc80841d988f6",null)},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},74098:(e,r,s)=>{"use strict";s.d(r,{UserGroupTable:()=>t});let t=(0,s(32120).registerClientReference)(function(){throw Error("Attempted to call UserGroupTable() from the server but UserGroupTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/user-groups/table.tsx","UserGroupTable")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},89015:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,31533,23)),Promise.resolve().then(s.bind(s,94700)),Promise.resolve().then(s.bind(s,38501)),Promise.resolve().then(s.bind(s,80174)),Promise.resolve().then(s.bind(s,70303))},94591:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,46919,23)),Promise.resolve().then(s.bind(s,74098)),Promise.resolve().then(s.bind(s,60910)),Promise.resolve().then(s.bind(s,2376)),Promise.resolve().then(s.bind(s,71913))},94700:(e,r,s)=>{"use strict";s.d(r,{UserGroupTable:()=>h});var t=s(82966),a=s(56995),i=s(12251),d=s(79155),n=s(31533),o=s.n(n),c=s(47358),l=s(42239),u=s(4535),p=s(75960),f=s(48736);function h({data:e,canEditUserGroup:r,canDeleteUserGroup:s,deleteUserGroup:n}){let[h,b]=(0,u.useState)(!1),[x,m]=(0,u.useTransition)(),[j,v]=(0,u.useState)(null),g=(0,f.useRouter)(),w=r=>{v(e.find(e=>e._id===r)||null),b(!0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(a.XI,{children:[(0,t.jsx)(a.A0,{children:(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nd,{children:"Name"}),(0,t.jsx)(a.nd,{children:"Description"}),(0,t.jsx)(a.nd,{children:"Created At"}),(0,t.jsx)(a.nd,{children:"..."})]})}),(0,t.jsx)(a.BF,{children:e.map(e=>(0,t.jsxs)(a.Hj,{children:[(0,t.jsx)(a.nA,{children:(0,t.jsx)(i.z,{href:`/user-groups/${e._id}`,className:"text-blue-500 hover:underline",children:e.name})}),(0,t.jsx)(a.nA,{children:e.description}),(0,t.jsx)(a.nA,{children:new Date(e.createdAt).toLocaleString()}),(0,t.jsx)(a.nA,{children:(0,t.jsxs)(c.rI,{children:[(0,t.jsx)(c.ty,{asChild:!0,children:(0,t.jsx)(d.$,{variant:"outline",children:"Action"})}),(0,t.jsxs)(c.SQ,{className:"w-56",align:"start",children:[(0,t.jsx)(c.lp,{children:"Actions"}),(0,t.jsxs)(c.I,{children:[r&&(0,t.jsx)(c._2,{children:(0,t.jsx)(o(),{href:`/admin/user-groups/${e._id}`,className:"cursor-pointer w-full",children:"Edit"})}),s&&(0,t.jsx)(c._2,{className:"cursor-pointer w-full",onClick:()=>w(e._id),children:"Delete"})]})]})]})})]},e._id))})]}),(0,t.jsx)(l.C,{open:h,onOpenChange:b,onConfirm:()=>{j&&m(async()=>{let e=await n(j._id);if(e.error)return void p.oR.error(e.error);console.log("user group deleted result: ",e),b(!1),v(null),p.oR.success("User group deleted successfully"),g.refresh()})},loading:x})]})}},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[6442,3174,7063,3805,9667,8910,1533,2998,6424,4901,4723,7513,2904,4946],()=>s(26789));module.exports=t})();