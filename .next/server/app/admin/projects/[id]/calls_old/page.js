(()=>{var e={};e.id=6181,e.ids=[6181],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6317:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>d.a,__next_app__:()=>f,pages:()=>o,routeModule:()=>u,tree:()=>n});var t=a(38756),s=a(71739),i=a(98483),d=a.n(i),c=a(53100),l={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);a.d(r,l);let n={children:["",{children:["admin",{children:["projects",{children:["[id]",{children:["calls_old",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,22355)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/[id]/calls_old/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,62911)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,62615)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,92945,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9932,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,73469,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/[id]/calls_old/page.tsx"],f={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/projects/[id]/calls_old/page",pathname:"/admin/projects/[id]/calls_old",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12251:(e,r,a)=>{"use strict";a.d(r,{z:()=>c});var t=a(82966),s=a(31533),i=a.n(s),d=a(83148);function c({href:e,children:r,className:a}){return(0,t.jsx)(i(),{href:e,className:(0,d.cn)("hover:underline hover:text-blue-500 hover:cursor-pointer text-blue-500",a),children:r})}},12412:e=>{"use strict";e.exports=require("assert")},13999:(e,r,a)=>{"use strict";a.d(r,{A7:()=>n,H6:()=>l,LX:()=>p,Mh:()=>u,aA:()=>c,dk:()=>o,uz:()=>f});var t=a(63073);a(64959);var s=a(26236),i=a(92574),d=a(28551);let c=async()=>{let e=await (0,s.j2)();if(!e?.user)return[];let r=(await i.A.get("/users/calls",{headers:{Authorization:`Bearer ${e.jwt}`}})).data;if("error"===r.status)throw Error(r.data[0].message);return r.data},l=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];let a=(await i.A.get(`/users/calls/${e}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data[0]},n=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];let a=(await i.A.post("/users/calls",e,{headers:{Authorization:`Bearer ${r.jwt}`,"Content-Type":"multipart/form-data"}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data},o=async(e,r)=>{let a=await (0,s.j2)();if(!a?.user)return[];let t=(await i.A.put(`/users/calls/${e}`,r,{headers:{Authorization:`Bearer ${a.jwt}`,"Content-Type":"multipart/form-data"}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data},f=async(e,r)=>{let a=await (0,s.j2)();if(!a?.user)return[];try{return(await i.A.delete(`/users/projects/${e}/calls/${r}`,{headers:{Authorization:`Bearer ${a.jwt}`}})).data.data}catch(e){throw(e?.errorData).error.messages[0]}},u=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];try{return(await i.A.get(`/users/projects/${e}/calls`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data.data}catch(e){throw(e?.errorData).error.messages[0]}},p=async()=>{try{return(await i.A.get("/calls/public")).data.data}catch(e){throw(e?.errorData).error.messages[0]}};(0,d.D)([c,l,n,o,f,u,p]),(0,t.A)(c,"7fce573b7772ab607eb26877638dc35a166cc7900f",null),(0,t.A)(l,"7f7e39a31efb885af3524719a73ea8dcb0bb6ffb23",null),(0,t.A)(n,"7f95c2afeb2ec2e5df8341d35957da13acc2b002c1",null),(0,t.A)(o,"7f83cb0b8cda6c595d33384df7c6adde177d1f13a6",null),(0,t.A)(f,"7fffc7c8b72e45ed2d899105c6eee9ff2f1d6e2c61",null),(0,t.A)(u,"7f4c1c2a36086c0dff9984f1e18899ff4712b442f5",null),(0,t.A)(p,"7f7229df28442cf28802a506825e67b916d63cf58a",null)},16599:(e,r,a)=>{"use strict";a.d(r,{N:()=>i});var t=a(82966),s=a(4535);function i({date:e}){let[r,a]=(0,s.useState)("");return(0,t.jsx)("span",{children:r})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22355:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>x,dynamic:()=>h});var t=a(69284),s=a(77457),i=a(50546),d=a(13585),c=a(46919),l=a.n(c),n=a(86557),o=a(90546),f=a(13999),u=a(74056),p=a(63636);let h="force-dynamic",b=({project:e})=>(0,t.jsx)(i.Qp,{children:(0,t.jsxs)(i.AB,{children:[(0,t.jsx)(i.J5,{children:(0,t.jsx)(i.tJ,{className:"line-clamp-1",children:(0,t.jsx)(l(),{href:"/projects",children:"Projects"})})}),(0,t.jsx)(i.tH,{}),(0,t.jsx)(i.J5,{children:(0,t.jsx)(i.tJ,{className:"line-clamp-1",children:e.data.name})}),(0,t.jsx)(i.tH,{}),(0,t.jsx)(i.J5,{children:(0,t.jsx)(i.tJ,{className:"line-clamp-1",children:"Calls"})})]})});async function x({params:e}){let{id:r}=await e,a=await (0,p.SG)(["calls.create"]),i=await (0,p.SG)(["calls.edit"]),c=await (0,p.SG)(["calls.delete"]);try{let e=await (0,o.G6)(r),p=await (0,f.Mh)(r);return(0,t.jsxs)(s.f,{breadcrumbs:(0,t.jsx)(b,{project:e}),children:[(0,t.jsx)("div",{className:"flex justify-end",children:a&&(0,t.jsx)(d.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(l(),{href:"/admin/calls/add",children:[(0,t.jsx)(n.A,{className:"mr-2 h-4 w-4"}),"Add Call"]})})}),(0,t.jsx)("div",{className:"flex flex-col gap-4 mt-5",children:p.length>0?(0,t.jsx)(u.CallTable,{calls:p,canEditCall:i,canDeleteCall:c,deleteCall:f.uz}):(0,t.jsx)("div",{className:"flex flex-col gap-4 text-center bg-muted p-5 rounded-md",children:(0,t.jsx)("p",{children:"No calls found"})})})]})}catch(e){return console.log("err: ",e),(0,t.jsx)("div",{children:"Error"})}}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},38338:(e,r,a)=>{"use strict";a.d(r,{CallTable:()=>b});var t=a(82966),s=a(12251),i=a(79155),d=a(56995),c=a(31533),l=a.n(c),n=a(47358),o=a(42239),f=a(4535),u=a(16599),p=a(48736),h=a(75960);function b({calls:e,canEditCall:r,canDeleteCall:a,deleteCall:c}){let b=(0,p.useRouter)(),[x,j]=(0,f.useTransition)(),[m,v]=(0,f.useState)(!1),[w,A]=(0,f.useState)(null),y=e=>{A(e),v(!0)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(d.XI,{children:[(0,t.jsx)(d.A0,{children:(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nd,{children:"Name"}),(0,t.jsx)(d.nd,{children:"Description"}),(0,t.jsx)(d.nd,{children:"Created By"}),(0,t.jsx)(d.nd,{children:"Created At"}),(0,t.jsx)(d.nd,{children:"..."})]})}),(0,t.jsx)(d.BF,{children:e.map(e=>(0,t.jsxs)(d.Hj,{children:[(0,t.jsx)(d.nA,{children:(0,t.jsx)(s.z,{href:`/projects/${e.project._id}/calls/${e.id}`,children:e.name})}),(0,t.jsx)(d.nA,{children:e.description&&e.description?.length>100?e.description?.slice(0,100)+"...":e.description}),(0,t.jsx)(d.nA,{children:e.createdBy.name}),(0,t.jsx)(d.nA,{children:(0,t.jsx)(u.N,{date:e.createdAt})}),(0,t.jsx)(d.nA,{children:(0,t.jsxs)(n.rI,{children:[(0,t.jsx)(n.ty,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"outline",children:"Action"})}),(0,t.jsxs)(n.SQ,{className:"w-56",align:"start",children:[(0,t.jsx)(n.lp,{children:"Actions"}),(0,t.jsxs)(n.I,{children:[r&&(0,t.jsx)(n._2,{children:(0,t.jsx)(l(),{href:`/projects/${e.project._id}/calls/${e.id}/edit`,className:"cursor-pointer w-full",children:"Edit"})}),a&&(0,t.jsx)(n._2,{className:"cursor-pointer w-full",onClick:()=>y(e),children:"Delete"})]})]})]})})]},e.id))})]}),(0,t.jsx)(o.C,{onConfirm:()=>{w&&j(async()=>{try{await c(w.project._id,w._id),h.oR.success("Call deleted successfully"),v(!1),A(null),b.refresh()}catch(e){h.oR.error(e.message||"Error deleting call")}})},open:m,onOpenChange:v,loading:x})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57877:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,46919,23)),Promise.resolve().then(a.bind(a,74056)),Promise.resolve().then(a.bind(a,60910)),Promise.resolve().then(a.bind(a,2376)),Promise.resolve().then(a.bind(a,71913))},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},71445:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,31533,23)),Promise.resolve().then(a.bind(a,38338)),Promise.resolve().then(a.bind(a,38501)),Promise.resolve().then(a.bind(a,80174)),Promise.resolve().then(a.bind(a,70303))},74056:(e,r,a)=>{"use strict";a.d(r,{CallTable:()=>t});let t=(0,a(32120).registerClientReference)(function(){throw Error("Attempted to call CallTable() from the server but CallTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/[id]/calls_old/table.tsx","CallTable")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},91209:(e,r,a)=>{"use strict";a.r(r),a.d(r,{"7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c":()=>t.m3,"7f0c88e06b3bad703ae193f0f52e050d3be0abe413":()=>t.JQ,"7f143444e3e400671830be6ce02b3ff1d3e9dbf1cc":()=>d.N$,"7f228af614aba0103daf10d4c57416d697ff32364b":()=>d.$$,"7f49e83c0165e8d5d7cc80af01d567c6c8a92d2389":()=>t.lD,"7f4c1c2a36086c0dff9984f1e18899ff4712b442f5":()=>i.Mh,"7f5970b6c0de47a93832f40328853e89a90fa24ad4":()=>t.xr,"7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2":()=>d.xA,"7f7229df28442cf28802a506825e67b916d63cf58a":()=>i.LX,"7f7e39a31efb885af3524719a73ea8dcb0bb6ffb23":()=>i.H6,"7f804d520220bdd31092be9af94ca7c8191040f035":()=>d.ip,"7f83cb0b8cda6c595d33384df7c6adde177d1f13a6":()=>i.dk,"7f922df92c230b795598e30cad6e1589c7b6e93962":()=>t.oU,"7f95c2afeb2ec2e5df8341d35957da13acc2b002c1":()=>i.A7,"7fac1e6f69684577729c62c70547d5c2bba4a86072":()=>t.eq,"7fb018cc823e171de450c7c5d722fd8e4049baedec":()=>t.tC,"7fbb8e4164106ecb89672208ff12b7e157dde22a52":()=>t.G6,"7fbf8ceed367c04425332882ac1b853950c858c14a":()=>s.j,"7fcacaf4d942fb25f7ee111fc3a1964d895c639f4b":()=>t.xx,"7fce573b7772ab607eb26877638dc35a166cc7900f":()=>i.aA,"7fdc65967da6e1c64afb55a4baba88495fddfa28df":()=>t.By,"7fdffce87a84d5c83ee3356c6e33814b2d8fad3291":()=>d.SG,"7fe8be6f50d158bd0073e6601575b8573865633d7e":()=>t.vr,"7fffc7c8b72e45ed2d899105c6eee9ff2f1d6e2c61":()=>i.uz});var t=a(90546),s=a(82553),i=a(13999),d=a(63636)},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[6442,3174,7063,3805,9667,8910,1533,2998,6424,4901,4723,7513,2904,4946],()=>a(6317));module.exports=t})();