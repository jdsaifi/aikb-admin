(()=>{var e={};e.id=4414,e.ids=[4414],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14445:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var a=t(82966);t(4535);var s=t(68997),o=t(83148);function i({className:e,...r}){return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}},18897:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,31533,23)),Promise.resolve().then(t.bind(t,38501)),Promise.resolve().then(t.bind(t,91064)),Promise.resolve().then(t.bind(t,80174)),Promise.resolve().then(t.bind(t,70303))},19084:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,dynamic:()=>f});var a=t(69284),s=t(90546),o=t(24298),i=t(33983),d=t(77457),n=t(50546),l=t(46919),c=t.n(l),u=t(94535);let f="force-dynamic";async function p({params:e}){try{let{id:r}=await e,t=await (0,s.G6)(r),l=await (0,s.eq)(r),u=await (0,o.lo)();return(0,a.jsx)(d.f,{breadcrumbs:(0,a.jsx)(n.Qp,{children:(0,a.jsxs)(n.AB,{children:[(0,a.jsx)(n.J5,{children:(0,a.jsx)(n.w1,{asChild:!0,children:(0,a.jsx)(c(),{href:"/admin/dashboard",children:"Home"})})}),(0,a.jsx)(n.tH,{}),(0,a.jsx)(n.J5,{children:(0,a.jsx)(n.w1,{asChild:!0,children:(0,a.jsx)(c(),{href:"/admin/projects",children:"Projects"})})}),(0,a.jsx)(n.tH,{}),(0,a.jsx)(n.J5,{children:(0,a.jsx)(n.w1,{asChild:!0,children:(0,a.jsx)(c(),{href:`/admin/projects/${r}/edit`,children:t.data.name})})}),(0,a.jsx)(n.tH,{}),(0,a.jsx)(n.J5,{children:(0,a.jsx)(n.tJ,{children:"Users"})})]})}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:"Manage Project Users"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:['Assign users to "',t.data.name,'" project to give them access to project features.']})]}),(0,a.jsx)(i.ProjectUsersTable,{projectUsers:l,allUsers:u,projectId:r})]})})}catch(e){console.error("Error loading project users:",e),(0,u.notFound)()}}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24298:(e,r,t)=>{"use strict";t.d(r,{TK:()=>l,hG:()=>u,kl:()=>n,lo:()=>d,nu:()=>c});var a=t(63073);t(64959);var s=t(26236),o=t(92574),i=t(28551);let d=async()=>{let e=await (0,s.j2)();if(!e?.user)return[];let r=(await o.A.get("/users",{headers:{Authorization:`Bearer ${e.jwt}`}})).data;if("error"===r.status)throw Error(r.data[0].message);return r.data},n=async e=>{let r=await (0,s.j2)();if(!r?.user)return null;let t=(await o.A.get(`/users/${e}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data[0]},l=async(e,r)=>{let t=await (0,s.j2)();return t?.user?(await o.A.put(`/users/${e}`,r,{headers:{Authorization:`Bearer ${t.jwt}`}})).data[0]:null},c=async e=>{let r=await (0,s.j2)();return r?.user?(await o.A.post("/users",e,{headers:{Authorization:`Bearer ${r.jwt}`}})).data[0]:null},u=async e=>{let r,t=null;try{let a=await (0,s.j2)();if(!a?.user)return t="Unauthorized",{data:r,error:t};r=(await o.A.delete(`/users/${e}`,{headers:{Authorization:`Bearer ${a.jwt}`}})).data.data}catch(e){t=e?.errorData?e.errorData.error.messages[0]:e.message}return{data:r,error:t}};(0,i.D)([d,n,l,c,u]),(0,a.A)(d,"7f83ba3685a4f6947f5e5fde0aa6dc8541b24746d0",null),(0,a.A)(n,"7f68161127c85106803fcda82647b2d9e276c8bebc",null),(0,a.A)(l,"7f155da1409e4ef0577db35c164a36a9bddb7d2795",null),(0,a.A)(c,"7fe0d69028a6b867e14e2d0db090f4128df0f46202",null),(0,a.A)(u,"7fd41f73ef47ddd37eae3958acef989ce7663c1696",null)},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28625:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,46919,23)),Promise.resolve().then(t.bind(t,60910)),Promise.resolve().then(t.bind(t,33983)),Promise.resolve().then(t.bind(t,2376)),Promise.resolve().then(t.bind(t,71913))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},33983:(e,r,t)=>{"use strict";t.d(r,{ProjectUsersTable:()=>a});let a=(0,t(32120).registerClientReference)(function(){throw Error("Attempted to call ProjectUsersTable() from the server but ProjectUsersTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/project-users-table.tsx","ProjectUsersTable")},46919:(e,r,t)=>{let{createProxy:a}=t(31407);e.exports=a("/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/client/app-dir/link.js")},47618:(e,r,t)=>{"use strict";t.d(r,{E:()=>n});var a=t(82966);t(4535);var s=t(94710),o=t(38646),i=t(83148);let d=(0,o.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,asChild:t=!1,...o}){let n=t?s.DX:"span";return(0,a.jsx)(n,{"data-slot":"badge",className:(0,i.cn)(d({variant:r}),e),...o})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56995:(e,r,t)=>{"use strict";t.d(r,{A0:()=>i,BF:()=>d,Hj:()=>n,XI:()=>o,nA:()=>c,nd:()=>l});var a=t(82966);t(4535);var s=t(83148);function o({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,a.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...r})})}function i({className:e,...r}){return(0,a.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",e),...r})}function d({className:e,...r}){return(0,a.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r})}function n({className:e,...r}){return(0,a.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function l({className:e,...r}){return(0,a.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}function c({className:e,...r}){return(0,a.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r})}},62223:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f143444e3e400671830be6ce02b3ff1d3e9dbf1cc":()=>a.N$,"7f228af614aba0103daf10d4c57416d697ff32364b":()=>a.$$,"7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2":()=>a.xA,"7f804d520220bdd31092be9af94ca7c8191040f035":()=>a.ip,"7fdffce87a84d5c83ee3356c6e33814b2d8fad3291":()=>a.SG});var a=t(30346)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68253:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>f,tree:()=>l});var a=t(38756),s=t(71739),o=t(98483),i=t.n(o),d=t(53100),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(r,n);let l={children:["",{children:["admin",{children:["projects",{children:["[id]",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,19084)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/[id]/users/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,62911)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62615)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,92945,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9932,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,73469,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/[id]/users/page.tsx"],u={require:t,loadChunk:()=>Promise.resolve()},f=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/projects/[id]/users/page",pathname:"/admin/projects/[id]/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},68997:(e,r,t)=>{"use strict";t.d(r,{b:()=>d});var a=t(4535),s=t(85500),o=t(82966),i=a.forwardRef((e,r)=>(0,o.jsx)(s.sG.label,{...e,ref:r,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var d=i},70740:(e,r,t)=>{"use strict";t.d(r,{TR:()=>h,bq:()=>f,eb:()=>x,gC:()=>p,l6:()=>l,s3:()=>c,yv:()=>u});var a=t(82966);t(4535);var s=t(7530),o=t(90261),i=t(16603),d=t(2164),n=t(83148);function l({...e}){return(0,a.jsx)(s.bL,{"data-slot":"select",...e})}function c({...e}){return(0,a.jsx)(s.YJ,{"data-slot":"select-group",...e})}function u({...e}){return(0,a.jsx)(s.WT,{"data-slot":"select-value",...e})}function f({className:e,size:r="default",children:t,...i}){return(0,a.jsxs)(s.l9,{"data-slot":"select-trigger","data-size":r,className:(0,n.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...i,children:[t,(0,a.jsx)(s.In,{asChild:!0,children:(0,a.jsx)(o.A,{className:"size-4 opacity-50"})})]})}function p({className:e,children:r,position:t="popper",...o}){return(0,a.jsx)(s.ZL,{children:(0,a.jsxs)(s.UC,{"data-slot":"select-content",className:(0,n.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...o,children:[(0,a.jsx)(m,{}),(0,a.jsx)(s.LM,{className:(0,n.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),(0,a.jsx)(j,{})]})})}function h({className:e,...r}){return(0,a.jsx)(s.JU,{"data-slot":"select-label",className:(0,n.cn)("text-muted-foreground px-2 py-1.5 text-xs",e),...r})}function x({className:e,children:r,...t}){return(0,a.jsxs)(s.q7,{"data-slot":"select-item",className:(0,n.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...t,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(s.VF,{children:(0,a.jsx)(i.A,{className:"size-4"})})}),(0,a.jsx)(s.p4,{children:r})]})}function m({className:e,...r}){return(0,a.jsx)(s.PP,{"data-slot":"select-scroll-up-button",className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,a.jsx)(d.A,{className:"size-4"})})}function j({className:e,...r}){return(0,a.jsx)(s.wn,{"data-slot":"select-scroll-down-button",className:(0,n.cn)("flex cursor-default items-center justify-center py-1",e),...r,children:(0,a.jsx)(o.A,{className:"size-4"})})}},74075:e=>{"use strict";e.exports=require("zlib")},77457:(e,r,t)=>{"use strict";t.d(r,{f:()=>d});var a=t(69284),s=t(60910),o=t(89726),i=t(71913);function d({children:e,breadcrumbs:r}){return(0,a.jsxs)(i.SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[(0,a.jsx)(s.AppSidebar,{variant:"inset"}),(0,a.jsxs)(i.SidebarInset,{children:[(0,a.jsx)(o.D,{breadcrumbs:r}),(0,a.jsx)("div",{className:"flex flex-1 flex-col",children:(0,a.jsx)("div",{className:"@container/main flex flex-1 flex-col gap-2",children:(0,a.jsx)("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:(0,a.jsx)("div",{className:"px-4 lg:px-6",children:e})})})})]})]})}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},90546:(e,r,t)=>{"use strict";t.d(r,{oU:()=>$,tC:()=>C,By:()=>P,lD:()=>U,xx:()=>k,G6:()=>N,eq:()=>_,JQ:()=>A,m3:()=>q,xr:()=>E,vr:()=>z});var a=t(63073);t(64959);var s=t(26236),o=t(92574);let{Axios:i,AxiosError:d,CanceledError:n,isCancel:l,CancelToken:c,VERSION:u,all:f,Cancel:p,isAxiosError:h,spread:x,toFormData:m,AxiosHeaders:j,HttpStatusCode:b,formToJSON:v,getAdapter:g,mergeConfig:w}=t(76032).A;var y=t(28551);let A=async()=>{let e=await (0,s.j2)();return e?.user?(await o.A.get("/users/projects",{headers:{Authorization:`Bearer ${e.jwt}`}})).data.data:[]},P=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];let t=(await o.A.post("/users/projects",e,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===t.status)throw console.log("==========addProject=========="),console.log("result: ",t),Error(t.data[0].message);return t.data},N=async e=>{let r=[],t=null;try{let a=await (0,s.j2)();if(!a?.user)return t="Unauthorized",{data:r,error:t};r=(await o.A.get(`/users/projects/${e}`,{headers:{Authorization:`Bearer ${a.jwt}`}})).data.data[0]}catch(e){if(e instanceof d){let r=e?.response?.data;console.log("errorData: ",r),t=r.error.messages[0]}else t=e.message}return{data:r,error:t}},k=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];let t=(await o.A.delete(`/users/projects/${e}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data},z=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)return[];let a=(await o.A.put(`/users/projects/${e}`,r,{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data},_=async e=>{let r=await (0,s.j2)();if(!r?.user)return[];try{let t=(await o.A.get(`/users/projects/${e}/users`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data}catch(e){return console.warn("Project users API endpoint not available yet:",e),[]}},U=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)throw Error("Unauthorized");try{let a=(await o.A.post(`/users/projects/${e}/users`,{userId:r},{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data}catch(e){throw console.error("Error adding user to project:",e),Error("Failed to add user to project. Please try again.")}},E=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)throw Error("Unauthorized");try{let a=(await o.A.delete(`/users/projects/${e}/users/${r}`,{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data}catch(e){throw console.error("Error removing user from project:",e),Error("Failed to remove user from project. Please try again.")}},$=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)throw Error("Unauthorized");try{let a=(await o.A.post(`/users/projects/${e}/calls`,{callId:r},{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data}catch(e){throw console.error("Error adding call to project:",e),Error("Failed to add call to project. Please try again.")}},q=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)throw Error("Unauthorized");try{let a=(await o.A.delete(`/users/projects/${e}/calls/${r}`,{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if(console.log("\n\n===============>>>>>result: ",a),"error"===a.status)throw Error(a.data[0].message);return a.data}catch(e){throw console.error("Error removing call from project:",e),Error("Failed to remove call from project. Please try again.")}},C=async(e,r)=>{let t=await (0,s.j2)();if(!t?.user)throw Error("Unauthorized");try{let a=(await o.A.post(`/users/projects/${e}/calls`,{callIds:r},{headers:{Authorization:`Bearer ${t.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data}catch(e){throw console.error("Error adding calls to project:",e),Error("Failed to add calls to project. Please try again.")}};(0,y.D)([A,P,N,k,z,_,U,E,$,q,C]),(0,a.A)(A,"7f0c88e06b3bad703ae193f0f52e050d3be0abe413",null),(0,a.A)(P,"7fdc65967da6e1c64afb55a4baba88495fddfa28df",null),(0,a.A)(N,"7fbb8e4164106ecb89672208ff12b7e157dde22a52",null),(0,a.A)(k,"7fcacaf4d942fb25f7ee111fc3a1964d895c639f4b",null),(0,a.A)(z,"7fe8be6f50d158bd0073e6601575b8573865633d7e",null),(0,a.A)(_,"7fac1e6f69684577729c62c70547d5c2bba4a86072",null),(0,a.A)(U,"7f49e83c0165e8d5d7cc80af01d567c6c8a92d2389",null),(0,a.A)(E,"7f5970b6c0de47a93832f40328853e89a90fa24ad4",null),(0,a.A)($,"7f922df92c230b795598e30cad6e1589c7b6e93962",null),(0,a.A)(q,"7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c",null),(0,a.A)(C,"7fb018cc823e171de450c7c5d722fd8e4049baedec",null)},91064:(e,r,t)=>{"use strict";t.d(r,{ProjectUsersTable:()=>y});var a=t(82966),s=t(4535),o=t(56995),i=t(79155),d=t(47618),n=t(15486);let l=(0,n.createServerReference)("7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2",n.callServer,void 0,n.findSourceMapURL,"addUserToProjectAction"),c=(0,n.createServerReference)("7f228af614aba0103daf10d4c57416d697ff32364b",n.callServer,void 0,n.findSourceMapURL,"removeUserFromProjectAction");var u=t(75960),f=t(59384);let p=(0,f.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=t(91919);let x=(0,f.A)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),m=(0,f.A)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var j=t(96783),b=t(70740),v=t(14445),g=t(31533),w=t.n(g);function y({projectUsers:e,allUsers:r,projectId:t}){let[n,f]=(0,s.useState)(!1),[g,y]=(0,s.useState)(""),[A,P]=(0,s.useState)(null),N=r.filter(r=>!e.some(e=>e._id===r._id)),k=async()=>{if(!g)return void u.oR.error("Please select a user");f(!0);try{let e=await l(t,g);e.success?(u.oR.success("User added to project successfully"),y(""),window.location.reload()):u.oR.error(e.error||"Failed to add user to project")}catch(e){u.oR.error("An error occurred while adding user to project")}finally{f(!1)}},z=async e=>{P(e);try{let r=await c(t,e);r.success?(u.oR.success("User removed from project successfully"),window.location.reload()):u.oR.error(r.error||"Failed to remove user from project")}catch(e){u.oR.error("An error occurred while removing user from project")}finally{P(null)}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(p,{className:"h-5 w-5"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Project Users"}),(0,a.jsxs)(d.E,{variant:"secondary",children:[e.length," users"]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(i.$,{size:"sm",variant:"outline",asChild:!0,children:(0,a.jsxs)(w(),{href:"/admin/projects",children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"All Projects"]})}),N.length>0&&(0,a.jsxs)(j.lG,{children:[(0,a.jsx)(j.zM,{asChild:!0,children:(0,a.jsxs)(i.$,{size:"sm",children:[(0,a.jsx)(x,{className:"mr-2 h-4 w-4"}),"Add User"]})}),(0,a.jsxs)(j.Cf,{children:[(0,a.jsxs)(j.c7,{children:[(0,a.jsx)(j.L3,{children:"Add User to Project"}),(0,a.jsx)(j.rr,{children:"Select a user to add to this project. They will be able to access all project features."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v.J,{htmlFor:"user-select",children:"Select User"}),(0,a.jsxs)(b.l6,{value:g,onValueChange:y,children:[(0,a.jsx)(b.bq,{children:(0,a.jsx)(b.yv,{placeholder:"Choose a user to add"})}),(0,a.jsx)(b.gC,{children:N.map(e=>(0,a.jsxs)(b.eb,{value:e._id,children:[e.name," (",e.email,")"]},e._id))})]})]}),(0,a.jsx)("div",{className:"flex justify-end space-x-2",children:(0,a.jsx)(i.$,{onClick:k,disabled:!g||n,children:n?"Adding...":"Add User"})})]})]})]})]})]}),e.length>0?(0,a.jsxs)(o.XI,{children:[(0,a.jsx)(o.A0,{children:(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nd,{children:"Name"}),(0,a.jsx)(o.nd,{children:"Email"}),(0,a.jsx)(o.nd,{children:"User Group"}),(0,a.jsx)(o.nd,{children:"Status"}),(0,a.jsx)(o.nd,{children:"Actions"})]})}),(0,a.jsx)(o.BF,{children:e.map(e=>(0,a.jsxs)(o.Hj,{children:[(0,a.jsx)(o.nA,{className:"font-medium",children:e.name}),(0,a.jsx)(o.nA,{children:e.email}),(0,a.jsx)(o.nA,{children:e.userGroup?(0,a.jsx)(d.E,{variant:"outline",children:e.userGroup.name}):(0,a.jsx)("span",{className:"text-muted-foreground",children:"No group"})}),(0,a.jsx)(o.nA,{children:(0,a.jsx)(d.E,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,a.jsx)(o.nA,{children:(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>z(e._id),disabled:A===e._id,children:[(0,a.jsx)(m,{className:"mr-2 h-4 w-4"}),A===e._id?"Removing...":"Remove"]})})]},e._id))})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(p,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No users assigned to this project yet."}),N.length>0&&(0,a.jsx)("p",{className:"text-sm mt-2",children:'Click "Add User" to assign users to this project.'})]})]})}},91919:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(59384).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},94735:e=>{"use strict";e.exports=require("events")},95913:(e,r,t)=>{"use strict";t.r(r),t.d(r,{"7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c":()=>a.m3,"7f0c88e06b3bad703ae193f0f52e050d3be0abe413":()=>a.JQ,"7f155da1409e4ef0577db35c164a36a9bddb7d2795":()=>o.TK,"7f49e83c0165e8d5d7cc80af01d567c6c8a92d2389":()=>a.lD,"7f5970b6c0de47a93832f40328853e89a90fa24ad4":()=>a.xr,"7f68161127c85106803fcda82647b2d9e276c8bebc":()=>o.kl,"7f83ba3685a4f6947f5e5fde0aa6dc8541b24746d0":()=>o.lo,"7f922df92c230b795598e30cad6e1589c7b6e93962":()=>a.oU,"7fac1e6f69684577729c62c70547d5c2bba4a86072":()=>a.eq,"7fb018cc823e171de450c7c5d722fd8e4049baedec":()=>a.tC,"7fbb8e4164106ecb89672208ff12b7e157dde22a52":()=>a.G6,"7fbf8ceed367c04425332882ac1b853950c858c14a":()=>s.j,"7fcacaf4d942fb25f7ee111fc3a1964d895c639f4b":()=>a.xx,"7fd41f73ef47ddd37eae3958acef989ce7663c1696":()=>o.hG,"7fdc65967da6e1c64afb55a4baba88495fddfa28df":()=>a.By,"7fe0d69028a6b867e14e2d0db090f4128df0f46202":()=>o.nu,"7fe8be6f50d158bd0073e6601575b8573865633d7e":()=>a.vr});var a=t(90546),s=t(82553),o=t(24298)},96783:(e,r,t)=>{"use strict";t.d(r,{Cf:()=>u,L3:()=>p,c7:()=>f,lG:()=>d,rr:()=>h,zM:()=>n});var a=t(82966);t(4535);var s=t(86251),o=t(74771),i=t(83148);function d({...e}){return(0,a.jsx)(s.bL,{"data-slot":"dialog",...e})}function n({...e}){return(0,a.jsx)(s.l9,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,a.jsx)(s.ZL,{"data-slot":"dialog-portal",...e})}function c({className:e,...r}){return(0,a.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function u({className:e,children:r,showCloseButton:t=!0,...d}){return(0,a.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...d,children:[r,t&&(0,a.jsxs)(s.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function f({className:e,...r}){return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function p({className:e,...r}){return(0,a.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",e),...r})}function h({className:e,...r}){return(0,a.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",e),...r})}}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[6442,3174,7063,3805,9667,8910,1533,2998,6424,4901,4723,1407,6436,9673,7513,2904,346],()=>t(68253));module.exports=a})();