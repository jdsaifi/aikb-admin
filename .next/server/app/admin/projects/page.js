(()=>{var e={};e.id=3321,e.ids=[3321],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12251:(e,r,s)=>{"use strict";s.d(r,{z:()=>c});var t=s(82966),n=s(31533),i=s.n(n),a=s(83148);function c({href:e,children:r,className:s}){return(0,t.jsx)(i(),{href:e,className:(0,a.cn)("hover:underline hover:text-blue-500 hover:cursor-pointer text-blue-500",s),children:r})}},12412:e=>{"use strict";e.exports=require("assert")},16599:(e,r,s)=>{"use strict";s.d(r,{N:()=>i});var t=s(82966),n=s(4535);function i({date:e}){let[r,s]=(0,n.useState)("");return(0,t.jsx)("span",{children:r})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22207:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>o});var t=s(38756),n=s(71739),i=s(98483),a=s.n(i),c=s(53100),d={};for(let e in c)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>c[e]);s.d(r,d);let o={children:["",{children:["admin",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,45761)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,62911)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,62615)),"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,92945,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9932,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,73469,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,91941))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/app/admin/projects/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/projects/page",pathname:"/admin/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},22489:(e,r,s)=>{"use strict";s.d(r,{ProjectTable:()=>h});var t=s(82966),n=s(56995),i=s(47358),a=s(79155),c=s(31533),d=s.n(c),o=s(12251),l=s(43043),p=s(16599),u=s(42239),f=s(4535),j=s(48736),x=s(75960);function h({projects:e,userPermissions:r,userRole:s,deleteProject:c}){let h=(0,j.useRouter)(),[m,b]=(0,f.useTransition)(),[v,P]=(0,f.useState)(!1),[y,g]=(0,f.useState)(null),w=(0,l.Yj)(["projects.edit"],r,s),q=(0,l.Yj)(["projects.delete"],r,s),A=(0,l.Yj)(["projects.view"],r,s),_=(0,l.Yj)(["projects.users.view"],r,s);(0,l.Yj)(["projects.calls.view"],r,s);let C=e=>{P(!0),g(e)};return(0,t.jsxs)("div",{children:[(0,t.jsxs)(n.XI,{children:[(0,t.jsx)(n.A0,{children:(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nd,{children:"Name"}),(0,t.jsx)(n.nd,{children:"Description"}),(0,t.jsx)(n.nd,{children:"Company"}),(0,t.jsx)(n.nd,{children:"Created By"}),(0,t.jsx)(n.nd,{children:"Created At"}),(0,t.jsx)(n.nd,{children:"..."})]})}),(0,t.jsx)(n.BF,{children:e.map(e=>(0,t.jsxs)(n.Hj,{children:[(0,t.jsx)(n.nA,{children:(0,t.jsx)(o.z,{href:`/admin/projects/${e.id}/edit`,children:e.name})}),(0,t.jsx)(n.nA,{children:e.description}),(0,t.jsx)(n.nA,{children:e.company&&e.company.name}),(0,t.jsx)(n.nA,{children:e.createdBy&&e.createdBy.name}),(0,t.jsx)(n.nA,{children:(0,t.jsx)(p.N,{date:e.createdAt})}),(0,t.jsx)(n.nA,{children:(0,t.jsxs)(i.rI,{children:[(0,t.jsx)(i.ty,{asChild:!0,children:(0,t.jsx)(a.$,{variant:"outline",children:"Action"})}),(0,t.jsxs)(i.SQ,{className:"w-56",align:"start",children:[(0,t.jsx)(i.lp,{children:"Actions"}),(0,t.jsxs)(i.I,{children:[w&&(0,t.jsx)(i._2,{children:(0,t.jsx)(d(),{href:`/admin/projects/${e.id}/edit`,className:"cursor-pointer w-full",children:"Edit"})}),q&&(0,t.jsx)(i._2,{className:"cursor-pointer w-full",onClick:()=>C(e.id),children:"Delete"})]}),_&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.mB,{}),(0,t.jsx)(i._2,{children:(0,t.jsx)(d(),{href:`/admin/projects/${e.id}/users`,children:"Manage Users"})})]}),A&&(0,t.jsx)(i._2,{children:(0,t.jsx)(d(),{href:`/admin/projects/${e.id}/calls`,className:"cursor-pointer w-full",children:"Manage Calls"})})]})]})})]},e.id))})]}),(0,t.jsx)(u.C,{open:v,onOpenChange:P,onConfirm:()=>{b(async()=>{console.log("result: ",await c(y)),P(!1),g(null),x.oR.success("Project deleted successfully"),h.refresh()})},loading:m})]})}},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34626:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,31533,23)),Promise.resolve().then(s.bind(s,38501)),Promise.resolve().then(s.bind(s,22489)),Promise.resolve().then(s.bind(s,80174)),Promise.resolve().then(s.bind(s,70303))},38380:(e,r,s)=>{"use strict";s.d(r,{ProjectTable:()=>t});let t=(0,s(32120).registerClientReference)(function(){throw Error("Attempted to call ProjectTable() from the server but ProjectTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/project-table.tsx","ProjectTable")},45761:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>h,dynamic:()=>x});var t=s(69284),n=s(46919),i=s.n(n),a=s(86557),c=s(13585),d=s(77457),o=s(90546),l=s(94535),p=s(38380),u=s(50546),f=s(63636),j=s(26236);let x="force-dynamic";async function h(){try{let e=await (0,j.j2)(),r=e?.permissions||[],s=e?.user?.role,n=await (0,o.JQ)();console.log("\n\n\n\nprojects: ",n);let l=await (0,f.SG)(["projects.create"]);return console.log("\n\n\n\n\n\ncanCreateProject: ",l),(0,t.jsxs)(d.f,{breadcrumbs:(0,t.jsx)(u.Qp,{children:(0,t.jsxs)(u.AB,{children:[(0,t.jsx)(u.J5,{children:(0,t.jsx)(u.tJ,{className:"line-clamp-1",children:"Projects"})}),(0,t.jsx)(u.tH,{}),(0,t.jsx)(u.J5,{children:(0,t.jsx)(u.tJ,{className:"line-clamp-1",children:"List"})})]})}),children:[await (0,f.SG)(["projects.create"])&&(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(c.$,{variant:"outline",asChild:!0,children:(0,t.jsxs)(i(),{href:"/admin/projects/add",children:[(0,t.jsx)(a.A,{className:"mr-2 h-4 w-4"}),"Add Project"]})})}),(0,t.jsx)("div",{className:"flex flex-col gap-4 mt-5",children:n.length>0?(0,t.jsx)(p.ProjectTable,{projects:n,userPermissions:r,userRole:s||"",deleteProject:o.xx}):(0,t.jsx)("div",{className:"flex flex-col gap-4 text-center bg-muted p-5 rounded-md",children:(0,t.jsx)("p",{children:"No projects found"})})})]})}catch(e){console.error(e),(0,l.notFound)()}}},46922:(e,r,s)=>{"use strict";s.r(r),s.d(r,{"7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c":()=>t.m3,"7f0c88e06b3bad703ae193f0f52e050d3be0abe413":()=>t.JQ,"7f143444e3e400671830be6ce02b3ff1d3e9dbf1cc":()=>i.N$,"7f228af614aba0103daf10d4c57416d697ff32364b":()=>i.$$,"7f49e83c0165e8d5d7cc80af01d567c6c8a92d2389":()=>t.lD,"7f5970b6c0de47a93832f40328853e89a90fa24ad4":()=>t.xr,"7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2":()=>i.xA,"7f804d520220bdd31092be9af94ca7c8191040f035":()=>i.ip,"7f922df92c230b795598e30cad6e1589c7b6e93962":()=>t.oU,"7fac1e6f69684577729c62c70547d5c2bba4a86072":()=>t.eq,"7fb018cc823e171de450c7c5d722fd8e4049baedec":()=>t.tC,"7fbb8e4164106ecb89672208ff12b7e157dde22a52":()=>t.G6,"7fbf8ceed367c04425332882ac1b853950c858c14a":()=>n.j,"7fcacaf4d942fb25f7ee111fc3a1964d895c639f4b":()=>t.xx,"7fdc65967da6e1c64afb55a4baba88495fddfa28df":()=>t.By,"7fdffce87a84d5c83ee3356c6e33814b2d8fad3291":()=>i.SG,"7fe8be6f50d158bd0073e6601575b8573865633d7e":()=>t.vr});var t=s(90546),n=s(82553),i=s(63636)},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66170:(e,r,s)=>{Promise.resolve().then(s.t.bind(s,46919,23)),Promise.resolve().then(s.bind(s,60910)),Promise.resolve().then(s.bind(s,38380)),Promise.resolve().then(s.bind(s,2376)),Promise.resolve().then(s.bind(s,71913))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[6442,3174,7063,3805,9667,8910,1533,2998,6424,4901,4723,7513,2904,4946],()=>s(22207));module.exports=t})();