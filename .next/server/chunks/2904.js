"use strict";exports.id=2904,exports.ids=[2904],exports.modules={2376:(e,r,t)=>{t.d(r,{Separator:()=>o});let o=(0,t(32120).registerClientReference)(function(){throw Error("Attempted to call Separator() from the server but Separator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/separator.tsx","Separator")},26236:(e,r,t)=>{t.d(r,{j2:()=>d,Y9:()=>m});var o=t(57950),n=t(82553),s=t(92574),a=t(59577),i=t(3052),p=t(39209);async function l(e,r){try{return(await s.A.post("/auth/login",{email:e,password:r})).data}catch(e){if("errorData"in e){console.log("\n\n\nauthenticate error:",e.errorData);let r="Failed to authenticate user.";throw e.errorData?.error?.messages?.[0]?r=e.errorData.error.messages[0]:e.errorData?.messages?.[0]?r=e.errorData.messages[0]:e.errorData?.message?r=e.errorData.message:e.message&&(r=e.message),Error(r)}throw Error("Failed to authenticate user.")}}let{auth:d,signIn:c,signOut:b,handlers:m}=(0,o.Ay)({...{session:{strategy:"jwt",maxAge:2592e3},pages:{signIn:"/login"},callbacks:{async signIn({user:e,account:r,profile:t,email:o,credentials:s}){if(console.log("\n\n\nuser from signIn: ",e),console.log("\n\n\naccount from signIn: ",r),console.log("\n\n\nprofile from signIn: ",t),console.log("\n\n\nemail from signIn: ",o),console.log("\n\n\ncredentials from signIn: ",s),r?.provider==="google"){let r={email:e.email,name:e.name,authProvider:"google",googleId:t?.sub,emailVerified:!0},o=await (0,n.j)(r);if(o?.length>0&&o[0].token){console.log("\n\n\nuserRes from signIn: ",o);let r=o[0].user;return e.id=r._id,e.authProvider="google",e.name=r.name,e.email=r.email,e.token=o[0].token,e.userInfo=r,!0}return!1}return!0},jwt:async({token:e,user:r})=>(r&&(e.user=r?.userInfo,e.jwt=r?.token||e.jwt),e),async session({session:e,token:r}){let t=r.user;e.user=t,e.jwt=r.jwt,e.permissions=[];let{userGroup:o}=t;if(o){let r=o?.permissions;if(r)for(let t of r){let r=t?.module?.name;r&&t?.actions?.forEach(t=>{e.permissions.push(`${r.toLowerCase()}.${t?.toLowerCase()}`)})}}return e},authorized({auth:e,request:{nextUrl:r}}){let t=!!e?.user,o="/login"===r.pathname;return t||o?t&&o?"admin"===e.user?.role?Response.redirect(new URL("/admin/dashboard",r)):Response.redirect(new URL("/",r)):"/"!==r.pathname||("admin"===e?.user?.role?Response.redirect(new URL("/admin/dashboard",r)):Response.redirect(new URL("/",r))):Response.redirect(new URL("/login",r))}},providers:[]},providers:[(0,a.A)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},authorize:async e=>{let r=p.Ik({email:p.Yj().email(),password:p.Yj().min(6)}).safeParse(e);if(r.success){let{email:e,password:t}=r.data,o=await l(e,t);if(!o)return null;if("success"===o.status){let e=o.data[0].user;return{id:e._id,name:e.name,email:e.email,token:o.data[0].token,userInfo:e}}}return null}}),(0,i.A)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET})]})},40214:(e,r,t)=>{t.d(r,{cn:()=>s});var o=t(27172),n=t(17892);function s(...e){return(0,n.QP)((0,o.$)(e))}},50546:(e,r,t)=>{t.d(r,{AB:()=>p,J5:()=>l,Qp:()=>i,tH:()=>b,tJ:()=>c,w1:()=>d});var o=t(69284);t(57885);var n=t(63705),s=t(17993),a=t(40214);function i({...e}){return(0,o.jsx)("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function p({className:e,...r}){return(0,o.jsx)("ol",{"data-slot":"breadcrumb-list",className:(0,a.cn)("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...r})}function l({className:e,...r}){return(0,o.jsx)("li",{"data-slot":"breadcrumb-item",className:(0,a.cn)("inline-flex items-center gap-1.5",e),...r})}function d({asChild:e,className:r,...t}){let s=e?n.DX:"a";return(0,o.jsx)(s,{"data-slot":"breadcrumb-link",className:(0,a.cn)("hover:text-foreground transition-colors",r),...t})}function c({className:e,...r}){return(0,o.jsx)("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:(0,a.cn)("text-foreground font-normal",e),...r})}function b({children:e,className:r,...t}){return(0,o.jsx)("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:(0,a.cn)("[&>svg]:size-3.5",r),...t,children:e??(0,o.jsx)(s.A,{})})}},60910:(e,r,t)=>{t.d(r,{AppSidebar:()=>o});let o=(0,t(32120).registerClientReference)(function(){throw Error("Attempted to call AppSidebar() from the server but AppSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/app-sidebar.tsx","AppSidebar")},71913:(e,r,t)=>{t.r(r),t.d(r,{Sidebar:()=>n,SidebarContent:()=>s,SidebarFooter:()=>a,SidebarGroup:()=>i,SidebarGroupAction:()=>p,SidebarGroupContent:()=>l,SidebarGroupLabel:()=>d,SidebarHeader:()=>c,SidebarInput:()=>b,SidebarInset:()=>m,SidebarMenu:()=>u,SidebarMenuAction:()=>f,SidebarMenuBadge:()=>v,SidebarMenuButton:()=>h,SidebarMenuItem:()=>S,SidebarMenuSkeleton:()=>C,SidebarMenuSub:()=>g,SidebarMenuSubButton:()=>w,SidebarMenuSubItem:()=>j,SidebarProvider:()=>k,SidebarRail:()=>y,SidebarSeparator:()=>I,SidebarTrigger:()=>x,useSidebar:()=>A});var o=t(32120);let n=(0,o.registerClientReference)(function(){throw Error("Attempted to call Sidebar() from the server but Sidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","Sidebar"),s=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarContent() from the server but SidebarContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarContent"),a=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarFooter() from the server but SidebarFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarFooter"),i=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarGroup() from the server but SidebarGroup is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarGroup"),p=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarGroupAction() from the server but SidebarGroupAction is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarGroupAction"),l=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarGroupContent() from the server but SidebarGroupContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarGroupContent"),d=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarGroupLabel() from the server but SidebarGroupLabel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarGroupLabel"),c=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarHeader() from the server but SidebarHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarHeader"),b=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarInput() from the server but SidebarInput is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarInput"),m=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarInset() from the server but SidebarInset is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarInset"),u=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenu() from the server but SidebarMenu is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenu"),f=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuAction() from the server but SidebarMenuAction is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuAction"),v=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuBadge() from the server but SidebarMenuBadge is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuBadge"),h=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuButton() from the server but SidebarMenuButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuButton"),S=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuItem() from the server but SidebarMenuItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuItem"),C=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuSkeleton() from the server but SidebarMenuSkeleton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuSkeleton"),g=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuSub() from the server but SidebarMenuSub is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuSub"),w=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuSubButton() from the server but SidebarMenuSubButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuSubButton"),j=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarMenuSubItem() from the server but SidebarMenuSubItem is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarMenuSubItem"),k=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarProvider() from the server but SidebarProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarProvider"),y=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarRail() from the server but SidebarRail is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarRail"),I=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarSeparator() from the server but SidebarSeparator is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarSeparator"),x=(0,o.registerClientReference)(function(){throw Error("Attempted to call SidebarTrigger() from the server but SidebarTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","SidebarTrigger"),A=(0,o.registerClientReference)(function(){throw Error("Attempted to call useSidebar() from the server but useSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/ui/sidebar.tsx","useSidebar")},82553:(e,r,t)=>{t.d(r,{j:()=>a});var o=t(63073);t(64959);var n=t(92574),s=t(28551);let a=async e=>{try{return(await n.A.post("/auth/google-login",e)).data.data}catch(e){throw(e?.errorData).error.messages[0]}};(0,s.D)([a]),(0,o.A)(a,"7fbf8ceed367c04425332882ac1b853950c858c14a",null)},89726:(e,r,t)=>{t.d(r,{D:()=>a});var o=t(69284),n=t(2376),s=t(71913);function a({breadcrumbs:e}){return(0,o.jsx)("header",{className:"flex h-(--header-height) shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-(--header-height)",children:(0,o.jsxs)("div",{className:"flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6",children:[(0,o.jsx)(s.SidebarTrigger,{className:"-ml-1"}),(0,o.jsx)(n.Separator,{orientation:"vertical",className:"mx-2 data-[orientation=vertical]:h-4"}),e&&e,(0,o.jsx)("div",{className:"ml-auto flex items-center gap-2"})]})})}},92574:(e,r,t)=>{t.d(r,{A:()=>n});let o=t(76032).A.create({baseURL:"http://localhost:3047/api/v1",withCredentials:!0,headers:{"Content-Type":"application/json"},timeout:1e4});o.interceptors.response.use(e=>e,e=>Promise.reject({message:e.response?.data?.message||"Something went wrong",status:e.response?.status||500,originalError:e,errorData:e.response?.data}));let n=o}};