exports.id=6436,exports.ids=[6436],exports.modules={93:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{MutableRequestCookiesAdapter:function(){return p},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return d},areCookiesMutableInCurrentPhase:function(){return f},getModifiedCookieValues:function(){return l},responseCookiesToRequestCookies:function(){return y},wrapWithMutableAccessCheck:function(){return h}});let n=r(37554),i=r(31875),a=r(29294),s=r(63033);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class c{static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"clear":case"delete":case"set":return o.callable;default:return i.ReflectAdapter.get(e,t,r)}}})}}let u=Symbol.for("next.mutated.cookies");function l(e){let t=e[u];return t&&Array.isArray(t)&&0!==t.length?t:[]}function d(e,t){let r=l(t);if(0===r.length)return!1;let i=new n.ResponseCookies(e),a=i.getAll();for(let e of r)i.set(e);for(let e of a)i.set(e);return!0}class p{static wrap(e,t){let r=new n.ResponseCookies(new Headers);for(let t of e.getAll())r.set(t);let s=[],o=new Set,c=()=>{let e=a.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=r.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let r=new n.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}t(e)}},l=new Proxy(r,{get(e,t,r){switch(t){case u:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),l}finally{c()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),l}finally{c()}};default:return i.ReflectAdapter.get(e,t,r)}}});return l}}function h(e){let t=new Proxy(e,{get(e,r,n){switch(r){case"delete":return function(...r){return m("cookies().delete"),e.delete(...r),t};case"set":return function(...r){return m("cookies().set"),e.set(...r),t};default:return i.ReflectAdapter.get(e,r,n)}}});return t}function f(e){return"action"===e.phase}function m(e){if(!f((0,s.getExpectedRequestStore)(e)))throw new o}function y(e){let t=new n.RequestCookies(new Headers);for(let r of e.getAll())t.set(r);return t}},2367:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return i}});let n=r(29294);function i(e){let t=n.workAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context"),"__NEXT_ERROR_CODE",{value:"E468",enumerable:!1,configurable:!0});let{afterContext:r}=t;return r.after(e)}},3518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,a.isBailoutToCSRError)(t)||(0,c.isDynamicServerError)(t)||(0,o.isDynamicPostpone)(t)||(0,i.isPostpone)(t)||(0,n.isHangingPromiseRejectionError)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let n=r(10078),i=r(65431),a=r(86700),s=r(28880),o=r(76933),c=r(83415);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5641:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ACTION_SUFFIX:function(){return d},APP_DIR_ALIAS:function(){return C},CACHE_ONE_YEAR:function(){return E},DOT_NEXT_ALIAS:function(){return T},ESLINT_DEFAULT_DIRS:function(){return G},GSP_NO_RETURNED_VALUE:function(){return F},GSSP_COMPONENT_MEMBER_ERROR:function(){return z},GSSP_NO_RETURNED_VALUE:function(){return q},INFINITE_CACHE:function(){return S},INSTRUMENTATION_HOOK_FILENAME:function(){return R},MATCHED_PATH_HEADER:function(){return i},MIDDLEWARE_FILENAME:function(){return A},MIDDLEWARE_LOCATION_REGEXP:function(){return x},NEXT_BODY_SUFFIX:function(){return f},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return k},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return y},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return g},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return v},NEXT_CACHE_TAGS_HEADER:function(){return m},NEXT_CACHE_TAG_MAX_ITEMS:function(){return _},NEXT_CACHE_TAG_MAX_LENGTH:function(){return w},NEXT_DATA_SUFFIX:function(){return p},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return n},NEXT_META_SUFFIX:function(){return h},NEXT_QUERY_PARAM_PREFIX:function(){return r},NEXT_RESUME_HEADER:function(){return b},NON_STANDARD_NODE_ENV:function(){return Z},PAGES_DIR_ALIAS:function(){return P},PRERENDER_REVALIDATE_HEADER:function(){return a},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return s},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return H},ROOT_DIR_ALIAS:function(){return O},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return D},RSC_ACTION_ENCRYPTION_ALIAS:function(){return N},RSC_ACTION_PROXY_ALIAS:function(){return U},RSC_ACTION_VALIDATE_ALIAS:function(){return I},RSC_CACHE_WRAPPER_ALIAS:function(){return $},RSC_MOD_REF_PROXY_ALIAS:function(){return j},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SEGMENTS_DIR_SUFFIX:function(){return c},RSC_SEGMENT_SUFFIX:function(){return u},RSC_SUFFIX:function(){return l},SERVER_PROPS_EXPORT_ERROR:function(){return J},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return M},SERVER_PROPS_SSG_CONFLICT:function(){return W},SERVER_RUNTIME:function(){return X},SSG_FALLBACK_EXPORT_ERROR:function(){return V},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return L},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return K},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return B},WEBPACK_LAYERS:function(){return Q},WEBPACK_RESOURCE_QUERIES:function(){return ee}});let r="nxtP",n="nxtI",i="x-matched-path",a="x-prerender-revalidate",s="x-prerender-revalidate-if-generated",o=".prefetch.rsc",c=".segments",u=".segment.rsc",l=".rsc",d=".action",p=".json",h=".meta",f=".body",m="x-next-cache-tags",y="x-next-revalidated-tags",g="x-next-revalidate-tag-token",b="next-resume",_=128,w=256,v=1024,k="_N_T_",E=31536e3,S=0xfffffffe,A="middleware",x=`(?:src/)?${A}`,R="instrumentation",P="private-next-pages",T="private-dot-next",O="private-next-root-dir",C="private-next-app-dir",j="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",I="private-next-rsc-action-validate",U="private-next-rsc-server-reference",$="private-next-rsc-cache-wrapper",N="private-next-rsc-action-encryption",D="private-next-rsc-action-client-wrapper",H="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",L="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",M="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",W="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",K="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",J="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",F="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",q="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",B="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",z="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",Z='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',V="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",G=["app","pages","components","lib","src"],X={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Y={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"},Q={...Y,GROUP:{builtinReact:[Y.reactServerComponents,Y.actionBrowser],serverOnly:[Y.reactServerComponents,Y.actionBrowser,Y.instrument,Y.middleware],neutralTarget:[Y.apiNode,Y.apiEdge],clientOnly:[Y.serverSideRendering,Y.appPagesBrowser],bundled:[Y.reactServerComponents,Y.actionBrowser,Y.serverSideRendering,Y.appPagesBrowser,Y.shared,Y.instrument,Y.middleware],appPages:[Y.reactServerComponents,Y.serverSideRendering,Y.appPagesBrowser,Y.actionBrowser]}},ee={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},8797:(e,t,r)=>{"use strict";function n(e){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:e}}r.d(t,{A:()=>n})},17774:(e,t)=>{"use strict";function r(e,t){let r;if((null==t?void 0:t.host)&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return r}})},19786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=a?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(n,s,o):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(73346));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}let a={current:null},s="function"==typeof n.cache?n.cache:e=>e,o=console.warn;function c(e){return function(...t){o(e(...t))}}s(e=>{try{o(a.current)}finally{a.current=null}})},19943:(e,t,r)=>{"use strict";let n=r(63033),i=r(29294),a=r(76933),s=r(19786),o=r(3497),c=r(83415);function u(){let e=i.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();switch((!e||!t)&&(0,n.throwForMissingRequestStore)("draftMode"),t.type){case"request":return l(t.draftMode,e);case"cache":case"unstable-cache":let r=(0,n.getDraftModeProviderForCacheScope)(e,t);if(r)return l(r,e);case"prerender":case"prerender-ppr":case"prerender-legacy":return p(null);default:return t}}function l(e,t){let r,n=d.get(u);return n||(r=p(e),d.set(e,r),r)}let d=new WeakMap;function p(e){let t=new h(e),r=Promise.resolve(t);return Object.defineProperty(r,"isEnabled",{get:()=>t.isEnabled,set(e){Object.defineProperty(r,"isEnabled",{value:e,writable:!0,enumerable:!0})},enumerable:!0,configurable:!0}),r.enable=t.enable.bind(t),r.disable=t.disable.bind(t),r}class h{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){m("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){m("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}let f=(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E377",enumerable:!1,configurable:!0})});function m(e){let t=i.workAsyncStorage.getStore(),r=n.workUnitAsyncStorage.getStore();if(t){if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E246",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E259",enumerable:!1,configurable:!0});else if("after"===r.phase)throw Object.defineProperty(Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E348",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E553",enumerable:!1,configurable:!0});if(r){if("prerender"===r.type){let n=Object.defineProperty(Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`),"__NEXT_ERROR_CODE",{value:"E126",enumerable:!1,configurable:!0});(0,a.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,n,r)}else if("prerender-ppr"===r.type)(0,a.postponeWithTracking)(t.route,e,r.dynamicTracking);else if("prerender-legacy"===r.type){r.revalidate=0;let n=Object.defineProperty(new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw t.dynamicUsageDescription=e,t.dynamicUsageStack=n.stack,n}}}}},23446:(e,t,r)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return d}});let n=r(64814),i=r(29294),a=r(63033),s=r(76933),o=r(3497),c=r(10078),u=r(19786),l=(r(52485),r(57043));function d(){let e=i.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,l.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E367",enumerable:!1,configurable:!0});if(e.forceStatic)return h(n.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E304",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E127",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E525",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type){var r=e.route,u=t;let n=p.get(u);if(n)return n;let i=(0,c.makeHangingPromise)(u.renderSignal,"`headers()`");return p.set(u,i),Object.defineProperties(i,{append:{value:function(){let e=`\`headers().append(${f(arguments[0])}, ...)\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},delete:{value:function(){let e=`\`headers().delete(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},get:{value:function(){let e=`\`headers().get(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},has:{value:function(){let e=`\`headers().has(${f(arguments[0])})\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},set:{value:function(){let e=`\`headers().set(${f(arguments[0])}, ...)\``,t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},getSetCookie:{value:function(){let e="`headers().getSetCookie()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},forEach:{value:function(){let e="`headers().forEach(...)`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},keys:{value:function(){let e="`headers().keys()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},values:{value:function(){let e="`headers().values()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},entries:{value:function(){let e="`headers().entries()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}},[Symbol.iterator]:{value:function(){let e="`headers()[Symbol.iterator]()`",t=y(r,e);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(r,e,t,u)}}}),i}else"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("headers",e,t);(0,s.trackDynamicDataInDynamicRender)(e,t)}return h((0,a.getExpectedRequestStore)("headers").headers)}let p=new WeakMap;function h(e){let t=p.get(e);if(t)return t;let r=Promise.resolve(e);return p.set(e,r),Object.defineProperties(r,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),r}function f(e){return"string"==typeof e?`'${e}'`:"..."}let m=(0,u.createDedupedByCallsiteServerErrorLoggerDev)(y);function y(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E277",enumerable:!1,configurable:!0})}},28880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return a}});let n=r(49676),i=r(87232);function a(e){return(0,i.isRedirectError)(e)||(0,n.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},29246:(e,t,r)=>{"use strict";function n(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}r.d(t,{A:()=>n})},29841:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ImageResponse:function(){return n.ImageResponse},NextRequest:function(){return i.NextRequest},NextResponse:function(){return a.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return c.after},connection:function(){return u.connection},unstable_rootParams:function(){return l.unstable_rootParams},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let n=r(39320),i=r(92432),a=r(33052),s=r(86576),o=r(57273),c=r(72509),u=r(70272),l=r(43763)},30870:(e,t,r)=>{"use strict";var n,i,a,s;let o;r.d(t,{Ik:()=>eT,Yj:()=>eP}),function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},e.getValidEnumValues=t=>{let r=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),n={};for(let e of r)n[e]=t[e];return e.objectValues(n)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(let r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(n||(n={})),(i||(i={})).mergeShapes=(e,t)=>({...e,...t});let c=n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),u=e=>{switch(typeof e){case"undefined":return c.undefined;case"string":return c.string;case"number":return Number.isNaN(e)?c.nan:c.number;case"boolean":return c.boolean;case"function":return c.function;case"bigint":return c.bigint;case"symbol":return c.symbol;case"object":if(Array.isArray(e))return c.array;if(null===e)return c.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return c.promise;if("undefined"!=typeof Map&&e instanceof Map)return c.map;if("undefined"!=typeof Set&&e instanceof Set)return c.set;if("undefined"!=typeof Date&&e instanceof Date)return c.date;return c.object;default:return c.unknown}},l=n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class d extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof d))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,n.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)if(n.path.length>0){let r=n.path[0];t[r]=t[r]||[],t[r].push(e(n))}else r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}d.create=e=>new d(e);let p=(e,t)=>{let r;switch(e.code){case l.invalid_type:r=e.received===c.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case l.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,n.jsonStringifyReplacer)}`;break;case l.unrecognized_keys:r=`Unrecognized key(s) in object: ${n.joinValues(e.keys,", ")}`;break;case l.invalid_union:r="Invalid input";break;case l.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${n.joinValues(e.options)}`;break;case l.invalid_enum_value:r=`Invalid enum value. Expected ${n.joinValues(e.options)}, received '${e.received}'`;break;case l.invalid_arguments:r="Invalid function arguments";break;case l.invalid_return_type:r="Invalid function return type";break;case l.invalid_date:r="Invalid date";break;case l.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:n.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case l.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case l.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case l.custom:r="Invalid input";break;case l.invalid_intersection_types:r="Intersection results could not be merged";break;case l.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case l.not_finite:r="Number must be finite";break;default:r=t.defaultError,n.assertNever(e)}return{message:r}};!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:e?.message}(a||(a={}));let h=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(void 0!==i.message)return{...i,path:a,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...i,path:a,message:o}};function f(e,t){let r=h({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,p,p==p?void 0:p].filter(e=>!!e)});e.common.issues.push(r)}class m{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return y;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return m.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return y;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let y=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),b=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,w=e=>"dirty"===e.status,v=e=>"valid"===e.status,k=e=>"undefined"!=typeof Promise&&e instanceof Promise;class E{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let S=(e,t)=>{if(v(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new d(e.common.issues);return this._error=t,this._error}}};function A(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{let{message:a}=e;return"invalid_enum_value"===t.code?{message:a??i.defaultError}:void 0===i.data?{message:a??n??i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:a??r??i.defaultError}},description:i}}class x{get description(){return this._def.description}_getType(e){return u(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new m,ctx:{common:e.parent.common,data:e.data,parsedType:u(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(k(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},n=this._parseSync({data:e,path:r.path,parent:r});return S(r,n)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return v(r)?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>v(e)?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:u(e)},n=this._parse({data:e,path:r.path,parent:r});return S(r,await (k(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),a=()=>n.addIssue({code:l.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(a(),!1)):!!i||(a(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new e_({schema:this,typeName:s.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return ew.create(this,this._def)}nullable(){return ev.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return er.create(this)}promise(){return eb.create(this,this._def)}or(e){return ei.create([this,e],this._def)}and(e){return eo.create(this,e,this._def)}transform(e){return new e_({...A(this._def),schema:this,typeName:s.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new ek({...A(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:s.ZodDefault})}brand(){return new eA({typeName:s.ZodBranded,type:this,...A(this._def)})}catch(e){return new eE({...A(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:s.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return ex.create(this,e)}readonly(){return eR.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let R=/^c[^\s-]{8,}$/i,P=/^[0-9a-z]+$/,T=/^[0-9A-HJKMNP-TV-Z]{26}$/i,O=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,C=/^[a-z0-9_-]{21}$/i,j=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,I=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,U=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,N=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,D=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,H=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,L=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,M=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",K=RegExp(`^${W}$`);function J(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class F extends x{_parse(e){var t,r,i,a;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==c.string){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.string,received:t.parsedType}),y}let u=new m;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(f(s=this._getOrReturnCtx(e,s),{code:l.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if("max"===c.kind)e.data.length>c.value&&(f(s=this._getOrReturnCtx(e,s),{code:l.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),u.dirty());else if("length"===c.kind){let t=e.data.length>c.value,r=e.data.length<c.value;(t||r)&&(s=this._getOrReturnCtx(e,s),t?f(s,{code:l.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):r&&f(s,{code:l.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),u.dirty())}else if("email"===c.kind)U.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"email",code:l.invalid_string,message:c.message}),u.dirty());else if("emoji"===c.kind)o||(o=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),o.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:l.invalid_string,message:c.message}),u.dirty());else if("uuid"===c.kind)O.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:l.invalid_string,message:c.message}),u.dirty());else if("nanoid"===c.kind)C.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:l.invalid_string,message:c.message}),u.dirty());else if("cuid"===c.kind)R.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:l.invalid_string,message:c.message}),u.dirty());else if("cuid2"===c.kind)P.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:l.invalid_string,message:c.message}),u.dirty());else if("ulid"===c.kind)T.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:l.invalid_string,message:c.message}),u.dirty());else if("url"===c.kind)try{new URL(e.data)}catch{f(s=this._getOrReturnCtx(e,s),{validation:"url",code:l.invalid_string,message:c.message}),u.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"regex",code:l.invalid_string,message:c.message}),u.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),u.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:{startsWith:c.value},message:c.message}),u.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:{endsWith:c.value},message:c.message}),u.dirty()):"datetime"===c.kind?(function(e){let t=`${W}T${J(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(c).test(e.data)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:"datetime",message:c.message}),u.dirty()):"date"===c.kind?K.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:"date",message:c.message}),u.dirty()):"time"===c.kind?RegExp(`^${J(c)}$`).test(e.data)||(f(s=this._getOrReturnCtx(e,s),{code:l.invalid_string,validation:"time",message:c.message}),u.dirty()):"duration"===c.kind?I.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"duration",code:l.invalid_string,message:c.message}),u.dirty()):"ip"===c.kind?(t=e.data,!(("v4"===(r=c.version)||!r)&&$.test(t)||("v6"===r||!r)&&D.test(t))&&1&&(f(s=this._getOrReturnCtx(e,s),{validation:"ip",code:l.invalid_string,message:c.message}),u.dirty())):"jwt"===c.kind?!function(e,t){if(!j.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));if("object"!=typeof i||null===i||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)return!1;return!0}catch{return!1}}(e.data,c.alg)&&(f(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:l.invalid_string,message:c.message}),u.dirty()):"cidr"===c.kind?(i=e.data,!(("v4"===(a=c.version)||!a)&&N.test(i)||("v6"===a||!a)&&H.test(i))&&1&&(f(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:l.invalid_string,message:c.message}),u.dirty())):"base64"===c.kind?L.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"base64",code:l.invalid_string,message:c.message}),u.dirty()):"base64url"===c.kind?M.test(e.data)||(f(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:l.invalid_string,message:c.message}),u.dirty()):n.assertNever(c);return{status:u.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:l.invalid_string,...a.errToObj(r)})}_addCheck(e){return new F({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...a.errToObj(e)})}url(e){return this._addCheck({kind:"url",...a.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...a.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...a.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...a.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...a.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...a.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...a.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...a.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...a.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...a.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...a.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...a.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...a.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...a.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...a.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...a.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...a.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...a.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...a.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...a.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...a.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...a.errToObj(t)})}nonempty(e){return this.min(1,a.errToObj(e))}trim(){return new F({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new F({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new F({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}F.create=e=>new F({checks:[],typeName:s.ZodString,coerce:e?.coerce??!1,...A(e)});class q extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==c.number){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.number,received:t.parsedType}),y}let r=new m;for(let i of this._def.checks)"int"===i.kind?n.isInteger(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:l.invalid_type,expected:"integer",received:"float",message:i.message}),r.dirty()):"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),r.dirty()):"multipleOf"===i.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return Number.parseInt(e.toFixed(i).replace(".",""))%Number.parseInt(t.toFixed(i).replace(".",""))/10**i}(e.data,i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:l.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(f(t=this._getOrReturnCtx(e,t),{code:l.not_finite,message:i.message}),r.dirty()):n.assertNever(i);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,a.toString(t))}gt(e,t){return this.setLimit("min",e,!1,a.toString(t))}lte(e,t){return this.setLimit("max",e,!0,a.toString(t))}lt(e,t){return this.setLimit("max",e,!1,a.toString(t))}setLimit(e,t,r,n){return new q({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:a.toString(n)}]})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:a.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:a.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:a.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:a.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:a.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:a.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:a.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:a.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:a.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&n.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}q.create=e=>new q({checks:[],typeName:s.ZodNumber,coerce:e?.coerce||!1,...A(e)});class B extends x{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==c.bigint)return this._getInvalidInput(e);let r=new m;for(let i of this._def.checks)"min"===i.kind?(i.inclusive?e.data<i.value:e.data<=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"max"===i.kind?(i.inclusive?e.data>i.value:e.data>=i.value)&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),r.dirty()):"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(f(t=this._getOrReturnCtx(e,t),{code:l.not_multiple_of,multipleOf:i.value,message:i.message}),r.dirty()):n.assertNever(i);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.bigint,received:t.parsedType}),y}gte(e,t){return this.setLimit("min",e,!0,a.toString(t))}gt(e,t){return this.setLimit("min",e,!1,a.toString(t))}lte(e,t){return this.setLimit("max",e,!0,a.toString(t))}lt(e,t){return this.setLimit("max",e,!1,a.toString(t))}setLimit(e,t,r,n){return new B({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:a.toString(n)}]})}_addCheck(e){return new B({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:a.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:a.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:a.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:a.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:a.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}B.create=e=>new B({checks:[],typeName:s.ZodBigInt,coerce:e?.coerce??!1,...A(e)});class z extends x{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==c.boolean){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.boolean,received:t.parsedType}),y}return b(e.data)}}z.create=e=>new z({typeName:s.ZodBoolean,coerce:e?.coerce||!1,...A(e)});class Z extends x{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==c.date){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.date,received:t.parsedType}),y}if(Number.isNaN(e.data.getTime()))return f(this._getOrReturnCtx(e),{code:l.invalid_date}),y;let r=new m;for(let i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(f(t=this._getOrReturnCtx(e,t),{code:l.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):n.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Z({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:a.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:a.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Z.create=e=>new Z({checks:[],coerce:e?.coerce||!1,typeName:s.ZodDate,...A(e)});class V extends x{_parse(e){if(this._getType(e)!==c.symbol){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.symbol,received:t.parsedType}),y}return b(e.data)}}V.create=e=>new V({typeName:s.ZodSymbol,...A(e)});class G extends x{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.undefined,received:t.parsedType}),y}return b(e.data)}}G.create=e=>new G({typeName:s.ZodUndefined,...A(e)});class X extends x{_parse(e){if(this._getType(e)!==c.null){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.null,received:t.parsedType}),y}return b(e.data)}}X.create=e=>new X({typeName:s.ZodNull,...A(e)});class Y extends x{constructor(){super(...arguments),this._any=!0}_parse(e){return b(e.data)}}Y.create=e=>new Y({typeName:s.ZodAny,...A(e)});class Q extends x{constructor(){super(...arguments),this._unknown=!0}_parse(e){return b(e.data)}}Q.create=e=>new Q({typeName:s.ZodUnknown,...A(e)});class ee extends x{_parse(e){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.never,received:t.parsedType}),y}}ee.create=e=>new ee({typeName:s.ZodNever,...A(e)});class et extends x{_parse(e){if(this._getType(e)!==c.undefined){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.void,received:t.parsedType}),y}return b(e.data)}}et.create=e=>new et({typeName:s.ZodVoid,...A(e)});class er extends x{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==c.array)return f(t,{code:l.invalid_type,expected:c.array,received:t.parsedType}),y;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(f(t,{code:e?l.too_big:l.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(f(t,{code:l.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(f(t,{code:l.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new E(t,e,t.path,r)))).then(e=>m.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new E(t,e,t.path,r)));return m.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new er({...this._def,minLength:{value:e,message:a.toString(t)}})}max(e,t){return new er({...this._def,maxLength:{value:e,message:a.toString(t)}})}length(e,t){return new er({...this._def,exactLength:{value:e,message:a.toString(t)}})}nonempty(e){return this.min(1,e)}}er.create=(e,t)=>new er({type:e,minLength:null,maxLength:null,exactLength:null,typeName:s.ZodArray,...A(t)});class en extends x{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=n.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==c.object){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.object,received:t.parsedType}),y}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof ee&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||a.push(e);let s=[];for(let e of i){let t=n[e],i=r.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new E(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ee){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of a)s.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)a.length>0&&(f(r,{code:l.unrecognized_keys,keys:a}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of a){let n=r.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new E(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>m.mergeObjectSync(t,e)):m.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return a.errToObj,new en({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let n=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:a.errToObj(e).message??n}:{message:n}}}:{}})}strip(){return new en({...this._def,unknownKeys:"strip"})}passthrough(){return new en({...this._def,unknownKeys:"passthrough"})}extend(e){return new en({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new en({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:s.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new en({...this._def,catchall:e})}pick(e){let t={};for(let r of n.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new en({...this._def,shape:()=>t})}omit(e){let t={};for(let r of n.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new en({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof en){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=ew.create(e(i))}return new en({...t._def,shape:()=>r})}if(t instanceof er)return new er({...t._def,type:e(t.element)});if(t instanceof ew)return ew.create(e(t.unwrap()));if(t instanceof ev)return ev.create(e(t.unwrap()));if(t instanceof ec)return ec.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of n.objectKeys(this.shape)){let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}return new en({...this._def,shape:()=>t})}required(e){let t={};for(let r of n.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ew;)e=e._def.innerType;t[r]=e}return new en({...this._def,shape:()=>t})}keyof(){return em(n.objectKeys(this.shape))}}en.create=(e,t)=>new en({shape:()=>e,unknownKeys:"strip",catchall:ee.create(),typeName:s.ZodObject,...A(t)}),en.strictCreate=(e,t)=>new en({shape:()=>e,unknownKeys:"strict",catchall:ee.create(),typeName:s.ZodObject,...A(t)}),en.lazycreate=(e,t)=>new en({shape:e,unknownKeys:"strip",catchall:ee.create(),typeName:s.ZodObject,...A(t)});class ei extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new d(e.ctx.common.issues));return f(t,{code:l.invalid_union,unionErrors:r}),y});{let e,n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},a=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===a.status)return a;"dirty"!==a.status||e||(e={result:a,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new d(e));return f(t,{code:l.invalid_union,unionErrors:i}),y}}get options(){return this._def.options}}ei.create=(e,t)=>new ei({options:e,typeName:s.ZodUnion,...A(t)});let ea=e=>{if(e instanceof eh)return ea(e.schema);if(e instanceof e_)return ea(e.innerType());if(e instanceof ef)return[e.value];if(e instanceof ey)return e.options;if(e instanceof eg)return n.objectValues(e.enum);else if(e instanceof ek)return ea(e._def.innerType);else if(e instanceof G)return[void 0];else if(e instanceof X)return[null];else if(e instanceof ew)return[void 0,...ea(e.unwrap())];else if(e instanceof ev)return[null,...ea(e.unwrap())];else if(e instanceof eA)return ea(e.unwrap());else if(e instanceof eR)return ea(e.unwrap());else if(e instanceof eE)return ea(e._def.innerType);else return[]};class es extends x{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.object)return f(t,{code:l.invalid_type,expected:c.object,received:t.parsedType}),y;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(f(t,{code:l.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),y)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=ea(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new es({typeName:s.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...A(r)})}}class eo extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=(e,i)=>{if(_(e)||_(i))return y;let a=function e(t,r){let i=u(t),a=u(r);if(t===r)return{valid:!0,data:t};if(i===c.object&&a===c.object){let i=n.objectKeys(r),a=n.objectKeys(t).filter(e=>-1!==i.indexOf(e)),s={...t,...r};for(let n of a){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(i===c.array&&a===c.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let a=e(t[i],r[i]);if(!a.valid)return{valid:!1};n.push(a.data)}return{valid:!0,data:n}}if(i===c.date&&a===c.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,i.value);return a.valid?((w(e)||w(i))&&t.dirty(),{status:t.value,value:a.data}):(f(r,{code:l.invalid_intersection_types}),y)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>i(e,t)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}eo.create=(e,t,r)=>new eo({left:e,right:t,typeName:s.ZodIntersection,...A(r)});class ec extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.array)return f(r,{code:l.invalid_type,expected:c.array,received:r.parsedType}),y;if(r.data.length<this._def.items.length)return f(r,{code:l.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),y;!this._def.rest&&r.data.length>this._def.items.length&&(f(r,{code:l.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new E(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>m.mergeArray(t,e)):m.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new ec({...this._def,rest:e})}}ec.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new ec({items:e,typeName:s.ZodTuple,rest:null,...A(t)})};class eu extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.object)return f(r,{code:l.invalid_type,expected:c.object,received:r.parsedType}),y;let n=[],i=this._def.keyType,a=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new E(r,e,r.path,e)),value:a._parse(new E(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?m.mergeObjectAsync(t,n):m.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new eu(t instanceof x?{keyType:e,valueType:t,typeName:s.ZodRecord,...A(r)}:{keyType:F.create(),valueType:e,typeName:s.ZodRecord,...A(t)})}}class el extends x{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.map)return f(r,{code:l.invalid_type,expected:c.map,received:r.parsedType}),y;let n=this._def.keyType,i=this._def.valueType,a=[...r.data.entries()].map(([e,t],a)=>({key:n._parse(new E(r,e,r.path,[a,"key"])),value:i._parse(new E(r,t,r.path,[a,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of a){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return y;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of a){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return y;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}el.create=(e,t,r)=>new el({valueType:t,keyType:e,typeName:s.ZodMap,...A(r)});class ed extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==c.set)return f(r,{code:l.invalid_type,expected:c.set,received:r.parsedType}),y;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(f(r,{code:l.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(f(r,{code:l.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function a(e){let r=new Set;for(let n of e){if("aborted"===n.status)return y;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let s=[...r.data.values()].map((e,t)=>i._parse(new E(r,e,r.path,t)));return r.common.async?Promise.all(s).then(e=>a(e)):a(s)}min(e,t){return new ed({...this._def,minSize:{value:e,message:a.toString(t)}})}max(e,t){return new ed({...this._def,maxSize:{value:e,message:a.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ed.create=(e,t)=>new ed({valueType:e,minSize:null,maxSize:null,typeName:s.ZodSet,...A(t)});class ep extends x{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==c.function)return f(t,{code:l.invalid_type,expected:c.function,received:t.parsedType}),y;function r(e,r){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,p,p].filter(e=>!!e),issueData:{code:l.invalid_arguments,argumentsError:r}})}function n(e,r){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,p,p].filter(e=>!!e),issueData:{code:l.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof eb){let e=this;return b(async function(...t){let s=new d([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw s.addIssue(r(t,e)),s}),c=await Reflect.apply(a,this,o);return await e._def.returns._def.type.parseAsync(c,i).catch(e=>{throw s.addIssue(n(c,e)),s})})}{let e=this;return b(function(...t){let s=e._def.args.safeParse(t,i);if(!s.success)throw new d([r(t,s.error)]);let o=Reflect.apply(a,this,s.data),c=e._def.returns.safeParse(o,i);if(!c.success)throw new d([n(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ep({...this._def,args:ec.create(e).rest(Q.create())})}returns(e){return new ep({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ep({args:e||ec.create([]).rest(Q.create()),returns:t||Q.create(),typeName:s.ZodFunction,...A(r)})}}class eh extends x{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}eh.create=(e,t)=>new eh({getter:e,typeName:s.ZodLazy,...A(t)});class ef extends x{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return f(t,{received:t.data,code:l.invalid_literal,expected:this._def.value}),y}return{status:"valid",value:e.data}}get value(){return this._def.value}}function em(e,t){return new ey({values:e,typeName:s.ZodEnum,...A(t)})}ef.create=(e,t)=>new ef({value:e,typeName:s.ZodLiteral,...A(t)});class ey extends x{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{expected:n.joinValues(r),received:t.parsedType,code:l.invalid_type}),y}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return f(t,{received:t.data,code:l.invalid_enum_value,options:r}),y}return b(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ey.create(e,{...this._def,...t})}exclude(e,t=this._def){return ey.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}ey.create=em;class eg extends x{_parse(e){let t=n.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==c.string&&r.parsedType!==c.number){let e=n.objectValues(t);return f(r,{expected:n.joinValues(e),received:r.parsedType,code:l.invalid_type}),y}if(this._cache||(this._cache=new Set(n.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=n.objectValues(t);return f(r,{received:r.data,code:l.invalid_enum_value,options:e}),y}return b(e.data)}get enum(){return this._def.values}}eg.create=(e,t)=>new eg({values:e,typeName:s.ZodNativeEnum,...A(t)});class eb extends x{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==c.promise&&!1===t.common.async?(f(t,{code:l.invalid_type,expected:c.promise,received:t.parsedType}),y):b((t.parsedType===c.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}eb.create=(e,t)=>new eb({type:e,typeName:s.ZodPromise,...A(t)});class e_ extends x{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===s.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:e=>{f(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),"preprocess"===i.type){let e=i.transform(r.data,a);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return y;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?y:"dirty"===n.status||"dirty"===t.value?g(n.value):n});{if("aborted"===t.value)return y;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?y:"dirty"===n.status||"dirty"===t.value?g(n.value):n}}if("refinement"===i.type){let e=e=>{let t=i.refinement(e,a);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?y:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?y:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===i.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>v(e)?Promise.resolve(i.transform(e.value,a)).then(e=>({status:t.value,value:e})):y);else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!v(e))return y;let n=i.transform(e.value,a);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}n.assertNever(i)}}e_.create=(e,t,r)=>new e_({schema:e,typeName:s.ZodEffects,effect:t,...A(r)}),e_.createWithPreprocess=(e,t,r)=>new e_({schema:t,effect:{type:"preprocess",transform:e},typeName:s.ZodEffects,...A(r)});class ew extends x{_parse(e){return this._getType(e)===c.undefined?b(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ew.create=(e,t)=>new ew({innerType:e,typeName:s.ZodOptional,...A(t)});class ev extends x{_parse(e){return this._getType(e)===c.null?b(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ev.create=(e,t)=>new ev({innerType:e,typeName:s.ZodNullable,...A(t)});class ek extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===c.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ek.create=(e,t)=>new ek({innerType:e,typeName:s.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...A(t)});class eE extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return k(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new d(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new d(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:s.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...A(t)});class eS extends x{_parse(e){if(this._getType(e)!==c.nan){let t=this._getOrReturnCtx(e);return f(t,{code:l.invalid_type,expected:c.nan,received:t.parsedType}),y}return{status:"valid",value:e.data}}}eS.create=e=>new eS({typeName:s.ZodNaN,...A(e)}),Symbol("zod_brand");class eA extends x{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ex extends x{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?y:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?y:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ex({in:e,out:t,typeName:s.ZodPipeline})}}class eR extends x{_parse(e){let t=this._def.innerType._parse(e),r=e=>(v(e)&&(e.value=Object.freeze(e.value)),e);return k(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}eR.create=(e,t)=>new eR({innerType:e,typeName:s.ZodReadonly,...A(t)}),en.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(s||(s={}));let eP=F.create;q.create,eS.create,B.create,z.create,Z.create,V.create,G.create,X.create,Y.create,Q.create,ee.create,et.create,er.create;let eT=en.create;en.strictCreate,ei.create,es.create,eo.create,ec.create,eu.create,el.create,ed.create,ep.create,eh.create,ef.create,ey.create,eg.create,eb.create,e_.create,ew.create,ev.create,e_.createWithPreprocess,ex.create},31875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return r}});class r{static get(e,t,r){let n=Reflect.get(e,t,r);return"function"==typeof n?n.bind(e):n}static set(e,t,r,n){return Reflect.set(e,t,r,n)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},33011:(e,t,r)=>{"use strict";r.d(t,{pe:()=>i});let{Axios:n,AxiosError:i,CanceledError:a,isCancel:s,CancelToken:o,VERSION:c,all:u,Cancel:l,isAxiosError:d,spread:p,toFormData:h,AxiosHeaders:f,HttpStatusCode:m,formToJSON:y,getAdapter:g,mergeConfig:b}=r(75886).A},33052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return d}});let n=r(37554),i=r(91564),a=r(66894),s=r(31875),o=r(37554),c=Symbol("internal response"),u=new Set([301,302,303,307,308]);function l(e,t){var r;if(null==e||null==(r=e.request)?void 0:r.headers){if(!(e.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let r=[];for(let[n,i]of e.request.headers)t.set("x-middleware-request-"+n,i),r.push(n);t.set("x-middleware-override-headers",r.join(","))}}class d extends Response{constructor(e,t={}){super(e,t);let r=this.headers,u=new Proxy(new o.ResponseCookies(r),{get(e,i,a){switch(i){case"delete":case"set":return(...a)=>{let s=Reflect.apply(e[i],e,a),c=new Headers(r);return s instanceof o.ResponseCookies&&r.set("x-middleware-set-cookie",s.getAll().map(e=>(0,n.stringifyCookie)(e)).join(",")),l(t,c),s};default:return s.ReflectAdapter.get(e,i,a)}}});this[c]={cookies:u,url:t.url?new i.NextURL(t.url,{headers:(0,a.toNodeOutgoingHttpHeaders)(r),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let r=Response.json(e,t);return new d(r.body,r)}static redirect(e,t){let r="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!u.has(r))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let n="object"==typeof t?t:{},i=new Headers(null==n?void 0:n.headers);return i.set("Location",(0,a.validateURL)(e)),new d(null,{...n,headers:i,status:r})}static rewrite(e,t){let r=new Headers(null==t?void 0:t.headers);return r.set("x-middleware-rewrite",(0,a.validateURL)(e)),l(t,r),new d(null,{...t,headers:r})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),l(e,t),new d(null,{...e,headers:t})}}},33571:e=>{"use strict";var t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a={};function s(e){var t;let r=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),n=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===r.length?n:`${n}; ${r.join("; ")}`}function o(e){let t=new Map;for(let r of e.split(/; */)){if(!r)continue;let e=r.indexOf("=");if(-1===e){t.set(r,"true");continue}let[n,i]=[r.slice(0,e),r.slice(e+1)];try{t.set(n,decodeURIComponent(null!=i?i:"true"))}catch{}}return t}function c(e){if(!e)return;let[[t,r],...n]=o(e),{domain:i,expires:a,httponly:s,maxage:c,path:d,samesite:p,secure:h,partitioned:f,priority:m}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));{var y,g,b={name:t,value:decodeURIComponent(r),domain:i,...a&&{expires:new Date(a)},...s&&{httpOnly:!0},..."string"==typeof c&&{maxAge:Number(c)},path:d,...p&&{sameSite:u.includes(y=(y=p).toLowerCase())?y:void 0},...h&&{secure:!0},...m&&{priority:l.includes(g=(g=m).toLowerCase())?g:void 0},...f&&{partitioned:!0}};let e={};for(let t in b)b[t]&&(e[t]=b[t]);return e}}((e,r)=>{for(var n in r)t(e,n,{get:r[n],enumerable:!0})})(a,{RequestCookies:()=>d,ResponseCookies:()=>p,parseCookie:()=>o,parseSetCookie:()=>c,stringifyCookie:()=>s}),e.exports=((e,a,s,o)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let c of n(a))i.call(e,c)||c===s||t(e,c,{get:()=>a[c],enumerable:!(o=r(a,c))||o.enumerable});return e})(t({},"__esModule",{value:!0}),a);var u=["strict","lax","none"],l=["low","medium","high"],d=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,r]of o(t))this._parsed.set(e,{name:e,value:r})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed);if(!e.length)return r.map(([e,t])=>t);let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(([e])=>e===n).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,r]=1===e.length?[e[0].name,e[0].value]:e,n=this._parsed;return n.set(t,{name:t,value:r}),this._headers.set("cookie",Array.from(n).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,r=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),r}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},p=class{constructor(e){var t,r,n;this._parsed=new Map,this._headers=e;let i=null!=(n=null!=(r=null==(t=e.getSetCookie)?void 0:t.call(e))?r:e.get("set-cookie"))?n:[];for(let e of Array.isArray(i)?i:function(e){if(!e)return[];var t,r,n,i,a,s=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;c();)if(","===(r=e.charAt(o))){for(n=o,o+=1,c(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(i)){let t=c(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let r=Array.from(this._parsed.values());if(!e.length)return r;let n="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return r.filter(e=>e.name===n)}has(e){return this._parsed.has(e)}set(...e){let[t,r,n]=1===e.length?[e[0].name,e[0].value,e[0]]:e,i=this._parsed;return i.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:r,...n})),function(e,t){for(let[,r]of(t.delete("set-cookie"),e)){let e=s(r);t.append("set-cookie",e)}}(i,this._headers),this}delete(...e){let[t,r]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...r,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},34215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return n}});let n=r(3518).unstable_rethrow;("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37083:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{PageSignatureError:function(){return r},RemovedPageError:function(){return n},RemovedUAError:function(){return i}});class r extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class n extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class i extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},37554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RequestCookies:function(){return n.RequestCookies},ResponseCookies:function(){return n.ResponseCookies},stringifyCookie:function(){return n.stringifyCookie}});let n=r(33571)},39320:(e,t)=>{"use strict";function r(){throw Object.defineProperty(Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead'),"__NEXT_ERROR_CODE",{value:"E183",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return r}})},43763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rootParams",{enumerable:!0,get:function(){return l}});let n=r(76205),i=r(76933),a=r(29294),s=r(63033),o=r(10078),c=r(50469),u=new WeakMap;async function l(){let e=a.workAsyncStorage.getStore();if(!e)throw Object.defineProperty(new n.InvariantError("Missing workStore in unstable_rootParams"),"__NEXT_ERROR_CODE",{value:"E615",enumerable:!1,configurable:!0});let t=s.workUnitAsyncStorage.getStore();if(!t)throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` in Pages Router. This API is only available within App Router.`),"__NEXT_ERROR_CODE",{value:"E641",enumerable:!1,configurable:!0});switch(t.type){case"unstable-cache":case"cache":throw Object.defineProperty(Error(`Route ${e.route} used \`unstable_rootParams()\` inside \`"use cache"\` or \`unstable_cache\`. Support for this API inside cache scopes is planned for a future version of Next.js.`),"__NEXT_ERROR_CODE",{value:"E642",enumerable:!1,configurable:!0});case"prerender":case"prerender-ppr":case"prerender-legacy":return function(e,t,r){let n=t.fallbackRouteParams;if(n){let p=!1;for(let t in e)if(n.has(t)){p=!0;break}if(p){if("prerender"===r.type){let t=u.get(e);if(t)return t;let n=(0,o.makeHangingPromise)(r.renderSignal,"`unstable_rootParams`");return u.set(e,n),n}var a=e,s=n,l=t,d=r;let p=u.get(a);if(p)return p;let h={...a},f=Promise.resolve(h);return u.set(a,f),Object.keys(a).forEach(e=>{c.wellKnownProperties.has(e)||(s.has(e)?Object.defineProperty(h,e,{get(){let t=(0,c.describeStringPropertyAccess)("unstable_rootParams",e);"prerender-ppr"===d.type?(0,i.postponeWithTracking)(l.route,t,d.dynamicTracking):(0,i.throwToInterruptStaticGeneration)(t,l,d)},enumerable:!0}):f[e]=a[e])}),f}}return Promise.resolve(e)}(t.rootParams,e,t);default:return Promise.resolve(t.rootParams)}}},47452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return a}});let n=r(65144),i=r(89339);function a(e,t,r,a){if(!t||t===r)return e;let s=e.toLowerCase();return!a&&((0,i.pathHasPrefix)(s,"/api")||(0,i.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,n.addPathPrefix)(e,"/"+t)}},49676:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HTTPAccessErrorStatus:function(){return r},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return i},getAccessFallbackErrorTypeByStatus:function(){return o},getAccessFallbackHTTPStatus:function(){return s},isHTTPAccessFallbackError:function(){return a}});let r={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},n=new Set(Object.values(r)),i="NEXT_HTTP_ERROR_FALLBACK";function a(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r]=e.digest.split(";");return t===i&&n.has(Number(r))}function s(e){return Number(e.digest.split(";")[1])}function o(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},50469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{describeHasCheckingStringProperty:function(){return i},describeStringPropertyAccess:function(){return n},wellKnownProperties:function(){return a}});let r=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function n(e,t){return r.test(t)?"`"+e+"."+t+"`":"`"+e+"["+JSON.stringify(t)+"]`"}function i(e,t){let r=JSON.stringify(t);return"`Reflect.has("+e+", "+r+")`, `"+r+" in "+e+"`, or similar"}let a=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},50971:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E411",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return n}}),r(49676).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},51399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return i}});let n=""+r(49676).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function i(){let e=Object.defineProperty(Error(n),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});throw e.digest=n,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55441:(e,t,r)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return p}});let n=r(93),i=r(37554),a=r(29294),s=r(63033),o=r(76933),c=r(3497),u=r(10078),l=r(19786),d=(r(52485),r(57043));function p(){let e="cookies",t=a.workAsyncStorage.getStore(),r=s.workUnitAsyncStorage.getStore();if(t){if(r&&"after"===r.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E88",enumerable:!1,configurable:!0});if(t.forceStatic)return f(n.RequestCookiesAdapter.seal(new i.RequestCookies(new Headers({}))));if(r){if("cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E398",enumerable:!1,configurable:!0});else if("unstable-cache"===r.type)throw Object.defineProperty(Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E157",enumerable:!1,configurable:!0})}if(t.dynamicShouldError)throw Object.defineProperty(new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E549",enumerable:!1,configurable:!0});if(r)if("prerender"===r.type){var l=t.route,p=r;let e=h.get(p);if(e)return e;let n=(0,u.makeHangingPromise)(p.renderSignal,"`cookies()`");return h.set(p,n),Object.defineProperties(n,{[Symbol.iterator]:{value:function(){let e="`cookies()[Symbol.iterator]()`",t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},size:{get(){let e="`cookies().size`",t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},get:{value:function(){let e;e=0==arguments.length?"`cookies().get()`":`\`cookies().get(${m(arguments[0])})\``;let t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},getAll:{value:function(){let e;e=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${m(arguments[0])})\``;let t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},has:{value:function(){let e;e=0==arguments.length?"`cookies().has()`":`\`cookies().has(${m(arguments[0])})\``;let t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},set:{value:function(){let e;if(0==arguments.length)e="`cookies().set()`";else{let t=arguments[0];e=t?`\`cookies().set(${m(t)}, ...)\``:"`cookies().set(...)`"}let t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},delete:{value:function(){let e;e=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${m(arguments[0])})\``:`\`cookies().delete(${m(arguments[0])}, ...)\``;let t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},clear:{value:function(){let e="`cookies().clear()`",t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}},toString:{value:function(){let e="`cookies().toString()`",t=g(l,e);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(l,e,t,p)}}}),n}else"prerender-ppr"===r.type?(0,o.postponeWithTracking)(t.route,e,r.dynamicTracking):"prerender-legacy"===r.type&&(0,o.throwToInterruptStaticGeneration)(e,t,r);(0,o.trackDynamicDataInDynamicRender)(t,r)}let y=(0,s.getExpectedRequestStore)(e);return f((0,n.areCookiesMutableInCurrentPhase)(y)?y.userspaceMutableCookies:y.cookies)}let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let r=Promise.resolve(e);return h.set(e,r),Object.defineProperties(r,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):b.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):_.bind(e,r)},toString:{value:e.toString.bind(e)}}),r}function m(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}let y=(0,l.createDedupedByCallsiteServerErrorLoggerDev)(g);function g(e,t){let r=e?`Route "${e}" `:"This route ";return Object.defineProperty(Error(`${r}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`),"__NEXT_ERROR_CODE",{value:"E223",enumerable:!1,configurable:!0})}function b(){return this.getAll().map(e=>[e.name,e]).values()}function _(e){for(let e of this.getAll())this.delete(e.name);return e}},56903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let n=r(82697),i=r(65144),a=r(76907),s=r(47452);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,n.removeTrailingSlash)(t)),e.buildId&&(t=(0,a.addPathSuffix)((0,i.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,i.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,a.addPathSuffix)(t,"/"):(0,n.removeTrailingSlash)(t)}},57043:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isRequestAPICallableInsideAfter:function(){return c},throwForSearchParamsAccessInUseCache:function(){return o},throwWithStaticGenerationBailoutError:function(){return a},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return s}});let n=r(3497),i=r(3295);function a(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E576",enumerable:!1,configurable:!0})}function s(e,t){throw Object.defineProperty(new n.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E543",enumerable:!1,configurable:!0})}function o(e){let t=Object.defineProperty(Error(`Route ${e.route} used "searchParams" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "searchParams" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E634",enumerable:!1,configurable:!0});throw e.invalidUsageError??=t,t}function c(){let e=i.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}},57273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return r}});let r="undefined"==typeof URLPattern?void 0:URLPattern},64814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{HeadersAdapter:function(){return a},ReadonlyHeadersError:function(){return i}});let n=r(31875);class i extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new i}}class a extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,r,i){if("symbol"==typeof r)return n.ReflectAdapter.get(t,r,i);let a=r.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===a);if(void 0!==s)return n.ReflectAdapter.get(t,s,i)},set(t,r,i,a){if("symbol"==typeof r)return n.ReflectAdapter.set(t,r,i,a);let s=r.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return n.ReflectAdapter.set(t,o??r,i,a)},has(t,r){if("symbol"==typeof r)return n.ReflectAdapter.has(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0!==a&&n.ReflectAdapter.has(t,a)},deleteProperty(t,r){if("symbol"==typeof r)return n.ReflectAdapter.deleteProperty(t,r);let i=r.toLowerCase(),a=Object.keys(e).find(e=>e.toLowerCase()===i);return void 0===a||n.ReflectAdapter.deleteProperty(t,a)}})}static seal(e){return new Proxy(e,{get(e,t,r){switch(t){case"append":case"delete":case"set":return i.callable;default:return n.ReflectAdapter.get(e,t,r)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new a(e)}append(e,t){let r=this.headers[e];"string"==typeof r?this.headers[e]=[r,t]:Array.isArray(r)?r.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[r,n]of this.entries())e.call(t,n,r,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),r=this.get(t);yield[t,r]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},65144:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return i}});let n=r(89803);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+t+r+i+a}},65177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return n}});let r=new WeakMap;function n(e,t){let n;if(!t)return{pathname:e};let i=r.get(t);i||(i=t.map(e=>e.toLowerCase()),r.set(t,i));let a=e.split("/",2);if(!a[1])return{pathname:e};let s=a[1].toLowerCase(),o=i.indexOf(s);return o<0?{pathname:e}:(n=t[o],{pathname:e=e.slice(n.length+1)||"/",detectedLocale:n})}},65431:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return n}});let r=Symbol.for("react.postpone");function n(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},66894:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{fromNodeOutgoingHttpHeaders:function(){return i},normalizeNextQueryParam:function(){return c},splitCookiesString:function(){return a},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return o}});let n=r(5641);function i(e){let t=new Headers;for(let[r,n]of Object.entries(e))for(let e of Array.isArray(n)?n:[n])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(r,e));return t}function a(e){var t,r,n,i,a,s=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,a=!1;c();)if(","===(r=e.charAt(o))){for(n=o,o+=1,c(),i=o;o<e.length&&"="!==(r=e.charAt(o))&&";"!==r&&","!==r;)o+=1;o<e.length&&"="===e.charAt(o)?(a=!0,o=i,s.push(e.substring(t,n)),t=o):o=n+1}else o+=1;(!a||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function s(e){let t={},r=[];if(e)for(let[n,i]of e.entries())"set-cookie"===n.toLowerCase()?(r.push(...a(i)),t[n]=1===r.length?r[0]:r):t[n]=i;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Object.defineProperty(Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}function c(e){for(let t of[n.NEXT_QUERY_PARAM_PREFIX,n.NEXT_INTERCEPTION_MARKER_PREFIX])if(e!==t&&e.startsWith(t))return e.substring(t.length);return null}},67554:(e,t,r)=>{"use strict";let n,i,a,s,o,c,u;r.d(t,{Ay:()=>sh});var l={};r.r(l),r.d(l,{q:()=>tB,l:()=>tV});var d=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},p=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};function h(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class f{constructor(e,t,r){if(rw.add(this),rv.set(this,{}),rk.set(this,void 0),rE.set(this,void 0),d(this,rE,r,"f"),d(this,rk,e,"f"),!t)return;let{name:n}=e;for(let[e,r]of Object.entries(t))e.startsWith(n)&&r&&(p(this,rv,"f")[e]=r)}get value(){return Object.keys(p(this,rv,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>p(this,rv,"f")[e]).join("")}chunk(e,t){let r=p(this,rw,"m",rA).call(this);for(let n of p(this,rw,"m",rS).call(this,{name:p(this,rk,"f").name,value:e,options:{...p(this,rk,"f").options,...t}}))r[n.name]=n;return Object.values(r)}clean(){return Object.values(p(this,rw,"m",rA).call(this))}}rv=new WeakMap,rk=new WeakMap,rE=new WeakMap,rw=new WeakSet,rS=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return p(this,rv,"f")[e.name]=e.value,[e];let r=[];for(let n=0;n<t;n++){let t=`${e.name}.${n}`,i=e.value.substr(3936*n,3936);r.push({...e,name:t,value:i}),p(this,rv,"f")[t]=i}return p(this,rE,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:r.map(e=>e.value.length+160)}),r},rA=function(){let e={};for(let t in p(this,rv,"f"))delete p(this,rv,"f")?.[t],e[t]={name:t,value:"",options:{...p(this,rk,"f").options,maxAge:0}};return e};class m extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let r=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${r}`}}class y extends m{}y.kind="signIn";class g extends m{}g.type="AdapterError";class b extends m{}b.type="AccessDenied";class _ extends m{}_.type="CallbackRouteError";class w extends m{}w.type="ErrorPageLoop";class v extends m{}v.type="EventError";class k extends m{}k.type="InvalidCallbackUrl";class E extends y{constructor(){super(...arguments),this.code="credentials"}}E.type="CredentialsSignin";class S extends m{}S.type="InvalidEndpoints";class A extends m{}A.type="InvalidCheck";class x extends m{}x.type="JWTSessionError";class R extends m{}R.type="MissingAdapter";class P extends m{}P.type="MissingAdapterMethods";class T extends m{}T.type="MissingAuthorize";class O extends m{}O.type="MissingSecret";class C extends y{}C.type="OAuthAccountNotLinked";class j extends y{}j.type="OAuthCallbackError";class I extends m{}I.type="OAuthProfileParseError";class U extends m{}U.type="SessionTokenError";class $ extends y{}$.type="OAuthSignInError";class N extends y{}N.type="EmailSignInError";class D extends m{}D.type="SignOutError";class H extends m{}H.type="UnknownAction";class L extends m{}L.type="UnsupportedStrategy";class M extends m{}M.type="InvalidProvider";class W extends m{}W.type="UntrustedHost";class K extends m{}K.type="Verification";class J extends y{}J.type="MissingCSRF";let F=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class q extends m{}q.type="DuplicateConditionalUI";class B extends m{}B.type="MissingWebAuthnAutocomplete";class z extends m{}z.type="WebAuthnVerificationError";class Z extends y{}Z.type="AccountNotLinked";class V extends m{}V.type="ExperimentalFeatureNotEnabled";let G=!1;function X(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let Y=!1,Q=!1,ee=!1,et=["createVerificationToken","useVerificationToken","getUserByEmail"],er=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],en=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var ei=r(55511);let ea=(e,t,r,n,i)=>{let a=parseInt(e.substr(3),10)>>3||20,s=(0,ei.createHmac)(e,r.byteLength?r:new Uint8Array(a)).update(t).digest(),o=Math.ceil(i/a),c=new Uint8Array(a*o+n.byteLength+1),u=0,l=0;for(let t=1;t<=o;t++)c.set(n,l),c[l+n.byteLength]=t,c.set((0,ei.createHmac)(e,s).update(c.subarray(u,l+n.byteLength+1)).digest(),l),u=l,l+=a;return c.slice(0,i)};"function"!=typeof ei.hkdf||process.versions.electron||(n=async(...e)=>new Promise((t,r)=>{ei.hkdf(...e,(e,n)=>{e?r(e):t(new Uint8Array(n))})}));let es=async(e,t,r,i,a)=>(n||ea)(e,t,r,i,a);function eo(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function ec(e,t,r,n,i){return es(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=eo(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),eo(r,"salt"),function(e){let t=eo(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(n),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(i,e))}let eu=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(r,t))},el=new TextEncoder,ed=new TextDecoder;function ep(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function eh(e,t,r){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function ef(e){let t=Math.floor(e/0x100000000),r=new Uint8Array(8);return eh(r,t,0),eh(r,e%0x100000000,4),r}function em(e){let t=new Uint8Array(4);return eh(t,e),t}function ey(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64("string"==typeof e?e:ed.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=ed.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{var r=t;if(Uint8Array.fromBase64)return Uint8Array.fromBase64(r);let e=atob(r),n=new Uint8Array(e.length);for(let t=0;t<e.length;t++)n[t]=e.charCodeAt(t);return n}catch{throw TypeError("The input to be decoded is not correctly encoded.")}}function eg(e){let t=e;return("string"==typeof t&&(t=el.encode(t)),Uint8Array.prototype.toBase64)?t.toBase64({alphabet:"base64url",omitPadding:!0}):(function(e){if(Uint8Array.prototype.toBase64)return e.toBase64();let t=[];for(let r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))})(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class eb extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class e_ extends eb{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ew extends eb{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,r="unspecified",n="unspecified"){super(e,{cause:{claim:r,reason:n,payload:t}}),this.claim=r,this.reason=n,this.payload=t}}class ev extends eb{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class ek extends eb{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eE extends eb{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eS extends eb{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eA extends eb{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class ex extends eb{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eR extends eb{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function eP(e){if(!eT(e))throw Error("CryptoKey instance expected")}function eT(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function eO(e){return e?.[Symbol.toStringTag]==="KeyObject"}let eC=e=>eT(e)||eO(e),ej=e=>{if(!function(e){return"object"==typeof e&&null!==e}(e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};function eI(e){return ej(e)&&"string"==typeof e.kty}function eU(e,t,...r){if((r=r.filter(Boolean)).length>2){let t=r.pop();e+=`one of type ${r.join(", ")}, or ${t}.`}else 2===r.length?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let e$=(e,...t)=>eU("Key must be ",e,...t);function eN(e,t,...r){return eU(`Key for the ${e} algorithm must be `,t,...r)}async function eD(e){if(eO(e))if("secret"!==e.type)return e.export({format:"jwk"});else e=e.export();if(e instanceof Uint8Array)return{kty:"oct",k:eg(e)};if(!eT(e))throw TypeError(e$(e,"CryptoKey","KeyObject","Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:n,use:i,...a}=await crypto.subtle.exportKey("jwk",e);return a}async function eH(e){return eD(e)}let eL=(e,t)=>{if("string"!=typeof e||!e)throw new ex(`${t} missing or invalid`)};async function eM(e,t){let r,n;if(eI(e))r=e;else if(eC(e))r=await eH(e);else throw TypeError(e$(e,"CryptoKey","KeyObject","JSON Web Key"));if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(r.kty){case"EC":eL(r.crv,'"crv" (Curve) Parameter'),eL(r.x,'"x" (X Coordinate) Parameter'),eL(r.y,'"y" (Y Coordinate) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x,y:r.y};break;case"OKP":eL(r.crv,'"crv" (Subtype of Key Pair) Parameter'),eL(r.x,'"x" (Public Key) Parameter'),n={crv:r.crv,kty:r.kty,x:r.x};break;case"RSA":eL(r.e,'"e" (Exponent) Parameter'),eL(r.n,'"n" (Modulus) Parameter'),n={e:r.e,kty:r.kty,n:r.n};break;case"oct":eL(r.k,'"k" (Key Value) Parameter'),n={k:r.k,kty:r.kty};break;default:throw new ek('"kty" (Key Type) Parameter missing or unsupported')}let i=el.encode(JSON.stringify(n));return eg(await eu(t,i))}let eW=Symbol();function eK(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new ek(`Unsupported JWE Algorithm: ${e}`)}}let eJ=e=>crypto.getRandomValues(new Uint8Array(eK(e)>>3)),eF=(e,t)=>{if(t.length<<3!==eK(e))throw new eS("Invalid Initialization Vector length")},eq=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new eS(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)};function eB(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ez(e,t){return e.name===t}function eZ(e,t,r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ez(e.algorithm,"AES-GCM"))throw eB("AES-GCM");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eB(r,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ez(e.algorithm,"AES-KW"))throw eB("AES-KW");let r=parseInt(t.slice(1,4),10);if(e.algorithm.length!==r)throw eB(r,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":break;default:throw eB("ECDH or X25519")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ez(e.algorithm,"PBKDF2"))throw eB("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ez(e.algorithm,"RSA-OAEP"))throw eB("RSA-OAEP");let r=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==r)throw eB(`SHA-${r}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}var n=e,i=r;if(i&&!n.usages.includes(i))throw TypeError(`CryptoKey does not support this operation, its usages must include ${i}.`)}async function eV(e,t,r,n,i){if(!(r instanceof Uint8Array))throw TypeError(e$(r,"Uint8Array"));let a=parseInt(e.slice(1,4),10),s=await crypto.subtle.importKey("raw",r.subarray(a>>3),"AES-CBC",!1,["encrypt"]),o=await crypto.subtle.importKey("raw",r.subarray(0,a>>3),{hash:`SHA-${a<<1}`,name:"HMAC"},!1,["sign"]),c=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},s,t)),u=ep(i,n,c,ef(i.length<<3));return{ciphertext:c,tag:new Uint8Array((await crypto.subtle.sign("HMAC",o,u)).slice(0,a>>3)),iv:n}}async function eG(e,t,r,n,i){let a;r instanceof Uint8Array?a=await crypto.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(eZ(r,e,"encrypt"),a=r);let s=new Uint8Array(await crypto.subtle.encrypt({additionalData:i,iv:n,name:"AES-GCM",tagLength:128},a,t)),o=s.slice(-16);return{ciphertext:s.slice(0,-16),tag:o,iv:n}}let eX=async(e,t,r,n,i)=>{if(!eT(r)&&!(r instanceof Uint8Array))throw TypeError(e$(r,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(n?eF(e,n):n=eJ(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&eq(r,parseInt(e.slice(-3),10)),eV(e,t,r,n,i);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&eq(r,parseInt(e.slice(1,4),10)),eG(e,t,r,n,i);default:throw new ek("Unsupported JWE Content Encryption Algorithm")}};function eY(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eQ(e,t,r){return e instanceof Uint8Array?crypto.subtle.importKey("raw",e,"AES-KW",!0,[r]):(eZ(e,t,r),e)}async function e0(e,t,r){let n=await eQ(t,e,"wrapKey");eY(n,e);let i=await crypto.subtle.importKey("raw",r,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",i,n,"AES-KW"))}async function e1(e,t,r){let n=await eQ(t,e,"unwrapKey");eY(n,e);let i=await crypto.subtle.unwrapKey("raw",r,n,"AES-KW",{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.exportKey("raw",i))}function e2(e){return ep(em(e.length),e)}async function e3(e,t,r){let n=Math.ceil((t>>3)/32),i=new Uint8Array(32*n);for(let t=0;t<n;t++){let n=new Uint8Array(4+e.length+r.length);n.set(em(t+1)),n.set(e,4),n.set(r,4+e.length),i.set(await eu("sha256",n),32*t)}return i.slice(0,t>>3)}async function e5(e,t,r,n,i=new Uint8Array(0),a=new Uint8Array(0)){let s;eZ(e,"ECDH"),eZ(t,"ECDH","deriveBits");let o=ep(e2(el.encode(r)),e2(i),e2(a),em(n));return s="X25519"===e.algorithm.name?256:Math.ceil(parseInt(e.algorithm.namedCurve.slice(-3),10)/8)<<3,e3(new Uint8Array(await crypto.subtle.deriveBits({name:e.algorithm.name,public:e},t,s)),n,o)}function e4(e){switch(e.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return"X25519"===e.algorithm.name}}let e6=(e,t)=>ep(el.encode(e),new Uint8Array([0]),t);async function e9(e,t,r,n){if(!(e instanceof Uint8Array)||e.length<8)throw new eS("PBES2 Salt Input must be 8 or more octets");let i=e6(t,e),a=parseInt(t.slice(13,16),10),s={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:i},o=await (n instanceof Uint8Array?crypto.subtle.importKey("raw",n,"PBKDF2",!1,["deriveBits"]):(eZ(n,t,"deriveBits"),n));return new Uint8Array(await crypto.subtle.deriveBits(s,o,a))}async function e8(e,t,r,n=2048,i=crypto.getRandomValues(new Uint8Array(16))){let a=await e9(i,e,n,t);return{encryptedKey:await e0(e.slice(-6),a,r),p2c:n,p2s:eg(i)}}async function e7(e,t,r,n,i){let a=await e9(i,e,n,t);return e1(e.slice(-6),a,r)}let te=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if("number"!=typeof r||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},tt=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new ek(`alg ${e} is not supported either by JOSE or your javascript runtime`)}};async function tr(e,t,r){return eZ(t,e,"encrypt"),te(e,t),new Uint8Array(await crypto.subtle.encrypt(tt(e),t,r))}async function tn(e,t,r){return eZ(t,e,"decrypt"),te(e,t),new Uint8Array(await crypto.subtle.decrypt(tt(e),t,r))}let ti=async e=>{if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:t,keyUsages:r}=function(e){let t,r;switch(e.kty){case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new ek('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new ek('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}(e),n={...e};return delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??!e.d,e.key_ops??r)},ta=async(e,t,r,n=!1)=>{let a=(i||=new WeakMap).get(e);if(a?.[r])return a[r];let s=await ti({...t,alg:r});return n&&Object.freeze(e),a?a[r]=s:i.set(e,{[r]:s}),s},ts=(e,t)=>{let r,n=(i||=new WeakMap).get(e);if(n?.[t])return n[t];let a="public"===e.type,s=!!a;if("x25519"===e.asymmetricKeyType){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}r=e.toCryptoKey(e.asymmetricKeyType,s,a?[]:["deriveBits"])}if("ed25519"===e.asymmetricKeyType){if("EdDSA"!==t&&"Ed25519"!==t)throw TypeError("given KeyObject instance cannot be used for this algorithm");r=e.toCryptoKey(e.asymmetricKeyType,s,[a?"verify":"sign"])}if("rsa"===e.asymmetricKeyType){let n;switch(t){case"RSA-OAEP":n="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":n="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":n="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":n="SHA-512";break;default:throw TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:n},s,a?["encrypt"]:["decrypt"]);r=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:n},s,[a?"verify":"sign"])}if("ec"===e.asymmetricKeyType){let n=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!n)throw TypeError("given KeyObject instance cannot be used for this algorithm");"ES256"===t&&"P-256"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),"ES384"===t&&"P-384"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),"ES512"===t&&"P-521"===n&&(r=e.toCryptoKey({name:"ECDSA",namedCurve:n},s,[a?"verify":"sign"])),t.startsWith("ECDH-ES")&&(r=e.toCryptoKey({name:"ECDH",namedCurve:n},s,a?[]:["deriveBits"]))}if(!r)throw TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[t]=r:i.set(e,{[t]:r}),r},to=async(e,t)=>{if(e instanceof Uint8Array||eT(e))return e;if(eO(e)){if("secret"===e.type)return e.export();if("toCryptoKey"in e&&"function"==typeof e.toCryptoKey)try{return ts(e,t)}catch(e){if(e instanceof TypeError)throw e}let r=e.export({format:"jwk"});return ta(e,r,t)}if(eI(e))return e.k?ey(e.k):ta(e,e,t,!0);throw Error("unreachable")};function tc(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new ek(`Unsupported JWE Algorithm: ${e}`)}}let tu=e=>crypto.getRandomValues(new Uint8Array(tc(e)>>3));async function tl(e,t){if(!(e instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw TypeError("Second argument must be a buffer");let r={name:"HMAC",hash:"SHA-256"},n=await crypto.subtle.generateKey(r,!1,["sign"]),i=new Uint8Array(await crypto.subtle.sign(r,n,e)),a=new Uint8Array(await crypto.subtle.sign(r,n,t)),s=0,o=-1;for(;++o<32;)s|=i[o]^a[o];return 0===s}async function td(e,t,r,n,i,a){let s,o;if(!(t instanceof Uint8Array))throw TypeError(e$(t,"Uint8Array"));let c=parseInt(e.slice(1,4),10),u=await crypto.subtle.importKey("raw",t.subarray(c>>3),"AES-CBC",!1,["decrypt"]),l=await crypto.subtle.importKey("raw",t.subarray(0,c>>3),{hash:`SHA-${c<<1}`,name:"HMAC"},!1,["sign"]),d=ep(a,n,r,ef(a.length<<3)),p=new Uint8Array((await crypto.subtle.sign("HMAC",l,d)).slice(0,c>>3));try{s=await tl(i,p)}catch{}if(!s)throw new eE;try{o=new Uint8Array(await crypto.subtle.decrypt({iv:n,name:"AES-CBC"},u,r))}catch{}if(!o)throw new eE;return o}async function tp(e,t,r,n,i,a){let s;t instanceof Uint8Array?s=await crypto.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(eZ(t,e,"decrypt"),s=t);try{return new Uint8Array(await crypto.subtle.decrypt({additionalData:a,iv:n,name:"AES-GCM",tagLength:128},s,ep(r,i)))}catch{throw new eE}}let th=async(e,t,r,n,i,a)=>{if(!eT(t)&&!(t instanceof Uint8Array))throw TypeError(e$(t,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));if(!n)throw new eS("JWE Initialization Vector missing");if(!i)throw new eS("JWE Authentication Tag missing");switch(eF(e,n),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&eq(t,parseInt(e.slice(-3),10)),td(e,t,r,n,i,a);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&eq(t,parseInt(e.slice(1,4),10)),tp(e,t,r,n,i,a);default:throw new ek("Unsupported JWE Content Encryption Algorithm")}};async function tf(e,t,r,n){let i=e.slice(0,7),a=await eX(i,r,t,n,new Uint8Array(0));return{encryptedKey:a.ciphertext,iv:eg(a.iv),tag:eg(a.tag)}}async function tm(e,t,r,n,i){return th(e.slice(0,7),t,r,n,i,new Uint8Array(0))}let ty=async(e,t,r,n,i={})=>{let a,s,o;switch(e){case"dir":o=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let c;if(eP(r),!e4(r))throw new ek("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:u,apv:l}=i;c=i.epk?await to(i.epk,e):(await crypto.subtle.generateKey(r.algorithm,!0,["deriveBits"])).privateKey;let{x:d,y:p,crv:h,kty:f}=await eH(c),m=await e5(r,c,"ECDH-ES"===e?t:e,"ECDH-ES"===e?tc(t):parseInt(e.slice(-5,-2),10),u,l);if(s={epk:{x:d,crv:h,kty:f}},"EC"===f&&(s.epk.y=p),u&&(s.apu=eg(u)),l&&(s.apv=eg(l)),"ECDH-ES"===e){o=m;break}o=n||tu(t);let y=e.slice(-6);a=await e0(y,m,o);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=n||tu(t),eP(r),a=await tr(e,r,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||tu(t);let{p2c:c,p2s:u}=i;({encryptedKey:a,...s}=await e8(e,r,o,c,u));break}case"A128KW":case"A192KW":case"A256KW":o=n||tu(t),a=await e0(e,r,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||tu(t);let{iv:c}=i;({encryptedKey:a,...s}=await tf(e,r,o,c));break}default:throw new ek('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:a,parameters:s}},tg=(...e)=>{let t,r=e.filter(Boolean);if(0===r.length||1===r.length)return!0;for(let e of r){let r=Object.keys(e);if(!t||0===t.size){t=new Set(r);continue}for(let e of r){if(t.has(e))return!1;t.add(e)}}return!0},tb=(e,t,r,n,i)=>{let a;if(void 0!==i.crit&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(a=void 0!==r?new Map([...Object.entries(r),...t.entries()]):t,n.crit)){if(!a.has(s))throw new ek(`Extension Header Parameter "${s}" is not recognized`);if(void 0===i[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(a.get(s)&&void 0===n[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)},t_=e=>e?.[Symbol.toStringTag],tw=(e,t,r)=>{if(void 0!==t.use){let e;switch(r){case"sign":case"verify":e="sig";break;case"encrypt":case"decrypt":e="enc"}if(t.use!==e)throw TypeError(`Invalid key for this operation, its "use" must be "${e}" when present`)}if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case"sign"===r||"verify"===r:case"dir"===e:case e.includes("CBC-HS"):n=r;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):n=!e.includes("GCM")&&e.endsWith("KW")?"encrypt"===r?"wrapKey":"unwrapKey":r;break;case"encrypt"===r&&e.startsWith("RSA"):n="wrapKey";break;case"decrypt"===r:n=e.startsWith("RSA")?"unwrapKey":"deriveBits"}if(n&&t.key_ops?.includes?.(n)===!1)throw TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},tv=(e,t,r)=>{if(!(t instanceof Uint8Array)){if(eI(t)){if(function(e){return"oct"===e.kty&&"string"==typeof e.k}(t)&&tw(e,t,r))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eC(t))throw TypeError(eN(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if("secret"!==t.type)throw TypeError(`${t_(t)} instances for symmetric algorithms must be of type "secret"`)}},tk=(e,t,r)=>{if(eI(t))switch(r){case"decrypt":case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&tw(e,t,r))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&tw(e,t,r))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eC(t))throw TypeError(eN(e,t,"CryptoKey","KeyObject","JSON Web Key"));if("secret"===t.type)throw TypeError(`${t_(t)} instances for asymmetric algorithms must not be of type "secret"`);if("public"===t.type)switch(r){case"sign":throw TypeError(`${t_(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw TypeError(`${t_(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if("private"===t.type)switch(r){case"verify":throw TypeError(`${t_(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw TypeError(`${t_(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},tE=(e,t,r)=>{e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?tv(e,t,r):tk(e,t,r)};class tS{#e;#t;#r;#n;#i;#a;#s;#o;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this.#e=e}setKeyManagementParameters(e){if(this.#o)throw TypeError("setKeyManagementParameters can only be called once");return this.#o=e,this}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setSharedUnprotectedHeader(e){if(this.#r)throw TypeError("setSharedUnprotectedHeader can only be called once");return this.#r=e,this}setUnprotectedHeader(e){if(this.#n)throw TypeError("setUnprotectedHeader can only be called once");return this.#n=e,this}setAdditionalAuthenticatedData(e){return this.#i=e,this}setContentEncryptionKey(e){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}async encrypt(e,t){let r,n,i,a,s;if(!this.#t&&!this.#n&&!this.#r)throw new eS("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tg(this.#t,this.#n,this.#r))throw new eS("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this.#t,...this.#n,...this.#r};if(tb(eS,new Map,t?.crit,this.#t,o),void 0!==o.zip)throw new ek('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:u}=o;if("string"!=typeof c||!c)throw new eS('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof u||!u)throw new eS('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this.#a&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);tE("dir"===c?u:c,e,"encrypt");{let i,a=await to(e,c);({cek:n,encryptedKey:r,parameters:i}=await ty(c,u,a,this.#a,this.#o)),i&&(t&&eW in t?this.#n?this.#n={...this.#n,...i}:this.setUnprotectedHeader(i):this.#t?this.#t={...this.#t,...i}:this.setProtectedHeader(i))}a=this.#t?el.encode(eg(JSON.stringify(this.#t))):el.encode(""),this.#i?(s=eg(this.#i),i=ep(a,el.encode("."),el.encode(s))):i=a;let{ciphertext:l,tag:d,iv:p}=await eX(u,this.#e,n,this.#s,i),h={ciphertext:eg(l)};return p&&(h.iv=eg(p)),d&&(h.tag=eg(d)),r&&(h.encrypted_key=eg(r)),s&&(h.aad=s),this.#t&&(h.protected=ed.decode(a)),this.#r&&(h.unprotected=this.#r),this.#n&&(h.header=this.#n),h}}class tA{#c;constructor(e){this.#c=new tS(e)}setContentEncryptionKey(e){return this.#c.setContentEncryptionKey(e),this}setInitializationVector(e){return this.#c.setInitializationVector(e),this}setProtectedHeader(e){return this.#c.setProtectedHeader(e),this}setKeyManagementParameters(e){return this.#c.setKeyManagementParameters(e),this}async encrypt(e,t){let r=await this.#c.encrypt(e,t);return[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join(".")}}let tx=e=>Math.floor(e.getTime()/1e3),tR=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tP=e=>{let t,r=tR.exec(e);if(!r||r[4]&&r[1])throw TypeError("Invalid time period format");let n=parseFloat(r[2]);switch(r[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*n);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*n);break;case"day":case"days":case"d":t=Math.round(86400*n);break;case"week":case"weeks":case"w":t=Math.round(604800*n);break;default:t=Math.round(0x1e187e0*n)}return"-"===r[1]||"ago"===r[4]?-t:t};function tT(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}let tO=e=>e.includes("/")?e.toLowerCase():`application/${e.toLowerCase()}`,tC=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));class tj{#u;constructor(e){if(!ej(e))throw TypeError("JWT Claims Set MUST be an object");this.#u=structuredClone(e)}data(){return el.encode(JSON.stringify(this.#u))}get iss(){return this.#u.iss}set iss(e){this.#u.iss=e}get sub(){return this.#u.sub}set sub(e){this.#u.sub=e}get aud(){return this.#u.aud}set aud(e){this.#u.aud=e}set jti(e){this.#u.jti=e}set nbf(e){"number"==typeof e?this.#u.nbf=tT("setNotBefore",e):e instanceof Date?this.#u.nbf=tT("setNotBefore",tx(e)):this.#u.nbf=tx(new Date)+tP(e)}set exp(e){"number"==typeof e?this.#u.exp=tT("setExpirationTime",e):e instanceof Date?this.#u.exp=tT("setExpirationTime",tx(e)):this.#u.exp=tx(new Date)+tP(e)}set iat(e){void 0===e?this.#u.iat=tx(new Date):e instanceof Date?this.#u.iat=tT("setIssuedAt",tx(e)):"string"==typeof e?this.#u.iat=tT("setIssuedAt",tx(new Date)+tP(e)):this.#u.iat=tT("setIssuedAt",e)}}class tI{#a;#s;#o;#t;#l;#d;#p;#h;constructor(e={}){this.#h=new tj(e)}setIssuer(e){return this.#h.iss=e,this}setSubject(e){return this.#h.sub=e,this}setAudience(e){return this.#h.aud=e,this}setJti(e){return this.#h.jti=e,this}setNotBefore(e){return this.#h.nbf=e,this}setExpirationTime(e){return this.#h.exp=e,this}setIssuedAt(e){return this.#h.iat=e,this}setProtectedHeader(e){if(this.#t)throw TypeError("setProtectedHeader can only be called once");return this.#t=e,this}setKeyManagementParameters(e){if(this.#o)throw TypeError("setKeyManagementParameters can only be called once");return this.#o=e,this}setContentEncryptionKey(e){if(this.#a)throw TypeError("setContentEncryptionKey can only be called once");return this.#a=e,this}setInitializationVector(e){if(this.#s)throw TypeError("setInitializationVector can only be called once");return this.#s=e,this}replicateIssuerAsHeader(){return this.#l=!0,this}replicateSubjectAsHeader(){return this.#d=!0,this}replicateAudienceAsHeader(){return this.#p=!0,this}async encrypt(e,t){let r=new tA(this.#h.data());return this.#t&&(this.#l||this.#d||this.#p)&&(this.#t={...this.#t,iss:this.#l?this.#h.iss:void 0,sub:this.#d?this.#h.sub:void 0,aud:this.#p?this.#h.aud:void 0}),r.setProtectedHeader(this.#t),this.#s&&r.setInitializationVector(this.#s),this.#a&&r.setContentEncryptionKey(this.#a),this.#o&&r.setKeyManagementParameters(this.#o),r.encrypt(e,t)}}async function tU(e,t,r){let n;if(!ej(e))throw TypeError("JWK must be an object");switch(t??=e.alg,n??=r?.extractable??e.ext,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return ey(e.k);case"RSA":if("oth"in e&&void 0!==e.oth)throw new ek('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ti({...e,alg:t,ext:n});default:throw new ek('Unsupported "kty" (Key Type) Parameter value')}}let t$=async(e,t,r,n,i)=>{switch(e){case"dir":if(void 0!==r)throw new eS("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==r)throw new eS("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let i,a;if(!ej(n.epk))throw new eS('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(eP(t),!e4(t))throw new ek("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tU(n.epk,e);if(eP(s),void 0!==n.apu){if("string"!=typeof n.apu)throw new eS('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{i=ey(n.apu)}catch{throw new eS("Failed to base64url decode the apu")}}if(void 0!==n.apv){if("string"!=typeof n.apv)throw new eS('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{a=ey(n.apv)}catch{throw new eS("Failed to base64url decode the apv")}}let o=await e5(s,t,"ECDH-ES"===e?n.enc:e,"ECDH-ES"===e?tc(n.enc):parseInt(e.slice(-5,-2),10),i,a);if("ECDH-ES"===e)return o;if(void 0===r)throw new eS("JWE Encrypted Key missing");return e1(e.slice(-6),o,r)}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===r)throw new eS("JWE Encrypted Key missing");return eP(t),tn(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let a;if(void 0===r)throw new eS("JWE Encrypted Key missing");if("number"!=typeof n.p2c)throw new eS('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=i?.maxPBES2Count||1e4;if(n.p2c>s)throw new eS('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof n.p2s)throw new eS('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{a=ey(n.p2s)}catch{throw new eS("Failed to base64url decode the p2s")}return e7(e,t,r,n.p2c,a)}case"A128KW":case"A192KW":case"A256KW":if(void 0===r)throw new eS("JWE Encrypted Key missing");return e1(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let i,a;if(void 0===r)throw new eS("JWE Encrypted Key missing");if("string"!=typeof n.iv)throw new eS('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof n.tag)throw new eS('JOSE Header "tag" (Authentication Tag) missing or invalid');try{i=ey(n.iv)}catch{throw new eS("Failed to base64url decode the iv")}try{a=ey(n.tag)}catch{throw new eS("Failed to base64url decode the tag")}return tm(e,t,r,i,a)}default:throw new ek('Invalid or unsupported "alg" (JWE Algorithm) header value')}},tN=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tD(e,t,r){let n,i,a,s,o,c,u;if(!ej(e))throw new eS("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eS("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eS("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eS("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eS("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eS("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eS("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eS("JWE AAD incorrect type");if(void 0!==e.header&&!ej(e.header))throw new eS("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!ej(e.unprotected))throw new eS("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=ey(e.protected);n=JSON.parse(ed.decode(t))}catch{throw new eS("JWE Protected Header is invalid")}if(!tg(n,e.header,e.unprotected))throw new eS("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let l={...n,...e.header,...e.unprotected};if(tb(eS,new Map,r?.crit,n,l),void 0!==l.zip)throw new ek('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:d,enc:p}=l;if("string"!=typeof d||!d)throw new eS("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof p||!p)throw new eS("missing JWE Encryption Algorithm (enc) in JWE Header");let h=r&&tN("keyManagementAlgorithms",r.keyManagementAlgorithms),f=r&&tN("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(h&&!h.has(d)||!h&&d.startsWith("PBES2"))throw new ev('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(p))throw new ev('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{i=ey(e.encrypted_key)}catch{throw new eS("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(n,e),m=!0),tE("dir"===d?p:d,t,"decrypt");let y=await to(t,d);try{a=await t$(d,y,i,l,r)}catch(e){if(e instanceof TypeError||e instanceof eS||e instanceof ek)throw e;a=tu(p)}if(void 0!==e.iv)try{s=ey(e.iv)}catch{throw new eS("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=ey(e.tag)}catch{throw new eS("Failed to base64url decode the tag")}let g=el.encode(e.protected??"");c=void 0!==e.aad?ep(g,el.encode("."),el.encode(e.aad)):g;try{u=ey(e.ciphertext)}catch{throw new eS("Failed to base64url decode the ciphertext")}let b={plaintext:await th(p,a,u,s,o,c)};if(void 0!==e.protected&&(b.protectedHeader=n),void 0!==e.aad)try{b.additionalAuthenticatedData=ey(e.aad)}catch{throw new eS("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(b.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(b.unprotectedHeader=e.header),m)?{...b,key:y}:b}async function tH(e,t,r){if(e instanceof Uint8Array&&(e=ed.decode(e)),"string"!=typeof e)throw new eS("Compact JWE must be a string or Uint8Array");let{0:n,1:i,2:a,3:s,4:o,length:c}=e.split(".");if(5!==c)throw new eS("Invalid Compact JWE");let u=await tD({ciphertext:s,iv:a||void 0,protected:n,tag:o||void 0,encrypted_key:i||void 0},t,r),l={plaintext:u.plaintext,protectedHeader:u.protectedHeader};return"function"==typeof t?{...l,key:u.key}:l}async function tL(e,t,r){let n=await tH(e,t,r),i=function(e,t,r={}){let n,i;try{n=JSON.parse(ed.decode(t))}catch{}if(!ej(n))throw new eA("JWT Claims Set must be a top-level JSON object");let{typ:a}=r;if(a&&("string"!=typeof e.typ||tO(e.typ)!==tO(a)))throw new e_('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:c,audience:u,maxTokenAge:l}=r,d=[...s];for(let e of(void 0!==l&&d.push("iat"),void 0!==u&&d.push("aud"),void 0!==c&&d.push("sub"),void 0!==o&&d.push("iss"),new Set(d.reverse())))if(!(e in n))throw new e_(`missing required "${e}" claim`,n,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new e_('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new e_('unexpected "sub" claim value',n,"sub","check_failed");if(u&&!tC(n.aud,"string"==typeof u?[u]:u))throw new e_('unexpected "aud" claim value',n,"aud","check_failed");switch(typeof r.clockTolerance){case"string":i=tP(r.clockTolerance);break;case"number":i=r.clockTolerance;break;case"undefined":i=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:p}=r,h=tx(p||new Date);if((void 0!==n.iat||l)&&"number"!=typeof n.iat)throw new e_('"iat" claim must be a number',n,"iat","invalid");if(void 0!==n.nbf){if("number"!=typeof n.nbf)throw new e_('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>h+i)throw new e_('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(void 0!==n.exp){if("number"!=typeof n.exp)throw new e_('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=h-i)throw new ew('"exp" claim timestamp check failed',n,"exp","check_failed")}if(l){let e=h-n.iat;if(e-i>("number"==typeof l?l:tP(l)))throw new ew('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(e<0-i)throw new e_('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n}(n.protectedHeader,n.plaintext,r),{protectedHeader:a}=n;if(void 0!==a.iss&&a.iss!==i.iss)throw new e_('replicated "iss" claim header parameter mismatch',i,"iss","mismatch");if(void 0!==a.sub&&a.sub!==i.sub)throw new e_('replicated "sub" claim header parameter mismatch',i,"sub","mismatch");if(void 0!==a.aud&&JSON.stringify(a.aud)!==JSON.stringify(i.aud))throw new e_('replicated "aud" claim header parameter mismatch',i,"aud","mismatch");let s={payload:i,protectedHeader:a};return"function"==typeof t?{...s,key:n.key}:s}let tM=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,tW=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,tK=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,tJ=/^[\u0020-\u003A\u003D-\u007E]*$/,tF=Object.prototype.toString,tq=(()=>{let e=function(){};return e.prototype=Object.create(null),e})();function tB(e,t){let r=new tq,n=e.length;if(n<2)return r;let i=t?.decode||tG,a=0;do{let t=e.indexOf("=",a);if(-1===t)break;let s=e.indexOf(";",a),o=-1===s?n:s;if(t>o){a=e.lastIndexOf(";",t-1)+1;continue}let c=tz(e,a,t),u=tZ(e,t,c),l=e.slice(c,u);if(void 0===r[l]){let n=tz(e,t+1,o),a=tZ(e,o,n),s=i(e.slice(n,a));r[l]=s}a=o+1}while(a<n);return r}function tz(e,t,r){do{let r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function tZ(e,t,r){for(;t>r;){let r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function tV(e,t,r){let n=r?.encode||encodeURIComponent;if(!tM.test(e))throw TypeError(`argument name is invalid: ${e}`);let i=n(t);if(!tW.test(i))throw TypeError(`argument val is invalid: ${t}`);let a=e+"="+i;if(!r)return a;if(void 0!==r.maxAge){if(!Number.isInteger(r.maxAge))throw TypeError(`option maxAge is invalid: ${r.maxAge}`);a+="; Max-Age="+r.maxAge}if(r.domain){if(!tK.test(r.domain))throw TypeError(`option domain is invalid: ${r.domain}`);a+="; Domain="+r.domain}if(r.path){if(!tJ.test(r.path))throw TypeError(`option path is invalid: ${r.path}`);a+="; Path="+r.path}if(r.expires){var s;if(s=r.expires,"[object Date]"!==tF.call(s)||!Number.isFinite(r.expires.valueOf()))throw TypeError(`option expires is invalid: ${r.expires}`);a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.partitioned&&(a+="; Partitioned"),r.priority)switch("string"==typeof r.priority?r.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw TypeError(`option sameSite is invalid: ${r.sameSite}`)}return a}function tG(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}let{q:tX}=l,tY=()=>Date.now()/1e3|0,tQ="A256CBC-HS512";async function t0(e){let{token:t={},secret:r,maxAge:n=2592e3,salt:i}=e,a=Array.isArray(r)?r:[r],s=await t2(tQ,a[0],i),o=await eM({kty:"oct",k:eg(s)},`sha${s.byteLength<<3}`);return await new tI(t).setProtectedHeader({alg:"dir",enc:tQ,kid:o}).setIssuedAt().setExpirationTime(tY()+n).setJti(crypto.randomUUID()).encrypt(s)}async function t1(e){let{token:t,secret:r,salt:n}=e,i=Array.isArray(r)?r:[r];if(!t)return null;let{payload:a}=await tL(t,async({kid:e,enc:t})=>{for(let r of i){let i=await t2(t,r,n);if(void 0===e||e===await eM({kty:"oct",k:eg(i)},`sha${i.byteLength<<3}`))return i}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tQ,"A256GCM"]});return a}async function t2(e,t,r){let n;switch(e){case"A256CBC-HS512":n=64;break;case"A256GCM":n=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await ec("sha256",t,r,`Auth.js Generated Encryption Key (${r})`,n)}async function t3({options:e,paramValue:t,cookieValue:r}){let{url:n,callbacks:i}=e,a=n.origin;return t?a=await i.redirect({url:t,baseUrl:n.origin}):r&&(a=await i.redirect({url:r,baseUrl:n.origin})),{callbackUrl:a,callbackUrlCookie:a!==r?a:void 0}}let t5="\x1b[31m",t4="\x1b[0m",t6={error(e){let t=e instanceof m?e.type:e.name;if(console.error(`${t5}[auth][error]${t4} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...r}=e.cause;console.error(`${t5}[auth][cause]${t4}:`,t.stack),r&&console.error(`${t5}[auth][details]${t4}:`,JSON.stringify(r,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){console.warn(`\x1b[33m[auth][warn][${e}]${t4}`,"Read more: https://warnings.authjs.dev")},debug(e,t){console.log(`\x1b[90m[auth][debug]:${t4} ${e}`,JSON.stringify(t,null,2))}};function t9(e){let t={...t6};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let t8=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"],{q:t7,l:re}=l;async function rt(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function rr(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new H("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let r=new URL(e.url),{action:n,providerId:i}=function(e,t){let r=e.match(RegExp(`^${t}(.+)`));if(null===r)throw new H(`Cannot parse action at ${e}`);let n=r.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==n.length&&2!==n.length)throw new H(`Cannot parse action at ${e}`);let[i,a]=n;if(!t8.includes(i)||a&&!["signin","callback","webauthn-options"].includes(i))throw new H(`Cannot parse action at ${e}`);return{action:i,providerId:"undefined"==a?void 0:a}}(r.pathname,t.basePath);return{url:r,action:n,providerId:i,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await rt(e):void 0,cookies:t7(e.headers.get("cookie")??"")??{},error:r.searchParams.get("error")??void 0,query:Object.fromEntries(r.searchParams)}}catch(n){let r=t9(t);r.error(n),r.debug("request",e)}}function rn(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:r,value:n,options:i}=e,a=re(r,n,i);t.has("Set-Cookie")?t.append("Set-Cookie",a):t.set("Set-Cookie",a)});let r=e.body;"application/json"===t.get("content-type")?r=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(r=new URLSearchParams(e.body).toString());let n=new Response(r,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&n.headers.set("Location",e.redirect),n}async function ri(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function ra(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,r)=>e+t(r),"")}async function rs({options:e,cookieValue:t,isPost:r,bodyValue:n}){if(t){let[i,a]=t.split("|");if(a===await ri(`${i}${e.secret}`))return{csrfTokenVerified:r&&i===n,csrfToken:i}}let i=ra(32),a=await ri(`${i}${e.secret}`);return{cookie:`${i}|${a}`,csrfToken:i}}function ro(e,t){if(!t)throw new J(`CSRF token was missing during an action ${e}`)}function rc(e){return null!==e&&"object"==typeof e}function ru(e,...t){if(!t.length)return e;let r=t.shift();if(rc(e)&&rc(r))for(let t in r)rc(r[t])?(rc(e[t])||(e[t]=Array.isArray(r[t])?[]:{}),ru(e[t],r[t])):void 0!==r[t]&&(e[t]=r[t]);return ru(e,...t)}let rl=Symbol("skip-csrf-check"),rd=Symbol("return-type-raw"),rp=Symbol("custom-fetch"),rh=Symbol("conform-internal"),rf=e=>ry({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),rm=e=>ry({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function ry(e){let t={};for(let[r,n]of Object.entries(e))void 0!==n&&(t[r]=n);return t}function rg(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let r=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,n]of Object.entries(e.params))"claims"===t&&(n=JSON.stringify(n)),r.searchParams.set(t,String(n));return{url:r,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let rb={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function r_({authOptions:e,providerId:t,action:r,url:n,cookies:i,callbackUrl:a,csrfToken:s,csrfDisabled:o,isPost:c}){var u,l;let d=t9(e),{providers:p,provider:f}=function(e){let{providerId:t,config:r}=e,n=new URL(r.basePath??"/auth",e.url.origin),i=r.providers.map(e=>{let t="function"==typeof e?e():e,{options:i,...a}=t,s=i?.id??a.id,o=ru(a,i,{signinUrl:`${n}/signin/${s}`,callbackUrl:`${n}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=i?.redirectProxyUrl??r.redirectProxyUrl);let e=function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=rg(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let r=rg(e.token,e.issuer),n=rg(e.userinfo,e.issuer),i=e.checks??["pkce"];return e.redirectProxyUrl&&(i.includes("state")||i.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:r,checks:i,userinfo:n,profile:e.profile??rf,account:e.account??rm}}(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[rp]??(e[rp]=i?.[rp]),e}return o}),a=i.find(({id:e})=>e===t);if(t&&!a){let e=i.map(e=>e.id).join(", ");throw Error(`Provider with id "${t}" not found. Available providers: [${e}].`)}return{providers:i,provider:a}}({url:n,providerId:t,config:e}),m=!1;if((f?.type==="oauth"||f?.type==="oidc")&&f.redirectProxyUrl)try{m=new URL(f.redirectProxyUrl).origin===n.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${f.redirectProxyUrl}`)}let y={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:n,action:r,provider:f,cookies:ru(h(e.useSecureCookies??"https:"===n.protocol),e.cookies),providers:p,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:t0,decode:t1,...e.jwt},events:(u=e.events??{},l=d,Object.keys(u).reduce((e,t)=>(e[t]=async(...e)=>{try{let r=u[t];return await r(...e)}catch(e){l.error(new v(e))}},e),{})),adapter:function(e,t){if(e)return Object.keys(e).reduce((r,n)=>(r[n]=async(...r)=>{try{t.debug(`adapter_${n}`,{args:r});let i=e[n];return await i(...r)}catch(r){let e=new g(r);throw t.error(e),e}},r),{})}(e.adapter,d),callbacks:{...rb,...e.callbacks},logger:d,callbackUrl:n.origin,isOnRedirectProxy:m,experimental:{...e.experimental}},b=[];if(o)y.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:r}=await rs({options:y,cookieValue:i?.[y.cookies.csrfToken.name],isPost:c,bodyValue:s});y.csrfToken=e,y.csrfTokenVerified=r,t&&b.push({name:y.cookies.csrfToken.name,value:t,options:y.cookies.csrfToken.options})}let{callbackUrl:_,callbackUrlCookie:w}=await t3({options:y,cookieValue:i?.[y.cookies.callbackUrl.name],paramValue:a});return y.callbackUrl=_,w&&b.push({name:y.cookies.callbackUrl.name,value:w,options:y.cookies.callbackUrl.options}),{options:y,cookies:b}}var rw,rv,rk,rE,rS,rA,rx,rR,rP,rT,rO,rC,rj,rI,rU,r$,rN={},rD=[],rH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,rL=Array.isArray;function rM(e,t){for(var r in t)e[r]=t[r];return e}function rW(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function rK(e,t,r){var n,i,a,s={};for(a in t)"key"==a?n=t[a]:"ref"==a?i=t[a]:s[a]=t[a];if(arguments.length>2&&(s.children=arguments.length>3?rx.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(a in e.defaultProps)void 0===s[a]&&(s[a]=e.defaultProps[a]);return rJ(e,s,n,i,null)}function rJ(e,t,r,n,i){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++rP:i,__i:-1,__u:0};return null==i&&null!=rR.vnode&&rR.vnode(a),a}function rF(e){return e.children}function rq(e,t){this.props=e,this.context=t}function rB(e,t){if(null==t)return e.__?rB(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?rB(e):null}function rz(e){(!e.__d&&(e.__d=!0)&&rT.push(e)&&!rZ.__r++||rO!==rR.debounceRendering)&&((rO=rR.debounceRendering)||rC)(rZ)}function rZ(){var e,t,r,n,i,a,s,o;for(rT.sort(rj);e=rT.shift();)e.__d&&(t=rT.length,n=void 0,a=(i=(r=e).__v).__e,s=[],o=[],r.__P&&((n=rM({},i)).__v=i.__v+1,rR.vnode&&rR.vnode(n),rQ(r.__P,n,i,r.__n,r.__P.namespaceURI,32&i.__u?[a]:null,s,null==a?rB(i):a,!!(32&i.__u),o),n.__v=i.__v,n.__.__k[n.__i]=n,r0(s,n,o),n.__e!=a&&function e(t){var r,n;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,r=0;r<t.__k.length;r++)if(null!=(n=t.__k[r])&&null!=n.__e){t.__e=t.__c.base=n.__e;break}return e(t)}}(n)),rT.length>t&&rT.sort(rj));rZ.__r=0}function rV(e,t,r,n,i,a,s,o,c,u,l){var d,p,h,f,m,y=n&&n.__k||rD,g=t.length;for(r.__d=c,function(e,t,r){var n,i,a,s,o,c=t.length,u=r.length,l=u,d=0;for(e.__k=[],n=0;n<c;n++)null!=(i=t[n])&&"boolean"!=typeof i&&"function"!=typeof i?(s=n+d,(i=e.__k[n]="string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?rJ(null,i,null,null,null):rL(i)?rJ(rF,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?rJ(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i).__=e,i.__b=e.__b+1,a=null,-1!==(o=i.__i=function(e,t,r,n){var i=e.key,a=e.type,s=r-1,o=r+1,c=t[r];if(null===c||c&&i==c.key&&a===c.type&&0==(131072&c.__u))return r;if(n>+(null!=c&&0==(131072&c.__u)))for(;s>=0||o<t.length;){if(s>=0){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&a===c.type)return s;s--}if(o<t.length){if((c=t[o])&&0==(131072&c.__u)&&i==c.key&&a===c.type)return o;o++}}return -1}(i,r,s,l))&&(l--,(a=r[o])&&(a.__u|=131072)),null==a||null===a.__v?(-1==o&&d--,"function"!=typeof i.type&&(i.__u|=65536)):o!==s&&(o==s-1?d--:o==s+1?d++:(o>s?d--:d++,i.__u|=65536))):i=e.__k[n]=null;if(l)for(n=0;n<u;n++)null!=(a=r[n])&&0==(131072&a.__u)&&(a.__e==e.__d&&(e.__d=rB(a)),function e(t,r,n){var i,a;if(rR.unmount&&rR.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||r1(i,null,r)),null!=(i=t.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){rR.__e(e,r)}i.base=i.__P=null}if(i=t.__k)for(a=0;a<i.length;a++)i[a]&&e(i[a],r,n||"function"!=typeof t.type);n||rW(t.__e),t.__c=t.__=t.__e=t.__d=void 0}(a,a))}(r,t,y),c=r.__d,d=0;d<g;d++)null!=(h=r.__k[d])&&(p=-1===h.__i?rN:y[h.__i]||rN,h.__i=d,rQ(e,h,p,i,a,s,o,c,u,l),f=h.__e,h.ref&&p.ref!=h.ref&&(p.ref&&r1(p.ref,null,h),l.push(h.ref,h.__c||f,h)),null==m&&null!=f&&(m=f),65536&h.__u||p.__k===h.__k?c=function e(t,r,n){var i,a;if("function"==typeof t.type){for(i=t.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=t,r=e(i[a],r,n));return r}t.__e!=r&&(r&&t.type&&!n.contains(r)&&(r=rB(t)),n.insertBefore(t.__e,r||null),r=t.__e);do r=r&&r.nextSibling;while(null!=r&&8===r.nodeType);return r}(h,c,e):"function"==typeof h.type&&void 0!==h.__d?c=h.__d:f&&(c=f.nextSibling),h.__d=void 0,h.__u&=-196609);r.__d=c,r.__e=m}function rG(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||rH.test(t)?r:r+"px"}function rX(e,t,r,n,i){var a;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||rG(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||rG(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])a=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=rI,e.addEventListener(t,a?r$:rU,a)):e.removeEventListener(t,a?r$:rU,a);else{if("http://www.w3.org/2000/svg"==i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==r?"":r))}}function rY(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=rI++;else if(t.t<r.u)return;return r(rR.event?rR.event(t):t)}}}function rQ(e,t,r,n,i,a,s,o,c,u){var l,d,p,h,f,m,y,g,b,_,w,v,k,E,S,A,x=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),a=[o=t.__e=r.__e]),(l=rR.__b)&&l(t);e:if("function"==typeof x)try{if(g=t.props,b="prototype"in x&&x.prototype.render,_=(l=x.contextType)&&n[l.__c],w=l?_?_.props.value:l.__:n,r.__c?y=(d=t.__c=r.__c).__=d.__E:(b?t.__c=d=new x(g,w):(t.__c=d=new rq(g,w),d.constructor=x,d.render=r2),_&&_.sub(d),d.props=g,d.state||(d.state={}),d.context=w,d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),b&&null==d.__s&&(d.__s=d.state),b&&null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=rM({},d.__s)),rM(d.__s,x.getDerivedStateFromProps(g,d.__s))),h=d.props,f=d.state,d.__v=t,p)b&&null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),b&&null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(b&&null==x.getDerivedStateFromProps&&g!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,w),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,w)||t.__v===r.__v)){for(t.__v!==r.__v&&(d.props=g,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),v=0;v<d._sb.length;v++)d.__h.push(d._sb[v]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,w),b&&null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(h,f,m)})}if(d.context=w,d.props=g,d.__P=e,d.__e=!1,k=rR.__r,E=0,b){for(d.state=d.__s,d.__d=!1,k&&k(t),l=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[]}else do d.__d=!1,k&&k(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,null!=d.getChildContext&&(n=rM(rM({},n),d.getChildContext())),b&&!p&&null!=d.getSnapshotBeforeUpdate&&(m=d.getSnapshotBeforeUpdate(h,f)),rV(e,rL(A=null!=l&&l.type===rF&&null==l.key?l.props.children:l)?A:[A],t,r,n,i,a,s,o,c,u),d.base=t.__e,t.__u&=-161,d.__h.length&&s.push(d),y&&(d.__E=d.__=null)}catch(e){if(t.__v=null,c||null!=a){for(t.__u|=c?160:128;o&&8===o.nodeType&&o.nextSibling;)o=o.nextSibling;a[a.indexOf(o)]=null,t.__e=o}else t.__e=r.__e,t.__k=r.__k;rR.__e(e,t,r)}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=function(e,t,r,n,i,a,s,o,c){var u,l,d,p,h,f,m,y=r.props,g=t.props,b=t.type;if("svg"===b?i="http://www.w3.org/2000/svg":"math"===b?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),null!=a){for(u=0;u<a.length;u++)if((h=a[u])&&"setAttribute"in h==!!b&&(b?h.localName===b:3===h.nodeType)){e=h,a[u]=null;break}}if(null==e){if(null===b)return document.createTextNode(g);e=document.createElementNS(i,b,g.is&&g),o&&(rR.__m&&rR.__m(t,a),o=!1),a=null}if(null===b)y===g||o&&e.data===g||(e.data=g);else{if(a=a&&rx.call(e.childNodes),y=r.props||rN,!o&&null!=a)for(y={},u=0;u<e.attributes.length;u++)y[(h=e.attributes[u]).name]=h.value;for(u in y)if(h=y[u],"children"==u);else if("dangerouslySetInnerHTML"==u)d=h;else if(!(u in g)){if("value"==u&&"defaultValue"in g||"checked"==u&&"defaultChecked"in g)continue;rX(e,u,null,h,i)}for(u in g)h=g[u],"children"==u?p=h:"dangerouslySetInnerHTML"==u?l=h:"value"==u?f=h:"checked"==u?m=h:o&&"function"!=typeof h||y[u]===h||rX(e,u,h,y[u],i);if(l)o||d&&(l.__html===d.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),rV(e,rL(p)?p:[p],t,r,n,"foreignObject"===b?"http://www.w3.org/1999/xhtml":i,a,s,a?a[0]:r.__k&&rB(r,0),o,c),null!=a)for(u=a.length;u--;)rW(a[u]);o||(u="value","progress"===b&&null==f?e.removeAttribute("value"):void 0===f||f===e[u]&&("progress"!==b||f)&&("option"!==b||f===y[u])||rX(e,u,f,y[u],i),u="checked",void 0!==m&&m!==e[u]&&rX(e,u,m,y[u],i))}return e}(r.__e,t,r,n,i,a,s,c,u);(l=rR.diffed)&&l(t)}function r0(e,t,r){t.__d=void 0;for(var n=0;n<r.length;n++)r1(r[n],r[++n],r[++n]);rR.__c&&rR.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){rR.__e(e,t.__v)}})}function r1(e,t,r){try{if("function"==typeof e){var n="function"==typeof e.__u;n&&e.__u(),n&&null==t||(e.__u=e(t))}else e.current=t}catch(e){rR.__e(e,r)}}function r2(e,t,r){return this.constructor(e,r)}function r3(e,t){var r,n,i,a,s;r=e,rR.__&&rR.__(r,t),i=(n="function"==typeof r3)?null:r3&&r3.__k||t.__k,a=[],s=[],rQ(t,r=(!n&&r3||t).__k=rK(rF,null,[r]),i||rN,rN,t.namespaceURI,!n&&r3?[r3]:i?null:t.firstChild?rx.call(t.childNodes):null,a,!n&&r3?r3:i?i.__e:t.firstChild,n,s),r0(a,r,s)}rx=rD.slice,rR={__e:function(e,t,r,n){for(var i,a,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((a=i.constructor)&&null!=a.getDerivedStateFromError&&(i.setState(a.getDerivedStateFromError(e)),s=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),s=i.__d),s)return i.__E=i}catch(t){e=t}throw e}},rP=0,rq.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=rM({},this.state),"function"==typeof e&&(e=e(rM({},r),this.props)),e&&rM(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),rz(this))},rq.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rz(this))},rq.prototype.render=rF,rT=[],rC="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,rj=function(e,t){return e.__v.__b-t.__v.__b},rZ.__r=0,rI=0,rU=rY(!1),r$=rY(!0);var r5=/[\s\n\\/='"\0<>]/,r4=/^(xlink|xmlns|xml)([A-Z])/,r6=/^accessK|^auto[A-Z]|^cell|^ch|^col|cont|cross|dateT|encT|form[A-Z]|frame|hrefL|inputM|maxL|minL|noV|playsI|popoverT|readO|rowS|src[A-Z]|tabI|useM|item[A-Z]/,r9=/^ac|^ali|arabic|basel|cap|clipPath$|clipRule$|color|dominant|enable|fill|flood|font|glyph[^R]|horiz|image|letter|lighting|marker[^WUH]|overline|panose|pointe|paint|rendering|shape|stop|strikethrough|stroke|text[^L]|transform|underline|unicode|units|^v[^i]|^w|^xH/,r8=new Set(["draggable","spellcheck"]),r7=/["&<]/;function ne(e){if(0===e.length||!1===r7.test(e))return e;for(var t=0,r=0,n="",i="";r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;default:continue}r!==t&&(n+=e.slice(t,r)),n+=i,t=r+1}return r!==t&&(n+=e.slice(t,r)),n}var nt={},nr=new Set(["animation-iteration-count","border-image-outset","border-image-slice","border-image-width","box-flex","box-flex-group","box-ordinal-group","column-count","fill-opacity","flex","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flood-opacity","font-weight","grid-column","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),nn=/[A-Z]/g;function ni(){this.__d=!0}var na=null,ns,no,nc,nu,nl={},nd=[],np=Array.isArray,nh=Object.assign;function nf(e,t){var r,n=e.type,i=!0;return e.__c?(i=!1,(r=e.__c).state=r.__s):r=new n(e.props,t),e.__c=r,r.__v=e,r.props=e.props,r.context=t,r.__d=!0,null==r.state&&(r.state=nl),null==r.__s&&(r.__s=r.state),n.getDerivedStateFromProps?r.state=nh({},r.state,n.getDerivedStateFromProps(r.props,r.state)):i&&r.componentWillMount?(r.componentWillMount(),r.state=r.__s!==r.state?r.__s:r.state):!i&&r.componentWillUpdate&&r.componentWillUpdate(),nc&&nc(e),r.render(r.props,r.state,t)}var nm=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),ny=/["&<]/,ng=0;function nb(e,t,r,n,i,a){t||(t={});var s,o,c=t;"ref"in t&&(s=t.ref,delete t.ref);var u={type:e,props:c,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--ng,__i:-1,__u:0,__source:i,__self:a};if("function"==typeof e&&(s=e.defaultProps))for(o in s)void 0===c[o]&&(c[o]=s[o]);return rR.vnode&&rR.vnode(u),u}async function n_(e,t){let r=window.SimpleWebAuthnBrowser;async function n(r){let n=new URL(`${e}/webauthn-options/${t}`);r&&n.searchParams.append("action",r),a().forEach(e=>{n.searchParams.append(e.name,e.value)});let i=await fetch(n);return i.ok?i.json():void console.error("Failed to fetch options",i)}function i(){let e=`#${t}-form`,r=document.querySelector(e);if(!r)throw Error(`Form '${e}' not found`);return r}function a(){return Array.from(i().querySelectorAll("input[data-form-field]"))}async function s(e,t){let r=i();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,r.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),r.appendChild(e)}return r.submit()}async function o(e,t){let n=await r.startAuthentication(e,t);return await s("authenticate",n)}async function c(e){a().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await r.startRegistration(e);return await s("register",t)}async function u(){if(!r.browserSupportsWebAuthnAutofill())return;let e=await n("authenticate");if(!e)return void console.error("Failed to fetch option for autofill authentication");try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=i();if(!r.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await n(void 0);if(!t)return void console.error("Failed to fetch options for form submission");if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),u()}let nw={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},nv=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
  --provider-bg: #fff;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #fff
  );
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
  --provider-bg: #161b22;
  --provider-bg-hover: color-mix(
    in srgb,
    var(--provider-brand-color) 30%,
    #000
  );
}

.__next-auth-theme-dark img[src$="42-school.svg"],
  .__next-auth-theme-dark img[src$="apple.svg"],
  .__next-auth-theme-dark img[src$="boxyhq-saml.svg"],
  .__next-auth-theme-dark img[src$="eveonline.svg"],
  .__next-auth-theme-dark img[src$="github.svg"],
  .__next-auth-theme-dark img[src$="mailchimp.svg"],
  .__next-auth-theme-dark img[src$="medium.svg"],
  .__next-auth-theme-dark img[src$="okta.svg"],
  .__next-auth-theme-dark img[src$="patreon.svg"],
  .__next-auth-theme-dark img[src$="ping-id.svg"],
  .__next-auth-theme-dark img[src$="roblox.svg"],
  .__next-auth-theme-dark img[src$="threads.svg"],
  .__next-auth-theme-dark img[src$="wikimedia.svg"] {
    filter: invert(1);
  }

.__next-auth-theme-dark #submitButton {
    background-color: var(--provider-bg, var(--color-info));
  }

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
    --provider-bg: #161b22;
    --provider-bg-hover: color-mix(
      in srgb,
      var(--provider-brand-color) 30%,
      #000
    );
  }
    .__next-auth-theme-auto img[src$="42-school.svg"],
    .__next-auth-theme-auto img[src$="apple.svg"],
    .__next-auth-theme-auto img[src$="boxyhq-saml.svg"],
    .__next-auth-theme-auto img[src$="eveonline.svg"],
    .__next-auth-theme-auto img[src$="github.svg"],
    .__next-auth-theme-auto img[src$="mailchimp.svg"],
    .__next-auth-theme-auto img[src$="medium.svg"],
    .__next-auth-theme-auto img[src$="okta.svg"],
    .__next-auth-theme-auto img[src$="patreon.svg"],
    .__next-auth-theme-auto img[src$="ping-id.svg"],
    .__next-auth-theme-auto img[src$="roblox.svg"],
    .__next-auth-theme-auto img[src$="threads.svg"],
    .__next-auth-theme-auto img[src$="wikimedia.svg"] {
      filter: invert(1);
    }
    .__next-auth-theme-auto #submitButton {
      background-color: var(--provider-bg, var(--color-info));
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: var(--provider-bg);
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function nk({html:e,title:t,status:r,cookies:n,theme:i,headTags:a}){return{cookies:n,status:r,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${nv}</style><title>${t}</title>${a??""}</head><body class="__next-auth-theme-${i?.colorScheme??"auto"}"><div class="page">${function(e,t,r){var n=rR.__s;rR.__s=!0,ns=rR.__b,no=rR.diffed,nc=rR.__r,nu=rR.unmount;var i=rK(rF,null);i.__k=[e];try{var a=function e(t,r,n,i,a,s,o){if(null==t||!0===t||!1===t||""===t)return"";var c=typeof t;if("object"!=c)return"function"==c?"":"string"==c?ne(t):t+"";if(np(t)){var u,l="";a.__k=t;for(var d=0;d<t.length;d++){var p=t[d];if(null!=p&&"boolean"!=typeof p){var h,f=e(p,r,n,i,a,s,o);"string"==typeof f?l+=f:(u||(u=[]),l&&u.push(l),l="",np(f)?(h=u).push.apply(h,f):u.push(f))}}return u?(l&&u.push(l),u):l}if(void 0!==t.constructor)return"";t.__=a,ns&&ns(t);var m=t.type,y=t.props;if("function"==typeof m){var g,b,_,w=r;if(m===rF){if("tpl"in y){for(var v="",k=0;k<y.tpl.length;k++)if(v+=y.tpl[k],y.exprs&&k<y.exprs.length){var E=y.exprs[k];if(null==E)continue;"object"==typeof E&&(void 0===E.constructor||np(E))?v+=e(E,r,n,i,t,s,o):v+=E}return v}if("UNSTABLE_comment"in y)return"\x3c!--"+ne(y.UNSTABLE_comment)+"--\x3e";b=y.children}else{if(null!=(g=m.contextType)){var S=r[g.__c];w=S?S.props.value:g.__}var A=m.prototype&&"function"==typeof m.prototype.render;if(A)b=nf(t,w),_=t.__c;else{t.__c=_={__v:t,context:w,props:t.props,setState:ni,forceUpdate:ni,__d:!0,__h:[]};for(var x=0;_.__d&&x++<25;)_.__d=!1,nc&&nc(t),b=m.call(_,y,w);_.__d=!0}if(null!=_.getChildContext&&(r=nh({},r,_.getChildContext())),A&&rR.errorBoundaries&&(m.getDerivedStateFromError||_.componentDidCatch)){b=null!=b&&b.type===rF&&null==b.key&&null==b.props.tpl?b.props.children:b;try{return e(b,r,n,i,t,s,o)}catch(a){return m.getDerivedStateFromError&&(_.__s=m.getDerivedStateFromError(a)),_.componentDidCatch&&_.componentDidCatch(a,nl),_.__d?(b=nf(t,r),null!=(_=t.__c).getChildContext&&(r=nh({},r,_.getChildContext())),e(b=null!=b&&b.type===rF&&null==b.key&&null==b.props.tpl?b.props.children:b,r,n,i,t,s,o)):""}finally{no&&no(t),t.__=null,nu&&nu(t)}}}b=null!=b&&b.type===rF&&null==b.key&&null==b.props.tpl?b.props.children:b;try{var R=e(b,r,n,i,t,s,o);return no&&no(t),t.__=null,rR.unmount&&rR.unmount(t),R}catch(a){if(!s&&o&&o.onError){var P=o.onError(a,t,function(a){return e(a,r,n,i,t,s,o)});if(void 0!==P)return P;var T=rR.__e;return T&&T(a,t),""}if(!s||!a||"function"!=typeof a.then)throw a;return a.then(function a(){try{return e(b,r,n,i,t,s,o)}catch(c){if(!c||"function"!=typeof c.then)throw c;return c.then(function(){return e(b,r,n,i,t,s,o)},a)}})}}var O,C="<"+m,j="";for(var I in y){var U=y[I];if("function"!=typeof U||"class"===I||"className"===I){switch(I){case"children":O=U;continue;case"key":case"ref":case"__self":case"__source":continue;case"htmlFor":if("for"in y)continue;I="for";break;case"className":if("class"in y)continue;I="class";break;case"defaultChecked":I="checked";break;case"defaultSelected":I="selected";break;case"defaultValue":case"value":switch(I="value",m){case"textarea":O=U;continue;case"select":i=U;continue;case"option":i!=U||"selected"in y||(C+=" selected")}break;case"dangerouslySetInnerHTML":j=U&&U.__html;continue;case"style":"object"==typeof U&&(U=function(e){var t="";for(var r in e){var n=e[r];if(null!=n&&""!==n){var i="-"==r[0]?r:nt[r]||(nt[r]=r.replace(nn,"-$&").toLowerCase()),a=";";"number"!=typeof n||i.startsWith("--")||nr.has(i)||(a="px;"),t=t+i+":"+n+a}}return t||void 0}(U));break;case"acceptCharset":I="accept-charset";break;case"httpEquiv":I="http-equiv";break;default:if(r4.test(I))I=I.replace(r4,"$1:$2").toLowerCase();else{if(r5.test(I))continue;("-"===I[4]||r8.has(I))&&null!=U?U+="":n?r9.test(I)&&(I="panose1"===I?"panose-1":I.replace(/([A-Z])/g,"-$1").toLowerCase()):r6.test(I)&&(I=I.toLowerCase())}}null!=U&&!1!==U&&(C=!0===U||""===U?C+" "+I:C+" "+I+'="'+("string"==typeof U?ne(U):U+"")+'"')}}if(r5.test(m))throw Error(m+" is not a valid HTML tag name in "+C+">");if(j||("string"==typeof O?j=ne(O):null!=O&&!1!==O&&!0!==O&&(j=e(O,r,"svg"===m||"foreignObject"!==m&&n,i,t,s,o))),no&&no(t),t.__=null,nu&&nu(t),!j&&nm.has(m))return C+"/>";var $="</"+m+">",N=C+">";return np(j)?[N].concat(j,[$]):"string"!=typeof j?[N,j,$]:N+j+$}(e,nl,!1,void 0,i,!1,void 0);return np(a)?a.join(""):a}catch(e){if(e.then)throw Error('Use "renderToStringAsync" for suspenseful rendering.');throw e}finally{rR.__c&&rR.__c(e,nd),rR.__s=n,nd.length=0}}(e)}</div></body></html>`}}function nE(e){let{url:t,theme:r,query:n,cookies:i,pages:a,providers:s}=e;return{csrf:(e,t,r)=>e?(t.logger.warn("csrf-disabled"),r.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:r}):{headers:{"Content-Type":"application/json","Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"},body:{csrfToken:t.csrfToken},cookies:r},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:r,type:n,signinUrl:i,callbackUrl:a})=>(e[t]={id:t,name:r,type:n,signinUrl:i,callbackUrl:a},e),{})}),signin(t,o){if(t)throw new H("Unsupported action");if(a?.signIn){let t=`${a.signIn}${a.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:i}}let c=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),u="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;u=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return nk({cookies:i,theme:r,html:function(e){let{csrfToken:t,providers:r=[],callbackUrl:n,theme:i,email:a,error:s}=e;"undefined"!=typeof document&&i?.brandColor&&document.documentElement.style.setProperty("--brand-color",i.brandColor),"undefined"!=typeof document&&i?.buttonText&&document.documentElement.style.setProperty("--button-text-color",i.buttonText);let o=s&&(nw[s]??nw.default),c=r.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return nb("div",{className:"signin",children:[i?.brandColor&&nb("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${i.brandColor}}`}}),i?.buttonText&&nb("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${i.buttonText}
        }
      `}}),nb("div",{className:"card",children:[o&&nb("div",{className:"error",children:nb("p",{children:o})}),i?.logo&&nb("img",{src:i.logo,alt:"Logo",className:"logo"}),r.map((e,i)=>{let s,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let u=o??s??"#fff";return nb("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?nb("form",{action:e.signinUrl,method:"POST",children:[nb("input",{type:"hidden",name:"csrfToken",value:t}),n&&nb("input",{type:"hidden",name:"callbackUrl",value:n}),nb("button",{type:"submit",className:"button",style:{"--provider-brand-color":u},tabIndex:0,children:[nb("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&nb("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i>0&&"email"!==r[i-1].type&&"credentials"!==r[i-1].type&&"webauthn"!==r[i-1].type&&nb("hr",{}),"email"===e.type&&nb("form",{action:e.signinUrl,method:"POST",children:[nb("input",{type:"hidden",name:"csrfToken",value:t}),nb("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),nb("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:a,placeholder:"email@example.com",required:!0}),nb("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&nb("form",{action:e.callbackUrl,method:"POST",children:[nb("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>nb("div",{children:[nb("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),nb("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),nb("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&nb("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[nb("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>nb("div",{children:[nb("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),nb("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),nb("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&i+1<r.length&&nb("hr",{})]},e.id)})]}),c&&nb(rF,{children:nb("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${n_})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...n}),title:"Sign In",headTags:u})},signout:()=>a?.signOut?{redirect:a.signOut,cookies:i}:nk({cookies:i,theme:r,html:function(e){let{url:t,csrfToken:r,theme:n}=e;return nb("div",{className:"signout",children:[n?.brandColor&&nb("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n.brandColor}
        }
      `}}),n?.buttonText&&nb("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${n.buttonText}
        }
      `}}),nb("div",{className:"card",children:[n?.logo&&nb("img",{src:n.logo,alt:"Logo",className:"logo"}),nb("h1",{children:"Signout"}),nb("p",{children:"Are you sure you want to sign out?"}),nb("form",{action:t?.toString(),method:"POST",children:[nb("input",{type:"hidden",name:"csrfToken",value:r}),nb("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:r}),title:"Sign Out"}),verifyRequest:e=>a?.verifyRequest?{redirect:`${a.verifyRequest}${t?.search??""}`,cookies:i}:nk({cookies:i,theme:r,html:function(e){let{url:t,theme:r}=e;return nb("div",{className:"verify-request",children:[r.brandColor&&nb("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${r.brandColor}
        }
      `}}),nb("div",{className:"card",children:[r.logo&&nb("img",{src:r.logo,alt:"Logo",className:"logo"}),nb("h1",{children:"Check your email"}),nb("p",{children:"A sign in link has been sent to your email address."}),nb("p",{children:nb("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:r,...e}),title:"Verify Request"}),error:e=>a?.error?{redirect:`${a.error}${a.error.includes("?")?"&":"?"}error=${e}`,cookies:i}:nk({cookies:i,theme:r,...function(e){let{url:t,error:r="default",theme:n}=e,i=`${t}/signin`,a={default:{status:200,heading:"Error",message:nb("p",{children:nb("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:nb("div",{children:[nb("p",{children:"There is a problem with the server configuration."}),nb("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:nb("div",{children:[nb("p",{children:"You do not have permission to sign in."}),nb("p",{children:nb("a",{className:"button",href:i,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:nb("div",{children:[nb("p",{children:"The sign in link is no longer valid."}),nb("p",{children:"It may have been used already or it may have expired."})]}),signin:nb("a",{className:"button",href:i,children:"Sign in"})}},{status:s,heading:o,message:c,signin:u}=a[r]??a.default;return{status:s,html:nb("div",{className:"error",children:[n?.brandColor&&nb("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${n?.brandColor}
        }
      `}}),nb("div",{className:"card",children:[n?.logo&&nb("img",{src:n?.logo,alt:"Logo",className:"logo"}),nb("h1",{children:o}),nb("div",{className:"message",children:c}),u]})]})}}({url:t,theme:r,error:e}),title:"Error"})}}function nS(e,t=Date.now()){return new Date(t+1e3*e)}async function nA(e,t,r,n){if(!r?.providerAccountId||!r.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(r.type))throw Error("Provider not supported");let{adapter:i,jwt:a,events:s,session:{strategy:o,generateSessionToken:c}}=n;if(!i)return{user:t,account:r};let u=r,{createUser:l,updateUser:d,getUser:p,getUserByAccount:h,getUserByEmail:f,linkAccount:m,createSession:y,getSessionAndUser:g,deleteSession:b}=i,_=null,w=null,v=!1,k="jwt"===o;if(e)if(k)try{let t=n.cookies.sessionToken.name;(_=await a.decode({...a,token:e,salt:t}))&&"sub"in _&&_.sub&&(w=await p(_.sub))}catch{}else{let t=await g(e);t&&(_=t.session,w=t.user)}if("email"===u.type){let r=await f(t.email);return r?(w?.id!==r.id&&!k&&e&&await b(e),w=await d({id:r.id,emailVerified:new Date}),await s.updateUser?.({user:w})):(w=await l({...t,emailVerified:new Date}),await s.createUser?.({user:w}),v=!0),{session:_=k?{}:await y({sessionToken:c(),userId:w.id,expires:nS(n.session.maxAge)}),user:w,isNewUser:v}}if("webauthn"===u.type){let e=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(e){if(w){if(e.id===w.id){let e={...u,userId:w.id};return{session:_,user:w,isNewUser:v,account:e}}throw new Z("The account is already associated with another user",{provider:u.provider})}_=k?{}:await y({sessionToken:c(),userId:e.id,expires:nS(n.session.maxAge)});let t={...u,userId:e.id};return{session:_,user:e,isNewUser:v,account:t}}{if(w){await m({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t});let e={...u,userId:w.id};return{session:_,user:w,isNewUser:v,account:e}}if(t.email?await f(t.email):null)throw new Z("Another account already exists with the same e-mail address",{provider:u.provider});w=await l({...t}),await s.createUser?.({user:w}),await m({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),_=k?{}:await y({sessionToken:c(),userId:w.id,expires:nS(n.session.maxAge)});let e={...u,userId:w.id};return{session:_,user:w,isNewUser:!0,account:e}}}let E=await h({providerAccountId:u.providerAccountId,provider:u.provider});if(E){if(w){if(E.id===w.id)return{session:_,user:w,isNewUser:v};throw new C("The account is already associated with another user",{provider:u.provider})}return{session:_=k?{}:await y({sessionToken:c(),userId:E.id,expires:nS(n.session.maxAge)}),user:E,isNewUser:v}}{let{provider:e}=n,{type:r,provider:i,providerAccountId:a,userId:o,...d}=u;if(u=Object.assign(e.account(d)??{},{providerAccountId:a,provider:i,type:r,userId:o}),w)return await m({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),{session:_,user:w,isNewUser:v};let p=t.email?await f(t.email):null;if(p){let e=n.provider;if(e?.allowDangerousEmailAccountLinking)w=p,v=!1;else throw new C("Another account already exists with the same e-mail address",{provider:u.provider})}else w=await l({...t,emailVerified:null}),v=!0;return await s.createUser?.({user:w}),await m({...u,userId:w.id}),await s.linkAccount?.({user:w,account:u,profile:t}),{session:_=k?{}:await y({sessionToken:c(),userId:w.id,expires:nS(n.session.maxAge)}),user:w,isNewUser:v}}}function nx(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(a="oauth4webapi/v3.5.5");let nR="ERR_INVALID_ARG_VALUE",nP="ERR_INVALID_ARG_TYPE";function nT(e,t,r){let n=TypeError(e,{cause:r});return Object.assign(n,{code:t}),n}let nO=Symbol(),nC=Symbol(),nj=Symbol(),nI=Symbol(),nU=Symbol(),n$=Symbol(),nN=Symbol(),nD=new TextEncoder,nH=new TextDecoder;function nL(e){return"string"==typeof e?nD.encode(e):nH.decode(e)}function nM(e){return"string"==typeof e?o(e):s(e)}s=Uint8Array.prototype.toBase64?e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:"base64url",omitPadding:!0})):e=>{e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let r=0;r<e.byteLength;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},o=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:"base64url"})}catch(e){throw nT("The input to be decoded is not correctly encoded.",nR,e)}}:e=>{try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r}catch(e){throw nT("The input to be decoded is not correctly encoded.",nR,e)}};class nW extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iQ,Error.captureStackTrace?.(this,this.constructor)}}class nK extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function nJ(e,t,r){return new nK(e,{code:t,cause:r})}function nF(e,t){if(!(e instanceof CryptoKey))throw nT(`${t} must be a CryptoKey`,nP)}function nq(e,t){if(nF(e,t),"private"!==e.type)throw nT(`${t} must be a private CryptoKey`,nR)}function nB(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function nz(e){nx(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e??{});if(a&&!t.has("user-agent")&&t.set("user-agent",a),t.has("authorization"))throw nT('"options.headers" must not include the "authorization" header name',nR);return t}function nZ(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw nT('"options.signal" must return or be an instance of AbortSignal',nP);return e}function nV(e){return e.includes("//")?e.replace("//","/"):e}async function nG(e,t,r,n){if(!(e instanceof URL))throw nT(`"${t}" must be an instance of URL`,nP);io(e,n?.[nO]!==!0);let i=r(new URL(e.href)),a=nz(n?.headers);return a.set("accept","application/json"),(n?.[nI]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:n?.signal?nZ(n.signal):void 0})}async function nX(e,t){return nG(e,"issuerIdentifier",e=>{switch(t?.algorithm){case void 0:case"oidc":e.pathname=nV(`${e.pathname}/.well-known/openid-configuration`);break;case"oauth2":!function(e,t,r=!1){"/"===e.pathname?e.pathname=t:e.pathname=nV(`${t}/${r?e.pathname:e.pathname.replace(/(\/)$/,"")}`)}(e,".well-known/oauth-authorization-server");break;default:throw nT('"options.algorithm" must be "oidc" (default), or "oauth2"',nR)}return e},t)}function nY(e,t,r,n,i){try{if("number"!=typeof e||!Number.isFinite(e))throw nT(`${r} must be a number`,nP,i);if(e>0)return;if(t){if(0!==e)throw nT(`${r} must be a non-negative number`,nR,i);return}throw nT(`${r} must be a positive number`,nR,i)}catch(e){if(n)throw nJ(e.message,n,i);throw e}}function nQ(e,t,r,n){try{if("string"!=typeof e)throw nT(`${t} must be a string`,nP,n);if(0===e.length)throw nT(`${t} must not be empty`,nR,n)}catch(e){if(r)throw nJ(e.message,r,n);throw e}}async function n0(e,t){if(!(e instanceof URL)&&e!==ax)throw nT('"expectedIssuerIdentifier" must be an instance of URL',nP);if(!nx(t,Response))throw nT('"response" must be an instance of Response',nP);if(200!==t.status)throw nJ('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',i6,t);as(t);let r=await aA(t);if(nQ(r.issuer,'"response" body "issuer" property',i3,{body:r}),e!==ax&&new URL(r.issuer).href!==e.href)throw nJ('"response" body "issuer" property does not match the expected value',at,{expected:e.href,body:r,attribute:"issuer"});return r}function n1(e){var t=e,r="application/json";if(iP(t)!==r)throw n2(t,r)}function n2(e,...t){let r='"response" content-type must be ';if(t.length>2){let e=t.pop();r+=`${t.join(", ")}, or ${e}`}else 2===t.length?r+=`${t[0]} or ${t[1]}`:r+=t[0];return nJ(r,i4,e)}function n3(){return nM(crypto.getRandomValues(new Uint8Array(32)))}async function n5(e){return nQ(e,"codeVerifier"),nM(await crypto.subtle.digest("SHA-256",nL(e)))}function n4(e){switch(e.algorithm.name){case"RSA-PSS":switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new nW("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new nW("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}case"ECDSA":switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new nW("unsupported EcKeyAlgorithm namedCurve",{cause:e})}case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nW("unsupported CryptoKey algorithm name",{cause:e})}}function n6(e){let t=e?.[nC];return"number"==typeof t&&Number.isFinite(t)?t:0}function n9(e){let t=e?.[nj];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function n8(){return Math.floor(Date.now()/1e3)}function n7(e){if("object"!=typeof e||null===e)throw nT('"as" must be an object',nP);nQ(e.issuer,'"as.issuer"')}function ie(e){if("object"!=typeof e||null===e)throw nT('"client" must be an object',nP);nQ(e.client_id,'"client.client_id"')}function it(e,t){let r=n8()+n6(t);return{jti:n3(),aud:e.issuer,exp:r+60,iat:r,nbf:r,iss:t.client_id,sub:t.client_id}}async function ir(e,t,r){if(!r.usages.includes("sign"))throw nT('CryptoKey instances used for signing assertions must include "sign" in their "usages"',nR);let n=`${nM(nL(JSON.stringify(e)))}.${nM(nL(JSON.stringify(t)))}`,i=nM(await crypto.subtle.sign(ad(r),r,nL(n)));return`${n}.${i}`}async function ii(e){let{kty:t,e:r,n,x:i,y:a,crv:s}=await crypto.subtle.exportKey("jwk",e),o={kty:t,e:r,n,x:i,y:a,crv:s};return c.set(e,o),o}async function ia(e){return(c||=new WeakMap).get(e)||ii(e)}let is=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function io(e,t){if(t&&"https:"!==e.protocol)throw nJ("only requests to HTTPS are allowed",i9,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw nJ("only HTTP and HTTPS requests are allowed",i8,e)}function ic(e,t,r,n){let i;if("string"!=typeof e||!(i=is(e)))throw nJ(`authorization server metadata does not contain a valid ${r?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?an:ai,{attribute:r?`mtls_endpoint_aliases.${t}`:t});return io(i,n),i}function iu(e,t,r,n){return r&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?ic(e.mtls_endpoint_aliases[t],t,r,n):ic(e[t],t,r,n)}class il extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iY,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class id extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=i0,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class ip extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=iX,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let ih="[a-zA-Z0-9!#$%&\\'\\*\\+\\-\\.\\^_`\\|~]+",im=RegExp("^[,\\s]*("+ih+")\\s(.*)"),iy=RegExp("^[,\\s]*("+ih+')\\s*=\\s*"((?:[^"\\\\]|\\\\.)*)"[,\\s]*(.*)'),ig=RegExp("^[,\\s]*"+("("+ih+")\\s*=\\s*(")+ih+")[,\\s]*(.*)"),ib=RegExp("^([a-zA-Z0-9\\-\\._\\~\\+\\/]+[=]{0,2})(?:$|[,\\s])(.*)");async function i_(e){if(e.status>399&&e.status<500){as(e),n1(e);try{let t=await e.clone().json();if(nB(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}async function iw(e,t,r){if(e.status!==t){let t;if(t=await i_(e))throw await e.body?.cancel(),new il("server responded with an error in the response body",{cause:t,response:e});throw nJ(`"response" is not a conform ${r} response (unexpected HTTP status code)`,i6,e)}}function iv(e){if(!iW.has(e))throw nT('"options.DPoP" is not a valid DPoPHandle',nR)}async function ik(e,t,r,n,i,a){if(nQ(e,'"accessToken"'),!(r instanceof URL))throw nT('"url" must be an instance of URL',nP);io(r,a?.[nO]!==!0),n=nz(n),a?.DPoP&&(iv(a.DPoP),await a.DPoP.addProof(r,n,t.toUpperCase(),e)),n.set("authorization",`${n.has("dpop")?"DPoP":"Bearer"} ${e}`);let s=await (a?.[nI]||fetch)(r.href,{body:i,headers:Object.fromEntries(n.entries()),method:t,redirect:"manual",signal:a?.signal?nZ(a.signal):void 0});return a?.DPoP?.cacheNonce(s),s}async function iE(e,t,r,n){n7(e),ie(t);let i=iu(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,n?.[nO]!==!0),a=nz(n?.headers);return t.userinfo_signed_response_alg?a.set("accept","application/jwt"):(a.set("accept","application/json"),a.append("accept","application/jwt")),ik(r,"GET",i,a,null,{...n,[nC]:n6(t)})}function iS(e,t,r,n){(u||=new WeakMap).set(e,{jwks:t,uat:r,get age(){return n8()-this.uat}}),n&&Object.assign(n,{jwks:structuredClone(t),uat:r})}function iA(e,t){u?.delete(e),delete t?.jwks,delete t?.uat}async function ix(e,t,r){var n;let i,a,s,{alg:o,kid:c}=r;if(function(e){if(!au(e.alg))throw new nW('unsupported JWS "alg" identifier',{cause:{alg:e.alg}})}(r),!u?.has(e)&&!("object"!=typeof(n=t?.[nN])||null===n||!("uat"in n)||"number"!=typeof n.uat||n8()-n.uat>=300)&&"jwks"in n&&nB(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,nB)&&iS(e,t?.[nN].jwks,t?.[nN].uat),u?.has(e)){if({jwks:i,age:a}=u.get(e),a>=300)return iA(e,t?.[nN]),ix(e,t,r)}else i=await ao(e,t).then(ac),a=0,iS(e,i,n8(),t?.[nN]);switch(o.slice(0,2)){case"RS":case"PS":s="RSA";break;case"ES":s="EC";break;case"Ed":s="OKP";break;default:throw new nW("unsupported JWS algorithm",{cause:{alg:o}})}let l=i.keys.filter(e=>{if(e.kty!==s||void 0!==c&&c!==e.kid||void 0!==e.alg&&o!==e.alg||void 0!==e.use&&"sig"!==e.use||e.key_ops?.includes("verify")===!1)return!1;switch(!0){case"ES256"===o&&"P-256"!==e.crv:case"ES384"===o&&"P-384"!==e.crv:case"ES512"===o&&"P-521"!==e.crv:case"Ed25519"===o&&"Ed25519"!==e.crv:case"EdDSA"===o&&"Ed25519"!==e.crv:return!1}return!0}),{0:d,length:p}=l;if(!p){if(a>=60)return iA(e,t?.[nN]),ix(e,t,r);throw nJ("error when selecting a JWT verification key, no applicable keys found",ar,{header:r,candidates:l,jwks_uri:new URL(e.jwks_uri)})}if(1!==p)throw nJ('error when selecting a JWT verification key, multiple applicable keys found, a "kid" JWT Header Parameter is required',ar,{header:r,candidates:l,jwks_uri:new URL(e.jwks_uri)});return aE(o,d)}let iR=Symbol();function iP(e){return e.headers.get("content-type")?.split(";")[0]}async function iT(e,t,r,n,i){let a;if(n7(e),ie(t),!nx(n,Response))throw nT('"response" must be an instance of Response',nP);if(iN(n),200!==n.status)throw nJ('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',i6,n);if(as(n),"application/jwt"===iP(n)){let{claims:r,jwt:s}=await ah(await n.text(),ab.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),n6(t),n9(t),i?.[n$]).then(iD.bind(void 0,t.client_id)).then(iL.bind(void 0,e));iI.set(n,s),a=r}else{if(t.userinfo_signed_response_alg)throw nJ("JWT UserInfo Response expected",i1,n);a=await aA(n)}if(nQ(a.sub,'"response" body "sub" property',i3,{body:a}),r===iR);else if(nQ(r,'"expectedSubject"'),a.sub!==r)throw nJ('unexpected "response" body "sub" property value',at,{expected:r,body:a,attribute:"sub"});return a}async function iO(e,t,r,n,i,a,s){return await r(e,t,i,a),a.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[nI]||fetch)(n.href,{body:i,headers:Object.fromEntries(a.entries()),method:"POST",redirect:"manual",signal:s?.signal?nZ(s.signal):void 0})}async function iC(e,t,r,n,i,a){let s=iu(e,"token_endpoint",t.use_mtls_endpoint_aliases,a?.[nO]!==!0);i.set("grant_type",n);let o=nz(a?.headers);o.set("accept","application/json"),a?.DPoP!==void 0&&(iv(a.DPoP),await a.DPoP.addProof(s,o,"POST"));let c=await iO(e,t,r,s,i,o,a);return a?.DPoP?.cacheNonce(c),c}let ij=new WeakMap,iI=new WeakMap;function iU(e){if(!e.id_token)return;let t=ij.get(e);if(!t)throw nT('"ref" was already garbage collected or did not resolve from the proper sources',nR);return t}async function i$(e,t,r,n,i){if(n7(e),ie(t),!nx(r,Response))throw nT('"response" must be an instance of Response',nP);iN(r),await iw(r,200,"Token Endpoint"),as(r);let a=await aA(r);if(nQ(a.access_token,'"response" body "access_token" property',i3,{body:a}),nQ(a.token_type,'"response" body "token_type" property',i3,{body:a}),a.token_type=a.token_type.toLowerCase(),"dpop"!==a.token_type&&"bearer"!==a.token_type)throw new nW("unsupported `token_type` value",{cause:{body:a}});if(void 0!==a.expires_in){let e="number"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;nY(e,!1,'"response" body "expires_in" property',i3,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&nQ(a.refresh_token,'"response" body "refresh_token" property',i3,{body:a}),void 0!==a.scope&&"string"!=typeof a.scope)throw nJ('"response" body "scope" property must be a string',i3,{body:a});if(void 0!==a.id_token){nQ(a.id_token,'"response" body "id_token" property',i3,{body:a});let s=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&s.push("auth_time"),void 0!==t.default_max_age&&(nY(t.default_max_age,!1,'"client.default_max_age"'),s.push("auth_time")),n?.length&&s.push(...n);let{claims:o,jwt:c}=await ah(a.id_token,ab.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),n6(t),n9(t),i?.[n$]).then(iq.bind(void 0,s)).then(iM.bind(void 0,e)).then(iH.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw nJ('ID Token "aud" (audience) claim includes additional untrusted audiences',ae,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw nJ('unexpected ID Token "azp" (authorized party) claim value',ae,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&nY(o.auth_time,!1,'ID Token "auth_time" (authentication time)',i3,{claims:o}),iI.set(r,c),ij.set(a,o)}return a}function iN(e){let t;if(t=function(e){if(!nx(e,Response))throw nT('"response" must be an instance of Response',nP);let t=e.headers.get("www-authenticate");if(null===t)return;let r=[],n=t;for(;n;){let e,t=n.match(im),i=t?.["1"].toLowerCase();if(n=t?.["2"],!i)return;let a={};for(;n;){let r,i;if(t=n.match(iy)){if([,r,i,n]=t,i.includes("\\"))try{i=JSON.parse(`"${i}"`)}catch{}a[r.toLowerCase()]=i;continue}if(t=n.match(ig)){[,r,i,n]=t,a[r.toLowerCase()]=i;continue}if(t=n.match(ib)){if(Object.keys(a).length)break;[,e,n]=t;break}return}let s={scheme:i,parameters:a};e&&(s.token68=e),r.push(s)}if(r.length)return r}(e))throw new ip("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:t,response:e})}function iD(e,t){return void 0!==t.claims.aud?iH(e,t):t}function iH(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw nJ('unexpected JWT "aud" (audience) claim value',ae,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw nJ('unexpected JWT "aud" (audience) claim value',ae,{expected:e,claims:t.claims,claim:"aud"});return t}function iL(e,t){return void 0!==t.claims.iss?iM(e,t):t}function iM(e,t){let r=e[aR]?.(t)??e.issuer;if(t.claims.iss!==r)throw nJ('unexpected JWT "iss" (issuer) claim value',ae,{expected:r,claims:t.claims,claim:"iss"});return t}let iW=new WeakSet,iK=Symbol();async function iJ(e,t,r,n,i,a,s){if(n7(e),ie(t),!iW.has(n))throw nT('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',nR);nQ(i,'"redirectUri"');let o=a_(n,"code");if(!o)throw nJ('no authorization code in "callbackParameters"',i3);let c=new URLSearchParams(s?.additionalParameters);return c.set("redirect_uri",i),c.set("code",o),a!==iK&&(nQ(a,'"codeVerifier"'),c.set("code_verifier",a)),iC(e,t,r,"authorization_code",c,s)}let iF={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function iq(e,t){for(let r of e)if(void 0===t.claims[r])throw nJ(`JWT "${r}" (${iF[r]}) claim missing`,i3,{claims:t.claims});return t}let iB=Symbol(),iz=Symbol();async function iZ(e,t,r,n){return"string"==typeof n?.expectedNonce||"number"==typeof n?.maxAge||n?.requireIdToken?iV(e,t,r,n.expectedNonce,n.maxAge,{[n$]:n[n$]}):iG(e,t,r,n)}async function iV(e,t,r,n,i,a){let s=[];switch(n){case void 0:n=iB;break;case iB:break;default:nQ(n,'"expectedNonce" argument'),s.push("nonce")}switch(i??=t.default_max_age){case void 0:i=iz;break;case iz:break;default:nY(i,!1,'"maxAge" argument'),s.push("auth_time")}let o=await i$(e,t,r,s,a);nQ(o.id_token,'"response" body "id_token" property',i3,{body:o});let c=iU(o);if(i!==iz){let e=n8()+n6(t),r=n9(t);if(c.auth_time+i<e-r)throw nJ("too much time has elapsed since the last End-User authentication",i7,{claims:c,now:e,tolerance:r,claim:"auth_time"})}if(n===iB){if(void 0!==c.nonce)throw nJ('unexpected ID Token "nonce" claim value',ae,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==n)throw nJ('unexpected ID Token "nonce" claim value',ae,{expected:n,claims:c,claim:"nonce"});return o}async function iG(e,t,r,n){let i=await i$(e,t,r,void 0,n),a=iU(i);if(a){if(void 0!==t.default_max_age){nY(t.default_max_age,!1,'"client.default_max_age"');let e=n8()+n6(t),r=n9(t);if(a.auth_time+t.default_max_age<e-r)throw nJ("too much time has elapsed since the last End-User authentication",i7,{claims:a,now:e,tolerance:r,claim:"auth_time"})}if(void 0!==a.nonce)throw nJ('unexpected ID Token "nonce" claim value',ae,{expected:void 0,claims:a,claim:"nonce"})}return i}let iX="OAUTH_WWW_AUTHENTICATE_CHALLENGE",iY="OAUTH_RESPONSE_BODY_ERROR",iQ="OAUTH_UNSUPPORTED_OPERATION",i0="OAUTH_AUTHORIZATION_RESPONSE_ERROR",i1="OAUTH_JWT_USERINFO_EXPECTED",i2="OAUTH_PARSE_ERROR",i3="OAUTH_INVALID_RESPONSE",i5="OAUTH_INVALID_REQUEST",i4="OAUTH_RESPONSE_IS_NOT_JSON",i6="OAUTH_RESPONSE_IS_NOT_CONFORM",i9="OAUTH_HTTP_REQUEST_FORBIDDEN",i8="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",i7="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",ae="OAUTH_JWT_CLAIM_COMPARISON_FAILED",at="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",ar="OAUTH_KEY_SELECTION_FAILED",an="OAUTH_MISSING_SERVER_METADATA",ai="OAUTH_INVALID_SERVER_METADATA";function aa(e,t){if("string"!=typeof t.header.typ||t.header.typ.toLowerCase().replace(/^application\//,"")!==e)throw nJ('unexpected JWT "typ" header parameter value',i3,{header:t.header});return t}function as(e){if(e.bodyUsed)throw nT('"response" body has been used already',nR)}async function ao(e,t){n7(e);let r=iu(e,"jwks_uri",!1,t?.[nO]!==!0),n=nz(t?.headers);return n.set("accept","application/json"),n.append("accept","application/jwk-set+json"),(t?.[nI]||fetch)(r.href,{body:void 0,headers:Object.fromEntries(n.entries()),method:"GET",redirect:"manual",signal:t?.signal?nZ(t.signal):void 0})}async function ac(e){if(!nx(e,Response))throw nT('"response" must be an instance of Response',nP);if(200!==e.status)throw nJ('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',i6,e);as(e);let t=await aA(e,e=>(function(e,...t){if(!t.includes(iP(e)))throw n2(e,...t)})(e,"application/json","application/jwk-set+json"));if(!Array.isArray(t.keys))throw nJ('"response" body "keys" property must be an array',i3,{body:t});if(!Array.prototype.every.call(t.keys,nB))throw nJ('"response" body "keys" property members must be JWK formatted objects',i3,{body:t});return t}function au(e){switch(e){case"PS256":case"ES256":case"RS256":case"PS384":case"ES384":case"RS384":case"PS512":case"ES512":case"RS512":case"Ed25519":case"EdDSA":return!0;default:return!1}}function al(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new nW(`unsupported ${t.name} modulusLength`,{cause:e})}function ad(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new nW("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(al(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new nW("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return al(e),e.algorithm.name;case"Ed25519":return e.algorithm.name}throw new nW("unsupported CryptoKey algorithm name",{cause:e})}async function ap(e,t,r,n){let i=nL(`${e}.${t}`),a=ad(r);if(!await crypto.subtle.verify(a,r,n,i))throw nJ("JWT signature verification failed",i3,{key:r,data:i,signature:n,algorithm:a})}async function ah(e,t,r,n,i){let a,s,{0:o,1:c,length:u}=e.split(".");if(5===u)if(void 0!==i)e=await i(e),{0:o,1:c,length:u}=e.split(".");else throw new nW("JWE decryption is not configured",{cause:e});if(3!==u)throw nJ("Invalid JWT",i3,e);try{a=JSON.parse(nL(nM(o)))}catch(e){throw nJ("failed to parse JWT Header body as base64url encoded JSON",i2,e)}if(!nB(a))throw nJ("JWT Header must be a top level object",i3,e);if(t(a),void 0!==a.crit)throw new nW('no JWT "crit" header parameter extensions are supported',{cause:{header:a}});try{s=JSON.parse(nL(nM(c)))}catch(e){throw nJ("failed to parse JWT Payload body as base64url encoded JSON",i2,e)}if(!nB(s))throw nJ("JWT Payload must be a top level object",i3,e);let l=n8()+r;if(void 0!==s.exp){if("number"!=typeof s.exp)throw nJ('unexpected JWT "exp" (expiration time) claim type',i3,{claims:s});if(s.exp<=l-n)throw nJ('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',i7,{claims:s,now:l,tolerance:n,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw nJ('unexpected JWT "iat" (issued at) claim type',i3,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw nJ('unexpected JWT "iss" (issuer) claim type',i3,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw nJ('unexpected JWT "nbf" (not before) claim type',i3,{claims:s});if(s.nbf>l+n)throw nJ('unexpected JWT "nbf" (not before) claim value',i7,{claims:s,now:l,tolerance:n,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw nJ('unexpected JWT "aud" (audience) claim type',i3,{claims:s});return{header:a,claims:s,jwt:e}}async function af(e,t,r){let n;switch(t.alg){case"RS256":case"PS256":case"ES256":n="SHA-256";break;case"RS384":case"PS384":case"ES384":n="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":n="SHA-512";break;default:throw new nW(`unsupported JWS algorithm for ${r} calculation`,{cause:{alg:t.alg}})}let i=await crypto.subtle.digest(n,nL(e));return nM(i.slice(0,i.byteLength/2))}async function am(e,t,r,n){return t===await af(e,r,n)}async function ay(e){if(e.bodyUsed)throw nT("form_post Request instances must contain a readable body",nR,{cause:e});return e.text()}async function ag(e){if("POST"!==e.method)throw nT("form_post responses are expected to use the POST method",nR,{cause:e});if("application/x-www-form-urlencoded"!==iP(e))throw nT("form_post responses are expected to use the application/x-www-form-urlencoded content-type",nR,{cause:e});return ay(e)}function ab(e,t,r,n){if(void 0!==e){if("string"==typeof e?n.alg!==e:!e.includes(n.alg))throw nJ('unexpected JWT "alg" header parameter',i3,{header:n,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(n.alg))throw nJ('unexpected JWT "alg" header parameter',i3,{header:n,expected:t,reason:"authorization server metadata"});return}if(void 0!==r){if("string"==typeof r?n.alg!==r:"function"==typeof r?!r(n.alg):!r.includes(n.alg))throw nJ('unexpected JWT "alg" header parameter',i3,{header:n,expected:r,reason:"default value"});return}throw nJ('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:r})}function a_(e,t){let{0:r,length:n}=e.getAll(t);if(n>1)throw nJ(`"${t}" parameter must be provided only once`,i3);return r}let aw=Symbol(),av=Symbol();function ak(e,t,r,n){var i;if(n7(e),ie(t),r instanceof URL&&(r=r.searchParams),!(r instanceof URLSearchParams))throw nT('"parameters" must be an instance of URLSearchParams, or URL',nP);if(a_(r,"response"))throw nJ('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',i3,{parameters:r});let a=a_(r,"iss"),s=a_(r,"state");if(!a&&e.authorization_response_iss_parameter_supported)throw nJ('response parameter "iss" (issuer) missing',i3,{parameters:r});if(a&&a!==e.issuer)throw nJ('unexpected "iss" (issuer) response parameter value',i3,{expected:e.issuer,parameters:r});switch(n){case void 0:case av:if(void 0!==s)throw nJ('unexpected "state" response parameter encountered',i3,{expected:void 0,parameters:r});break;case aw:break;default:if(nQ(n,'"expectedState" argument'),s!==n)throw nJ(void 0===s?'response parameter "state" missing':'unexpected "state" response parameter value',i3,{expected:n,parameters:r})}if(a_(r,"error"))throw new id("authorization response from the server is an error",{cause:r});let o=a_(r,"id_token"),c=a_(r,"token");if(void 0!==o||void 0!==c)throw new nW("implicit and hybrid flows are not supported");return i=new URLSearchParams(r),iW.add(i),i}async function aE(e,t){let{ext:r,key_ops:n,use:i,...a}=t;return crypto.subtle.importKey("jwk",a,function(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new nW("unsupported JWS algorithm",{cause:{alg:e}})}}(e),!0,["verify"])}function aS(e){let t=new URL(e);return t.search="",t.hash="",t.href}async function aA(e,t=n1){let r;try{r=await e.json()}catch(r){throw t(e),nJ('failed to parse "response" body as JSON',i2,r)}if(!nB(r))throw nJ('"response" body must be a top level object',i3,{body:r});return r}let ax=Symbol(),aR=Symbol();async function aP(e,t,r){let{cookies:n,logger:i}=r,a=n[e],s=new Date;s.setTime(s.getTime()+9e5),i.debug(`CREATE_${e.toUpperCase()}`,{name:a.name,payload:t,COOKIE_TTL:900,expires:s});let o=await t0({...r.jwt,maxAge:900,token:{value:t},salt:a.name}),c={...a.options,expires:s};return{name:a.name,value:o,options:c}}async function aT(e,t,r){try{let{logger:n,cookies:i,jwt:a}=r;if(n.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new A(`${e} cookie was missing`);let s=await t1({...a,token:t,salt:i[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new A(`${e} value could not be parsed`,{cause:t})}}function aO(e,t,r){let{logger:n,cookies:i}=t,a=i[e];n.debug(`CLEAR_${e.toUpperCase()}`,{cookie:a}),r.push({name:a.name,value:"",options:{...i[e].options,maxAge:0}})}function aC(e,t){return async function(r,n,i){let{provider:a,logger:s}=i;if(!a?.checks?.includes(e))return;let o=r?.[i.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let c=await aT(t,o,i);return aO(t,i,n),c}}let aj={async create(e){let t=n3(),r=await n5(t);return{cookie:await aP("pkceCodeVerifier",t,e),value:r}},use:aC("pkce","pkceCodeVerifier")},aI="encodedState",aU={async create(e,t){let{provider:r}=e;if(!r.checks.includes("state")){if(t)throw new A("State data was provided but the provider is not configured to use state");return}let n={origin:t,random:n3()},i=await t0({secret:e.jwt.secret,token:n,salt:aI,maxAge:900});return{cookie:await aP("state",i,e),value:i}},use:aC("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let r=await t1({secret:t.jwt.secret,token:e,salt:aI});if(r)return r;throw Error("Invalid state")}catch(e){throw new A("State could not be decoded",{cause:e})}}},a$={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=n3();return{cookie:await aP("nonce",t,e),value:t}},use:aC("nonce","nonce")},aN="encodedWebauthnChallenge",aD={create:async(e,t,r)=>({cookie:await aP("webauthnChallenge",await t0({secret:e.jwt.secret,token:{challenge:t,registerData:r},salt:aN,maxAge:900}),e)}),async use(e,t,r){let n=t?.[e.cookies.webauthnChallenge.name],i=await aT("webauthnChallenge",n,e),a=await t1({secret:e.jwt.secret,token:i,salt:aN});if(aO("webauthnChallenge",e,r),!a)throw new A("WebAuthn challenge was missing");return a}};function aH(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function aL(e,t,r){let n,i,a,{logger:s,provider:o}=r,{token:c,userinfo:u}=o;if(c?.url&&"authjs.dev"!==c.url.host||u?.url&&"authjs.dev"!==u.url.host)n={issuer:o.issuer??"https://authjs.dev",token_endpoint:c?.url.toString(),userinfo_endpoint:u?.url.toString()};else{let e=new URL(o.issuer),t=await nX(e,{[nO]:!0,[nI]:o[rp]});if(!(n=await n0(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!n.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let l={client_id:o.clientId,...o.client};switch(l.token_endpoint_auth_method){case void 0:case"client_secret_basic":i=(e,t,r,n)=>{n.set("authorization",function(e,t){let r=aH(e),n=aH(t),i=btoa(`${r}:${n}`);return`Basic ${i}`}(o.clientId,o.clientSecret))};break;case"client_secret_post":var d;nQ(d=o.clientSecret,'"clientSecret"'),i=(e,t,r,n)=>{r.set("client_id",t.client_id),r.set("client_secret",d)};break;case"client_secret_jwt":i=function(e,t){let r;nQ(e,'"clientSecret"');let n=void 0;return async(t,i,a,s)=>{r||=await crypto.subtle.importKey("raw",nL(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},c=it(t,i);n?.(o,c);let u=`${nM(nL(JSON.stringify(o)))}.${nM(nL(JSON.stringify(c)))}`,l=await crypto.subtle.sign(r.algorithm,r,nL(u));a.set("client_id",i.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",`${u}.${nM(new Uint8Array(l))}`)}}(o.clientSecret);break;case"private_key_jwt":i=function(e,t){var r;let{key:n,kid:i}=(r=e)instanceof CryptoKey?{key:r}:r?.key instanceof CryptoKey?(void 0!==r.kid&&nQ(r.kid,'"kid"'),{key:r.key,kid:r.kid}):{};return nq(n,'"clientPrivateKey.key"'),async(e,r,a,s)=>{let o={alg:n4(n),kid:i},c=it(e,r);t?.[nU]?.(o,c),a.set("client_id",r.client_id),a.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),a.set("client_assertion",await ir(o,c,n))}}(o.token.clientPrivateKey,{[nU](e,t){t.aud=[n.issuer,n.token_endpoint]}});break;case"none":i=(e,t,r,n)=>{r.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let p=[],h=await aU.use(t,p,r);try{a=ak(n,l,new URLSearchParams(e),o.checks.includes("state")?h:aw)}catch(e){if(e instanceof id){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new j("OAuth Provider returned an error",t)}throw e}let f=await aj.use(t,p,r),m=o.callbackUrl;!r.isOnRedirectProxy&&o.redirectProxyUrl&&(m=o.redirectProxyUrl);let y=await iJ(n,l,i,a,m,f??"decoy",{[nO]:!0,[nI]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[rp]??fetch)(...e))});o.token?.conform&&(y=await o.token.conform(y.clone())??y);let g={},b="oidc"===o.type;if(o[rh])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let e=await y.clone().json();if(e.error){let t={providerId:o.id,...e};throw new j(`OAuth Provider returned an error: ${e.error}`,t)}let{tid:t}=function(e){let t,r;if("string"!=typeof e)throw new eA("JWTs must use Compact JWS serialization, JWT must be a string");let{1:n,length:i}=e.split(".");if(5===i)throw new eA("Only JWTs using Compact JWS serialization can be decoded");if(3!==i)throw new eA("Invalid JWT");if(!n)throw new eA("JWTs must contain a payload");try{t=ey(n)}catch{throw new eA("Failed to base64url decode the payload")}try{r=JSON.parse(ed.decode(t))}catch{throw new eA("Failed to parse the decoded payload as JSON")}if(!ej(r))throw new eA("Invalid JWT Claims Set");return r}(e.id_token);if("string"==typeof t){let e=n.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",r=new URL(n.issuer.replace(e,t)),i=await nX(r,{[nI]:o[rp]});n=await n0(r,i)}}}let _=await iZ(n,l,y,{expectedNonce:await a$.use(t,p,r),requireIdToken:b});if(b){let t=iU(_);if(g=t,o[rh]&&"apple"===o.id)try{g.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await iE(n,l,_.access_token,{[nI]:o[rp],[nO]:!0});g=await iT(n,l,t.sub,e)}}else if(u?.request){let e=await u.request({tokens:_,provider:o});e instanceof Object&&(g=e)}else if(u?.url){let e=await iE(n,l,_.access_token,{[nI]:o[rp],[nO]:!0});g=await e.json()}else throw TypeError("No userinfo endpoint configured");return _.expires_in&&(_.expires_at=Math.floor(Date.now()/1e3)+Number(_.expires_in)),{...await aM(g,o,_,s),profile:g,cookies:p}}async function aM(e,t,r,n){try{let n=await t.profile(e,r);return{user:{...n,id:crypto.randomUUID(),email:n.email?.toLowerCase()},account:{...r,provider:t.id,type:t.type,providerAccountId:n.id??crypto.randomUUID()}}}catch(r){n.debug("getProfile error details",e),n.error(new I(r,{provider:t.id}))}}async function aW(e,t,r,n){let i=await aB(e,t,r),{cookie:a}=await aD.create(e,i.challenge,r);return{status:200,cookies:[...n??[],a],body:{action:"register",options:i},headers:{"Content-Type":"application/json"}}}async function aK(e,t,r,n){let i=await aq(e,t,r),{cookie:a}=await aD.create(e,i.challenge);return{status:200,cookies:[...n??[],a],body:{action:"authenticate",options:i},headers:{"Content-Type":"application/json"}}}async function aJ(e,t,r){let n,{adapter:i,provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new m("Invalid WebAuthn Authentication response");let o=aV(aZ(s.id)),c=await i.getAuthenticator(o);if(!c)throw new m(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:u}=await aD.use(e,t.cookies,r);try{var l;let r=a.getRelayingParty(e,t);n=await a.simpleWebAuthn.verifyAuthenticationResponse({...a.verifyAuthenticationOptions,expectedChallenge:u,response:s,authenticator:{...l=c,credentialDeviceType:l.credentialDeviceType,transports:aG(l.transports),credentialID:aZ(l.credentialID),credentialPublicKey:aZ(l.credentialPublicKey)},expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}let{verified:d,authenticationInfo:p}=n;if(!d)throw new z("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await i.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new g(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:c.counter,newCounter:p.newCounter})}`,e)}let h=await i.getAccount(c.providerAccountId,a.id);if(!h)throw new m(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId})}`);let f=await i.getUser(h.userId);if(!f)throw new m(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId,userID:h.userId})}`);return{account:h,user:f}}async function aF(e,t,r){var n;let i,{provider:a}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new m("Invalid WebAuthn Registration response");let{challenge:o,registerData:c}=await aD.use(e,t.cookies,r);if(!c)throw new m("Missing user registration data in WebAuthn challenge cookie");try{let r=a.getRelayingParty(e,t);i=await a.simpleWebAuthn.verifyRegistrationResponse({...a.verifyRegistrationOptions,expectedChallenge:o,response:s,expectedOrigin:r.origin,expectedRPID:r.id})}catch(e){throw new z(e)}if(!i.verified||!i.registrationInfo)throw new z("WebAuthn registration response could not be verified");let u={providerAccountId:aV(i.registrationInfo.credentialID),provider:e.provider.id,type:a.type},l={providerAccountId:u.providerAccountId,counter:i.registrationInfo.counter,credentialID:aV(i.registrationInfo.credentialID),credentialPublicKey:aV(i.registrationInfo.credentialPublicKey),credentialBackedUp:i.registrationInfo.credentialBackedUp,credentialDeviceType:i.registrationInfo.credentialDeviceType,transports:(n=s.response.transports,n?.join(","))};return{user:c,account:u,authenticator:l}}async function aq(e,t,r){let{provider:n,adapter:i}=e,a=r&&r.id?await i.listAuthenticatorsByUserId(r.id):null,s=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateAuthenticationOptions({...n.authenticationOptions,rpID:s.id,allowCredentials:a?.map(e=>({id:aZ(e.credentialID),type:"public-key",transports:aG(e.transports)}))})}async function aB(e,t,r){let{provider:n,adapter:i}=e,a=r.id?await i.listAuthenticatorsByUserId(r.id):null,s=ra(32),o=n.getRelayingParty(e,t);return await n.simpleWebAuthn.generateRegistrationOptions({...n.registrationOptions,userID:s,userName:r.email,userDisplayName:r.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:a?.map(e=>({id:aZ(e.credentialID),type:"public-key",transports:aG(e.transports)}))})}function az(e){let{provider:t,adapter:r}=e;if(!r)throw new R("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new M("Provider must be WebAuthn");return{...e,provider:t,adapter:r}}function aZ(e){return new Uint8Array(Buffer.from(e,"base64"))}function aV(e){return Buffer.from(e).toString("base64")}function aG(e){return e?e.split(","):void 0}async function aX(e,t,r,n){if(!t.provider)throw new M("Callback route called without provider");let{query:i,body:a,method:s,headers:o}=e,{provider:c,adapter:u,url:l,callbackUrl:d,pages:p,jwt:h,events:f,callbacks:y,session:{strategy:g,maxAge:b},logger:w}=t,v="jwt"===g;try{if("oauth"===c.type||"oidc"===c.type){let s,o=c.authorization?.url.searchParams.get("response_mode")==="form_post"?a:i;if(t.isOnRedirectProxy&&o?.state){let e=await aU.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return w.debug("Proxy redirecting to",t),{redirect:t,cookies:n}}}let m=await aL(o,e.cookies,t);m.cookies.length&&n.push(...m.cookies),w.debug("authorization result",m);let{user:g,account:_,profile:k}=m;if(!g||!_||!k)return{redirect:`${l}/signin`,cookies:n};if(u){let{getUserByAccount:e}=u;s=await e({providerAccountId:_.providerAccountId,provider:c.id})}let E=await aY({user:s??g,account:_,profile:k},t);if(E)return{redirect:E,cookies:n};let{user:S,session:A,isNewUser:x}=await nA(r.value,g,_,t);if(v){let e={name:S.name,email:S.email,picture:S.image,sub:S.id?.toString()},i=await y.jwt({token:e,user:S,account:_,profile:k,isNewUser:x,trigger:x?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:A.sessionToken,options:{...t.cookies.sessionToken.options,expires:A.expires}});if(await f.signIn?.({user:S,account:_,profile:k,isNewUser:x}),x&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("email"===c.type){let e=i?.token,a=i?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=c.secret??t.secret,o=await u.useVerificationToken({identifier:a,token:await ri(`${e}${s}`)}),l=!!o,m=l&&o.expires.valueOf()<Date.now();if(!l||m||a&&o.identifier!==a)throw new K({hasInvite:l,expired:m});let{identifier:g}=o,_=await u.getUserByEmail(g)??{id:crypto.randomUUID(),email:g,emailVerified:null},w={providerAccountId:_.email,userId:_.id,type:"email",provider:c.id},k=await aY({user:_,account:w},t);if(k)return{redirect:k,cookies:n};let{user:E,session:S,isNewUser:A}=await nA(r.value,_,w,t);if(v){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},i=await y.jwt({token:e,user:E,account:w,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:S.sessionToken,options:{...t.cookies.sessionToken.options,expires:S.expires}});if(await f.signIn?.({user:E,account:w,isNewUser:A}),A&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}if("credentials"===c.type&&"POST"===s){let e=a??{};Object.entries(i??{}).forEach(([e,t])=>l.searchParams.set(e,t));let u=await c.authorize(e,new Request(l,{headers:o,method:s,body:JSON.stringify(a)}));if(u)u.id=u.id?.toString()??crypto.randomUUID();else throw new E;let p={providerAccountId:u.id,type:"credentials",provider:c.id},m=await aY({user:u,account:p,credentials:e},t);if(m)return{redirect:m,cookies:n};let g={name:u.name,email:u.email,picture:u.image,sub:u.id},_=await y.jwt({token:g,user:u,account:p,isNewUser:!1,trigger:"signIn"});if(null===_)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,i=await h.encode({...h,token:_,salt:e}),a=new Date;a.setTime(a.getTime()+1e3*b);let s=r.chunk(i,{expires:a});n.push(...s)}return await f.signIn?.({user:u,account:p}),{redirect:d,cookies:n}}else if("webauthn"===c.type&&"POST"===s){let i,a,s,o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new m("Invalid action parameter");let c=az(t);switch(o){case"authenticate":{let t=await aJ(c,e,n);i=t.user,a=t.account;break}case"register":{let r=await aF(t,e,n);i=r.user,a=r.account,s=r.authenticator}}await aY({user:i,account:a},t);let{user:u,isNewUser:l,session:g,account:_}=await nA(r.value,i,a,t);if(!_)throw new m("Error creating or finding account");if(s&&u.id&&await c.adapter.createAuthenticator({...s,userId:u.id}),v){let e={name:u.name,email:u.email,picture:u.image,sub:u.id?.toString()},i=await y.jwt({token:e,user:u,account:_,isNewUser:l,trigger:l?"signUp":"signIn"});if(null===i)n.push(...r.clean());else{let e=t.cookies.sessionToken.name,a=await h.encode({...h,token:i,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*b);let o=r.chunk(a,{expires:s});n.push(...o)}}else n.push({name:t.cookies.sessionToken.name,value:g.sessionToken,options:{...t.cookies.sessionToken.options,expires:g.expires}});if(await f.signIn?.({user:u,account:_,isNewUser:l}),l&&p.newUser)return{redirect:`${p.newUser}${p.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:d})}`,cookies:n};return{redirect:d,cookies:n}}throw new M(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof m)throw t;let e=new _(t,{provider:c.id});throw w.debug("callback route error details",{method:s,query:i,body:a}),e}}async function aY(e,t){let r,{signIn:n,redirect:i}=t.callbacks;try{r=await n(e)}catch(e){if(e instanceof m)throw e;throw new b(e)}if(!r)throw new b("AccessDenied");if("string"==typeof r)return await i({url:r,baseUrl:t.url.origin})}async function aQ(e,t,r,n,i){let{adapter:a,jwt:s,events:o,callbacks:c,logger:u,session:{strategy:l,maxAge:d}}=e,p={body:null,headers:{"Content-Type":"application/json",...!n&&{"Cache-Control":"private, no-cache, no-store",Expires:"0",Pragma:"no-cache"}},cookies:r},h=t.value;if(!h)return p;if("jwt"===l){try{let r=e.cookies.sessionToken.name,a=await s.decode({...s,token:h,salt:r});if(!a)throw Error("Invalid JWT");let u=await c.jwt({token:a,...n&&{trigger:"update"},session:i}),l=nS(d);if(null!==u){let e={user:{name:u.name,email:u.email,image:u.picture},expires:l.toISOString()},n=await c.session({session:e,token:u});p.body=n;let i=await s.encode({...s,token:u,salt:r}),a=t.chunk(i,{expires:l});p.cookies?.push(...a),await o.session?.({session:n,token:u})}else p.cookies?.push(...t.clean())}catch(e){u.error(new x(e)),p.cookies?.push(...t.clean())}return p}try{let{getSessionAndUser:r,deleteSession:s,updateSession:u}=a,l=await r(h);if(l&&l.session.expires.valueOf()<Date.now()&&(await s(h),l=null),l){let{user:t,session:r}=l,a=e.session.updateAge,s=r.expires.valueOf()-1e3*d+1e3*a,f=nS(d);s<=Date.now()&&await u({sessionToken:h,expires:f});let m=await c.session({session:{...r,user:t},user:t,newSession:i,...n?{trigger:"update"}:{}});p.body=m,p.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:f}}),await o.session?.({session:m})}else h&&p.cookies?.push(...t.clean())}catch(e){u.error(new U(e))}return p}async function a0(e,t){let r,n,{logger:i,provider:a}=t,s=a.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(a.issuer),t=await nX(e,{[nI]:a[rp],[nO]:!0}),r=await n0(e,t).catch(t=>{if(!(t instanceof TypeError)||"Invalid URL"!==t.message)throw t;throw TypeError(`Discovery request responded with an invalid issuer. expected: ${e}`)});if(!r.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(r.authorization_endpoint)}let o=s.searchParams,c=a.callbackUrl;!t.isOnRedirectProxy&&a.redirectProxyUrl&&(c=a.redirectProxyUrl,n=a.callbackUrl,i.debug("using redirect proxy",{redirect_uri:c,data:n}));let u=Object.assign({response_type:"code",client_id:a.clientId,redirect_uri:c,...a.authorization?.params},Object.fromEntries(a.authorization?.url.searchParams??[]),e);for(let e in u)o.set(e,u[e]);let l=[];a.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let d=await aU.create(t,n);if(d&&(o.set("state",d.value),l.push(d.cookie)),a.checks?.includes("pkce"))if(r&&!r.code_challenge_methods_supported?.includes("S256"))"oidc"===a.type&&(a.checks=["nonce"]);else{let{value:e,cookie:r}=await aj.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),l.push(r)}let p=await a$.create(t);return p&&(o.set("nonce",p.value),l.push(p.cookie)),"oidc"!==a.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),i.debug("authorization url is ready",{url:s,cookies:l,provider:a}),{redirect:s.toString(),cookies:l}}async function a1(e,t){let r,{body:n}=e,{provider:i,callbacks:a,adapter:s}=t,o=(i.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,r]=e.toLowerCase().trim().split("@");return r=r.split(",")[0],`${t}@${r}`})(n?.email),c={id:crypto.randomUUID(),email:o,emailVerified:null},u=await s.getUserByEmail(o)??c,l={providerAccountId:o,userId:u.id,type:"email",provider:i.id};try{r=await a.signIn({user:u,account:l,email:{verificationRequest:!0}})}catch(e){throw new b(e)}if(!r)throw new b("AccessDenied");if("string"==typeof r)return{redirect:await a.redirect({url:r,baseUrl:t.url.origin})};let{callbackUrl:d,theme:p}=t,h=await i.generateVerificationToken?.()??ra(32),f=new Date(Date.now()+(i.maxAge??86400)*1e3),m=i.secret??t.secret,y=new URL(t.basePath,t.url.origin),g=i.sendVerificationRequest({identifier:o,token:h,expires:f,url:`${y}/callback/${i.id}?${new URLSearchParams({callbackUrl:d,token:h,email:o})}`,provider:i,theme:p,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),_=s.createVerificationToken?.({identifier:o,token:await ri(`${h}${m}`),expires:f});return await Promise.all([g,_]),{redirect:`${y}/verify-request?${new URLSearchParams({provider:i.id,type:i.type})}`}}async function a2(e,t,r){let n=`${r.url.origin}${r.basePath}/signin`;if(!r.provider)return{redirect:n,cookies:t};switch(r.provider.type){case"oauth":case"oidc":{let{redirect:n,cookies:i}=await a0(e.query,r);return i&&t.push(...i),{redirect:n,cookies:t}}case"email":return{...await a1(e,r),cookies:t};default:return{redirect:n,cookies:t}}}async function a3(e,t,r){let{jwt:n,events:i,callbackUrl:a,logger:s,session:o}=r,c=t.value;if(!c)return{redirect:a,cookies:e};try{if("jwt"===o.strategy){let e=r.cookies.sessionToken.name,t=await n.decode({...n,token:c,salt:e});await i.signOut?.({token:t})}else{let e=await r.adapter?.deleteSession(c);await i.signOut?.({session:e})}}catch(e){s.error(new D(e))}return e.push(...t.clean()),{redirect:a,cookies:e}}async function a5(e,t){let{adapter:r,jwt:n,session:{strategy:i}}=e,a=t.value;if(!a)return null;if("jwt"===i){let t=e.cookies.sessionToken.name,r=await n.decode({...n,token:a,salt:t});if(r&&r.sub)return{id:r.sub,name:r.name,email:r.email,image:r.picture}}else{let e=await r?.getSessionAndUser(a);if(e)return e.user}return null}async function a4(e,t,r,n){let i=az(t),{provider:a}=i,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:n,headers:{"Content-Type":"application/json"}};let o=await a5(t,r),c=o?{user:o,exists:!0}:await a.getUserInfo(t,e),u=c?.user;switch(function(e,t,r){let{user:n,exists:i=!1}=r??{};switch(e){case"authenticate":return"authenticate";case"register":if(n&&t===i)return"register";break;case void 0:if(!t)if(!n)return"authenticate";else if(i)return"authenticate";else return"register"}return null}(s,!!o,c)){case"authenticate":return aK(i,e,u,n);case"register":if("string"==typeof u?.email)return aW(i,e,u,n);break;default:return{status:400,body:{error:"Invalid request"},cookies:n,headers:{"Content-Type":"application/json"}}}}async function a6(e,t){let{action:r,providerId:n,error:i,method:a}=e,s=t.skipCSRFCheck===rl,{options:o,cookies:c}=await r_({authOptions:t,action:r,providerId:n,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===a,csrfDisabled:s}),u=new f(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===a){let t=nE({...o,query:e.query,cookies:c});switch(r){case"callback":return await aX(e,o,u,c);case"csrf":return t.csrf(s,o,c);case"error":return t.error(i);case"providers":return t.providers(o.providers);case"session":return await aQ(o,u,c);case"signin":return t.signin(n,i);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await a4(e,o,u,c)}}else{let{csrfTokenVerified:t}=o;switch(r){case"callback":return"credentials"===o.provider.type&&ro(r,t),await aX(e,o,u,c);case"session":return ro(r,t),await aQ(o,u,c,!0,e.body?.data);case"signin":return ro(r,t),await a2(e,c,o);case"signout":return ro(r,t),await a3(c,u,o)}}throw new H(`Cannot handle action: ${r}`)}function a9(e,t,r,n,i){let a,s=i?.basePath,o=n.AUTH_URL??n.NEXTAUTH_URL;if(o)a=new URL(o),s&&"/"!==s&&"/"!==a.pathname&&(a.pathname!==s&&t9(i).warn("env-url-basepath-mismatch"),a.pathname="/");else{let e=r.get("x-forwarded-host")??r.get("host"),n=r.get("x-forwarded-proto")??t??"https",i=n.endsWith(":")?n:n+":";a=new URL(`${i}//${e}`)}let c=a.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function a8(e,t){let r=t9(t),n=await rr(e,t);if(!n)return Response.json("Bad request.",{status:400});let i=function(e,t){let{url:r}=e,n=[];if(!G&&t.debug&&n.push("debug-enabled"),!t.trustHost)return new W(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new O("Please define a `secret`");let i=e.query?.callbackUrl;if(i&&!X(i,r.origin))return new k(`Invalid callback URL. Received: ${i}`);let{callbackUrl:a}=h(t.useSecureCookies??"https:"===r.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??a.name];if(s&&!X(s,r.origin))return new k(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e,{authorization:r,token:n,userinfo:i}=t;if("string"==typeof r||r?.url?"string"==typeof n||n?.url?"string"==typeof i||i?.url||(e="userinfo"):e="token":e="authorization",e)return new S(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)Y=!0;else if("email"===t.type)Q=!0;else if("webauthn"===t.type){var c;if(ee=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new m(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new q("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new B(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(Y){let e=t.session?.strategy==="database",r=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&r)return new L("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new T("Must define an authorize() handler to use credentials authentication provider")}let{adapter:u,session:l}=t,d=[];if(Q||l?.strategy==="database"||!l?.strategy&&u)if(Q){if(!u)return new R("Email login requires an adapter");d.push(...et)}else{if(!u)return new R("Database session requires an adapter");d.push(...er)}if(ee){if(!t.experimental?.enableWebAuthn)return new V("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(n.push("experimental-webauthn"),!u)return new R("WebAuthn requires an adapter");d.push(...en)}if(u){let e=d.filter(e=>!(e in u));if(e.length)return new P(`Required adapter methods were missing: ${e.join(", ")}`)}return G||(G=!0),n}(n,t);if(Array.isArray(i))i.forEach(r.warn);else if(i){if(r.error(i),!new Set(["signin","signout","error","verify-request"]).has(n.action)||"GET"!==n.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:a}=t,s=e?.error&&n.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&r.error(new w(`The error page ${e?.error} should not require authentication`)),rn(nE({theme:a}).error("Configuration"));let o=`${n.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let a=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===rd;try{let e=await a6(n,t);if(s)return e;let r=rn(e),i=r.headers.get("Location");if(!a||!i)return r;return Response.json({url:i},{headers:r.headers})}catch(d){r.error(d);let i=d instanceof m;if(i&&s&&!a)throw d;if("POST"===e.method&&"session"===n.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:d instanceof m&&F.has(d.type)?d.type:"Configuration"});d instanceof E&&o.set("code",d.code);let c=i&&d.kind||"error",u=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,l=`${n.url.origin}${u}?${o}`;if(a)return Response.json({url:l});return Response.redirect(l)}}var a7=r(29841);function se(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:r}=new URL(t),{href:n,origin:i}=e.nextUrl;return new a7.NextRequest(n.replace(i,r),e)}function st(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:r}=new URL(t);if("/"===r)return;e.basePath||(e.basePath=r)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,r=!1){try{let n=e.AUTH_URL;n&&(t.basePath?r||t9(t).warn("env-url-basepath-redundant"):t.basePath=new URL(n).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let r=e.AUTH_SECRET;for(let n of(r&&t.secret.push(r),[1,2,3])){let r=e[`AUTH_SECRET_${n}`];r&&t.secret.unshift(r)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:r}="function"==typeof t?t({}):t,n=r.toUpperCase().replace(/-/g,"_"),i=e[`AUTH_${n}_ID`],a=e[`AUTH_${n}_SECRET`],s=e[`AUTH_${n}_ISSUER`],o=e[`AUTH_${n}_KEY`],c="function"==typeof t?t({clientId:i,clientSecret:a,issuer:s,apiKey:o}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=i),c.clientSecret??(c.clientSecret=a),c.issuer??(c.issuer=s)):"email"===c.type&&(c.apiKey??(c.apiKey=o)),c})}(process.env,e,!0)}}var sr=r(55441),sn=r(23446);async function si(e,t){return a8(new Request(a9("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let r=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...r}}}})}function sa(e){return"function"==typeof e}function ss(e,t){return"function"==typeof e?async(...r)=>{if(!r.length){let r=await (0,sn.b)(),n=await e(void 0);return t?.(n),si(r,n).then(e=>e.json())}if(r[0]instanceof Request){let n=r[0],i=r[1],a=await e(n);return t?.(a),so([n,i],a)}if(sa(r[0])){let n=r[0];return async(...r)=>{let i=await e(r[0]);return t?.(i),so(r,i,n)}}let n="req"in r[0]?r[0].req:r[0],i="res"in r[0]?r[0].res:r[1],a=await e(n);return t?.(a),si(new Headers(n.headers),a).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in i?i.headers.append("set-cookie",t):i.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,sn.b)()).then(t=>si(t,e).then(e=>e.json()));if(t[0]instanceof Request)return so([t[0],t[1]],e);if(sa(t[0])){let r=t[0];return async(...t)=>so(t,e,r).then(e=>e)}let r="req"in t[0]?t[0].req:t[0],n="res"in t[0]?t[0].res:t[1];return si(new Headers(r.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in n?n.headers.append("set-cookie",t):n.appendHeader("set-cookie",t);return t})}}async function so(e,t,r){let n=se(e[0]),i=await si(n.headers,t),a=await i.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:n,auth:a}));let o=a7.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:r}=n.nextUrl;e&&function(e,t,r){let n=t.replace(`${e}/`,""),i=Object.values(r.pages??{});return(sc.has(n)||i.includes(t))&&t===e}(r,new URL(e).pathname,t)&&(s=!0)}else if(r)n.auth=a,o=await r(n,e[1])??a7.NextResponse.next();else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(n.nextUrl.pathname!==e){let t=n.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",n.nextUrl.href),o=a7.NextResponse.redirect(t)}}let c=new Response(o?.body,o);for(let e of i.headers.getSetCookie())c.headers.append("set-cookie",e);return c}r(19943);let sc=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var su=r(68744);async function sl(e,t={},r,n){let i=new Headers(await (0,sn.b)()),{redirect:a=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,c=s?.toString()??i.get("Referer")??"/",u=a9("signin",i.get("x-forwarded-proto"),i,process.env,n);if(!e)return u.searchParams.append("callbackUrl",c),a&&(0,su.redirect)(u.toString()),u.toString();let l=`${u}/${e}?${new URLSearchParams(r)}`,d={};for(let t of n.providers){let{options:r,...n}="function"==typeof t?t():t,i=r?.id??n.id;if(i===e){d={id:i,type:r?.type??n.type};break}}if(!d.id){let e=`${u}?${new URLSearchParams({callbackUrl:c})}`;return a&&(0,su.redirect)(e),e}"credentials"===d.type&&(l=l.replace("signin","callback")),i.set("Content-Type","application/x-www-form-urlencoded");let p=new Request(l,{method:"POST",headers:i,body:new URLSearchParams({...o,callbackUrl:c})}),h=await a8(p,{...n,raw:rd,skipCSRFCheck:rl}),f=await (0,sr.U)();for(let e of h?.cookies??[])f.set(e.name,e.value,e.options);let m=(h instanceof Response?h.headers.get("Location"):h.redirect)??l;return a?(0,su.redirect)(m):m}async function sd(e,t){let r=new Headers(await (0,sn.b)());r.set("Content-Type","application/x-www-form-urlencoded");let n=a9("signout",r.get("x-forwarded-proto"),r,process.env,t),i=new URLSearchParams({callbackUrl:e?.redirectTo??r.get("Referer")??"/"}),a=new Request(n,{method:"POST",headers:r,body:i}),s=await a8(a,{...t,raw:rd,skipCSRFCheck:rl}),o=await (0,sr.U)();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,su.redirect)(s.redirect):s}async function sp(e,t){let r=new Headers(await (0,sn.b)());r.set("Content-Type","application/json");let n=new Request(a9("session",r.get("x-forwarded-proto"),r,process.env,t),{method:"POST",headers:r,body:JSON.stringify({data:e})}),i=await a8(n,{...t,raw:rd,skipCSRFCheck:rl}),a=await (0,sr.U)();for(let e of i?.cookies??[])a.set(e.name,e.value,e.options);return i.body}function sh(e){if("function"==typeof e){let t=async t=>{let r=await e(t);return st(r),a8(se(t),r)};return{handlers:{GET:t,POST:t},auth:ss(e,e=>st(e)),signIn:async(t,r,n)=>{let i=await e(void 0);return st(i),sl(t,r,n,i)},signOut:async t=>{let r=await e(void 0);return st(r),sd(t,r)},unstable_update:async t=>{let r=await e(void 0);return st(r),sp(t,r)}}}st(e);let t=t=>a8(se(t),e);return{handlers:{GET:t,POST:t},auth:ss(e),signIn:(t,r,n)=>sl(t,r,n,e),signOut:t=>sd(t,e),unstable_update:t=>sp(t,e)}}},68138:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return l},RedirectType:function(){return i.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return a.notFound},permanentRedirect:function(){return n.permanentRedirect},redirect:function(){return n.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return c.unstable_rethrow}});let n=r(95289),i=r(87232),a=r(51399),s=r(84068),o=r(50971),c=r(34215);class u extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class l extends URLSearchParams{append(){throw new u}delete(){throw new u}set(){throw new u}sort(){throw new u}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return u}});let n=r(29294),i=r(63033),a=r(76933),s=r(3497),o=r(10078),c=r(57043);function u(){let e=n.workAsyncStorage.getStore(),t=i.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`),"__NEXT_ERROR_CODE",{value:"E186",enumerable:!1,configurable:!0});if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`),"__NEXT_ERROR_CODE",{value:"E111",enumerable:!1,configurable:!0});else if("unstable-cache"===t.type)throw Object.defineProperty(Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`),"__NEXT_ERROR_CODE",{value:"E1",enumerable:!1,configurable:!0})}if(e.dynamicShouldError)throw Object.defineProperty(new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E562",enumerable:!1,configurable:!0});if(t)if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");else"prerender-ppr"===t.type?(0,a.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,a.throwToInterruptStaticGeneration)("connection",e,t);(0,a.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},72509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(r){"default"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})})}(r(2367),t)},76907:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return i}});let n=r(89803);function i(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:r,query:i,hash:a}=(0,n.parsePath)(e);return""+r+t+i+a}},82697:(e,t)=>{"use strict";function r(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return r}})},83579:(e,t,r)=>{var n;(()=>{var i={226:function(i,a){!function(s,o){"use strict";var c="function",u="undefined",l="object",d="string",p="major",h="model",f="name",m="type",y="vendor",g="version",b="architecture",_="console",w="mobile",v="tablet",k="smarttv",E="wearable",S="embedded",A="Amazon",x="Apple",R="ASUS",P="BlackBerry",T="Browser",O="Chrome",C="Firefox",j="Google",I="Huawei",U="Microsoft",$="Motorola",N="Opera",D="Samsung",H="Sharp",L="Sony",M="Xiaomi",W="Zebra",K="Facebook",J="Chromium OS",F="Mac OS",q=function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},B=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},z=function(e,t){return typeof e===d&&-1!==Z(t).indexOf(Z(e))},Z=function(e){return e.toLowerCase()},V=function(e,t){if(typeof e===d)return e=e.replace(/^\s\s*/,""),typeof t===u?e:e.substring(0,350)},G=function(e,t){for(var r,n,i,a,s,u,d=0;d<t.length&&!s;){var p=t[d],h=t[d+1];for(r=n=0;r<p.length&&!s&&p[r];)if(s=p[r++].exec(e))for(i=0;i<h.length;i++)u=s[++n],typeof(a=h[i])===l&&a.length>0?2===a.length?typeof a[1]==c?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==c||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):void 0:this[a[0]]=u?a[1].call(this,u,a[2]):void 0:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):o):this[a]=u||o;d+=2}},X=function(e,t){for(var r in t)if(typeof t[r]===l&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(z(t[r][n],e))return"?"===r?o:r}else if(z(t[r],e))return"?"===r?o:r;return e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Q={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,g],[/opios[\/ ]+([\w\.]+)/i],[g,[f,N+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[f,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[f,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+T],g],[/\bfocus\/([\w\.]+)/i],[g,[f,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[f,N+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[f,N+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[f,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[g,[f,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+T],g],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,K],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[f,O+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,O+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[f,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[g,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[f,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,g],[/(cobalt)\/([\w\.]+)/i],[f,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Z]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,"",Z]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[y,D],[m,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[y,D],[m,w]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[y,x],[m,w]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[y,x],[m,v]],[/(macintosh);/i],[h,[y,x]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[y,H],[m,w]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[y,I],[m,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[y,I],[m,w]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[y,M],[m,w]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[y,M],[m,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[y,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[y,"Vivo"],[m,w]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[y,"Realme"],[m,w]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[y,$],[m,w]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[y,$],[m,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[y,"LG"],[m,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[y,"LG"],[m,w]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[y,"Lenovo"],[m,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[y,"Nokia"],[m,w]],[/(pixel c)\b/i],[h,[y,j],[m,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[y,j],[m,w]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[y,L],[m,w]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[y,L],[m,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[y,"OnePlus"],[m,w]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[y,A],[m,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[y,A],[m,w]],[/(playbook);[-\w\),; ]+(rim)/i],[h,y,[m,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[y,P],[m,w]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[y,R],[m,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[y,R],[m,w]],[/(nexus 9)/i],[h,[y,"HTC"],[m,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[h,/_/g," "],[m,w]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[y,"Acer"],[m,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[y,"Meizu"],[m,w]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,h,[m,w]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,h,[m,v]],[/(surface duo)/i],[h,[y,U],[m,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[y,"Fairphone"],[m,w]],[/(u304aa)/i],[h,[y,"AT&T"],[m,w]],[/\bsie-(\w*)/i],[h,[y,"Siemens"],[m,w]],[/\b(rct\w+) b/i],[h,[y,"RCA"],[m,v]],[/\b(venue[\d ]{2,7}) b/i],[h,[y,"Dell"],[m,v]],[/\b(q(?:mv|ta)\w+) b/i],[h,[y,"Verizon"],[m,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[y,"Barnes & Noble"],[m,v]],[/\b(tm\d{3}\w+) b/i],[h,[y,"NuVision"],[m,v]],[/\b(k88) b/i],[h,[y,"ZTE"],[m,v]],[/\b(nx\d{3}j) b/i],[h,[y,"ZTE"],[m,w]],[/\b(gen\d{3}) b.+49h/i],[h,[y,"Swiss"],[m,w]],[/\b(zur\d{3}) b/i],[h,[y,"Swiss"],[m,v]],[/\b((zeki)?tb.*\b) b/i],[h,[y,"Zeki"],[m,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],h,[m,v]],[/\b(ns-?\w{0,9}) b/i],[h,[y,"Insignia"],[m,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[y,"NextBook"],[m,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],h,[m,w]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],h,[m,w]],[/\b(ph-1) /i],[h,[y,"Essential"],[m,w]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[y,"Envizen"],[m,v]],[/\b(trio[-\w\. ]+) b/i],[h,[y,"MachSpeed"],[m,v]],[/\btu_(1491) b/i],[h,[y,"Rotor"],[m,v]],[/(shield[\w ]+) b/i],[h,[y,"Nvidia"],[m,v]],[/(sprint) (\w+)/i],[y,h,[m,w]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[y,U],[m,w]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[y,W],[m,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[y,W],[m,w]],[/smart-tv.+(samsung)/i],[y,[m,k]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[y,D],[m,k]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[m,k]],[/(apple) ?tv/i],[y,[h,x+" TV"],[m,k]],[/crkey/i],[[h,O+"cast"],[y,j],[m,k]],[/droid.+aft(\w)( bui|\))/i],[h,[y,A],[m,k]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[y,H],[m,k]],[/(bravia[\w ]+)( bui|\))/i],[h,[y,L],[m,k]],[/(mitv-\w{5}) bui/i],[h,[y,M],[m,k]],[/Hbbtv.*(technisat) (.*);/i],[y,h,[m,k]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,V],[h,V],[m,k]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,k]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,h,[m,_]],[/droid.+; (shield) bui/i],[h,[y,"Nvidia"],[m,_]],[/(playstation [345portablevi]+)/i],[h,[y,L],[m,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[y,U],[m,_]],[/((pebble))app/i],[y,h,[m,E]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[y,x],[m,E]],[/droid.+; (glass) \d/i],[h,[y,j],[m,E]],[/droid.+; (wt63?0{2,3})\)/i],[h,[y,W],[m,E]],[/(quest( 2| pro)?)/i],[h,[y,K],[m,E]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,S]],[/(aeobc)\b/i],[h,[y,A],[m,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[m,w]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,w]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[g,X,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[g,X,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,F],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,g],[/\(bb(10);/i],[g,[f,P]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[f,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[f,O+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,J],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,g],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,g]]},ee=function(e,t){if(typeof e===l&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var r=typeof s!==u&&s.navigator?s.navigator:o,n=e||(r&&r.userAgent?r.userAgent:""),i=r&&r.userAgentData?r.userAgentData:o,a=t?q(Q,t):Q,_=r&&r.userAgent==n;return this.getBrowser=function(){var e,t={};return t[f]=o,t[g]=o,G.call(t,n,a.browser),t[p]=typeof(e=t[g])===d?e.replace(/[^\d\.]/g,"").split(".")[0]:o,_&&r&&r.brave&&typeof r.brave.isBrave==c&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[b]=o,G.call(e,n,a.cpu),e},this.getDevice=function(){var e={};return e[y]=o,e[h]=o,e[m]=o,G.call(e,n,a.device),_&&!e[m]&&i&&i.mobile&&(e[m]=w),_&&"Macintosh"==e[h]&&r&&typeof r.standalone!==u&&r.maxTouchPoints&&r.maxTouchPoints>2&&(e[h]="iPad",e[m]=v),e},this.getEngine=function(){var e={};return e[f]=o,e[g]=o,G.call(e,n,a.engine),e},this.getOS=function(){var e={};return e[f]=o,e[g]=o,G.call(e,n,a.os),_&&!e[f]&&i&&"Unknown"!=i.platform&&(e[f]=i.platform.replace(/chrome os/i,J).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===d&&e.length>350?V(e,350):e,this},this.setUA(n),this};ee.VERSION="1.0.35",ee.BROWSER=B([f,g,p]),ee.CPU=B([b]),ee.DEVICE=B([h,y,m,_,w,k,v,E,S]),ee.ENGINE=ee.OS=B([f,g]),typeof a!==u?(i.exports&&(a=i.exports=ee),a.UAParser=ee):r.amdO?void 0===(n=(function(){return ee}).call(t,r,t,e))||(e.exports=n):typeof s!==u&&(s.UAParser=ee);var et=typeof s!==u&&(s.jQuery||s.Zepto);if(et&&!et.ua){var er=new ee;et.ua=er.getResult(),et.ua.get=function(){return er.getUA()},et.ua.set=function(e){er.setUA(e);var t=er.getResult();for(var r in t)et.ua[r]=t[r]}}}("object"==typeof window?window:this)}},a={};function s(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}},n=!0;try{i[e].call(r.exports,r,r.exports,s),n=!1}finally{n&&delete a[e]}return r.exports}s.ab=__dirname+"/",e.exports=s(226)})()},84068:(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled."),"__NEXT_ERROR_CODE",{value:"E488",enumerable:!1,configurable:!0})}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return n}}),r(49676).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},86576:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isBot:function(){return i},userAgent:function(){return s},userAgentFromString:function(){return a}});let n=function(e){return e&&e.__esModule?e:{default:e}}(r(83579));function i(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function a(e){return{...(0,n.default)(e),isBot:void 0!==e&&i(e)}}function s({headers:e}){return a(e.get("user-agent")||void 0)}},86700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return n},isBailoutToCSRError:function(){return i}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class n extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function i(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},87232:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return i},RedirectType:function(){return a},isRedirectError:function(){return s}});let n=r(68138),i="NEXT_REDIRECT";var a=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,a]=t,s=t.slice(2,-2).join(";"),o=Number(t.at(-2));return r===i&&("replace"===a||"push"===a)&&"string"==typeof s&&!isNaN(o)&&o in n.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},88301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return i}});let n=r(89339);function i(e,t){if(!(0,n.pathHasPrefix)(e,t))return e;let r=e.slice(t.length);return r.startsWith("/")?r:"/"+r}},89339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return i}});let n=r(89803);function i(e,t){if("string"!=typeof e)return!1;let{pathname:r}=(0,n.parsePath)(e);return r===t||r.startsWith(t+"/")}},89803:(e,t)=>{"use strict";function r(e){let t=e.indexOf("#"),r=e.indexOf("?"),n=r>-1&&(t<0||r<t);return n||t>-1?{pathname:e.substring(0,n?r:t),query:n?e.substring(r,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return r}})},91564:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return l}});let n=r(99858),i=r(56903),a=r(17774),s=r(93508),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let u=Symbol("NextURLInternal");class l{constructor(e,t,r){let n,i;"object"==typeof t&&"pathname"in t||"string"==typeof t?(n=t,i=r||{}):i=r||t||{},this[u]={url:c(e,n??i.base),options:i,basePath:""},this.analyze()}analyze(){var e,t,r,i,o;let c=(0,s.getNextPathnameInfo)(this[u].url.pathname,{nextConfig:this[u].options.nextConfig,parseData:!0,i18nProvider:this[u].options.i18nProvider}),l=(0,a.getHostname)(this[u].url,this[u].options.headers);this[u].domainLocale=this[u].options.i18nProvider?this[u].options.i18nProvider.detectDomainLocale(l):(0,n.detectDomainLocale)(null==(t=this[u].options.nextConfig)||null==(e=t.i18n)?void 0:e.domains,l);let d=(null==(r=this[u].domainLocale)?void 0:r.defaultLocale)||(null==(o=this[u].options.nextConfig)||null==(i=o.i18n)?void 0:i.defaultLocale);this[u].url.pathname=c.pathname,this[u].defaultLocale=d,this[u].basePath=c.basePath??"",this[u].buildId=c.buildId,this[u].locale=c.locale??d,this[u].trailingSlash=c.trailingSlash}formatPathname(){return(0,i.formatNextPathnameInfo)({basePath:this[u].basePath,buildId:this[u].buildId,defaultLocale:this[u].options.forceLocale?void 0:this[u].defaultLocale,locale:this[u].locale,pathname:this[u].url.pathname,trailingSlash:this[u].trailingSlash})}formatSearch(){return this[u].url.search}get buildId(){return this[u].buildId}set buildId(e){this[u].buildId=e}get locale(){return this[u].locale??""}set locale(e){var t,r;if(!this[u].locale||!(null==(r=this[u].options.nextConfig)||null==(t=r.i18n)?void 0:t.locales.includes(e)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${e}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[u].locale=e}get defaultLocale(){return this[u].defaultLocale}get domainLocale(){return this[u].domainLocale}get searchParams(){return this[u].url.searchParams}get host(){return this[u].url.host}set host(e){this[u].url.host=e}get hostname(){return this[u].url.hostname}set hostname(e){this[u].url.hostname=e}get port(){return this[u].url.port}set port(e){this[u].url.port=e}get protocol(){return this[u].url.protocol}set protocol(e){this[u].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[u].url=c(e),this.analyze()}get origin(){return this[u].url.origin}get pathname(){return this[u].url.pathname}set pathname(e){this[u].url.pathname=e}get hash(){return this[u].url.hash}set hash(e){this[u].url.hash=e}get search(){return this[u].url.search}set search(e){this[u].url.search=e}get password(){return this[u].url.password}set password(e){this[u].url.password=e}get username(){return this[u].url.username}set username(e){this[u].url.username=e}get basePath(){return this[u].basePath}set basePath(e){this[u].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new l(String(this),this[u].options)}}},92432:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return c}});let n=r(91564),i=r(66894),a=r(37083),s=r(37554),o=Symbol("internal request");class c extends Request{constructor(e,t={}){let r="string"!=typeof e&&"url"in e?e.url:String(e);(0,i.validateURL)(r),t.body&&"half"!==t.duplex&&(t.duplex="half"),e instanceof Request?super(e,t):super(r,t);let a=new n.NextURL(r,{headers:(0,i.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),nextUrl:a,url:a.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new a.RemovedPageError}get ua(){throw new a.RemovedUAError}get url(){return this[o].url}}},93508:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let n=r(65177),i=r(88301),a=r(89339);function s(e,t){var r,s;let{basePath:o,i18n:c,trailingSlash:u}=null!=(r=t.nextConfig)?r:{},l={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):u};o&&(0,a.pathHasPrefix)(l.pathname,o)&&(l.pathname=(0,i.removePathPrefix)(l.pathname,o),l.basePath=o);let d=l.pathname;if(l.pathname.startsWith("/_next/data/")&&l.pathname.endsWith(".json")){let e=l.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");l.buildId=e[0],d="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(l.pathname=d)}if(c){let e=t.i18nProvider?t.i18nProvider.analyze(l.pathname):(0,n.normalizeLocalePath)(l.pathname,c.locales);l.locale=e.detectedLocale,l.pathname=null!=(s=e.pathname)?s:l.pathname,!e.detectedLocale&&l.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(d):(0,n.normalizeLocalePath)(d,c.locales)).detectedLocale&&(l.locale=e.detectedLocale)}return l}},95289:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return d},getRedirectTypeFromError:function(){return l},getURLFromRedirectError:function(){return u},permanentRedirect:function(){return c},redirect:function(){return o}});let n=r(68138),i=r(87232),a=r(19121).actionAsyncStorage;function s(e,t,r){void 0===r&&(r=n.RedirectStatusCode.TemporaryRedirect);let a=Object.defineProperty(Error(i.REDIRECT_ERROR_CODE),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return a.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",a}function o(e,t){var r;throw null!=t||(t=(null==a||null==(r=a.getStore())?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),s(e,t,n.RedirectStatusCode.TemporaryRedirect)}function c(e,t){throw void 0===t&&(t=i.RedirectType.replace),s(e,t,n.RedirectStatusCode.PermanentRedirect)}function u(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function l(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return e.digest.split(";",2)[1]}function d(e){if(!(0,i.isRedirectError)(e))throw Object.defineProperty(Error("Not a redirect error"),"__NEXT_ERROR_CODE",{value:"E260",enumerable:!1,configurable:!0});return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},99858:(e,t)=>{"use strict";function r(e,t,r){if(e)for(let a of(r&&(r=r.toLowerCase()),e)){var n,i;if(t===(null==(n=a.domain)?void 0:n.split(":",1)[0].toLowerCase())||r===a.defaultLocale.toLowerCase()||(null==(i=a.locales)?void 0:i.some(e=>e.toLowerCase()===r)))return a}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return r}})}};