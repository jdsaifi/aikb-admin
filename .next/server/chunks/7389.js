exports.id=7389,exports.ids=[7389],exports.modules={13999:(e,a,r)=>{"use strict";r.d(a,{A7:()=>l,H6:()=>i,LX:()=>h,Mh:()=>u,aA:()=>n,dk:()=>o,uz:()=>f});var t=r(63073);r(64959);var s=r(26236),c=r(92574),d=r(28551);let n=async()=>{let e=await (0,s.j2)();if(!e?.user)return[];let a=(await c.A.get("/users/calls",{headers:{Authorization:`Bearer ${e.jwt}`}})).data;if("error"===a.status)throw Error(a.data[0].message);return a.data},i=async e=>{let a=await (0,s.j2)();if(!a?.user)return[];let r=(await c.A.get(`/users/calls/${e}`,{headers:{Authorization:`Bearer ${a.jwt}`}})).data;if("error"===r.status)throw Error(r.data[0].message);return r.data[0]},l=async e=>{let a=await (0,s.j2)();if(!a?.user)return[];let r=(await c.A.post("/users/calls",e,{headers:{Authorization:`Bearer ${a.jwt}`,"Content-Type":"multipart/form-data"}})).data;if("error"===r.status)throw Error(r.data[0].message);return r.data},o=async(e,a)=>{let r=await (0,s.j2)();if(!r?.user)return[];let t=(await c.A.put(`/users/calls/${e}`,a,{headers:{Authorization:`Bearer ${r.jwt}`,"Content-Type":"multipart/form-data"}})).data;if("error"===t.status)throw Error(t.data[0].message);return t.data},f=async(e,a)=>{let r=await (0,s.j2)();if(!r?.user)return[];try{return(await c.A.delete(`/users/projects/${e}/calls/${a}`,{headers:{Authorization:`Bearer ${r.jwt}`}})).data.data}catch(e){throw(e?.errorData).error.messages[0]}},u=async e=>{let a=await (0,s.j2)();if(!a?.user)return[];try{return(await c.A.get(`/users/projects/${e}/calls`,{headers:{Authorization:`Bearer ${a.jwt}`}})).data.data}catch(e){throw(e?.errorData).error.messages[0]}},h=async()=>{try{return(await c.A.get("/calls/public")).data.data}catch(e){throw(e?.errorData).error.messages[0]}};(0,d.D)([n,i,l,o,f,u,h]),(0,t.A)(n,"7fce573b7772ab607eb26877638dc35a166cc7900f",null),(0,t.A)(i,"7f7e39a31efb885af3524719a73ea8dcb0bb6ffb23",null),(0,t.A)(l,"7f95c2afeb2ec2e5df8341d35957da13acc2b002c1",null),(0,t.A)(o,"7f83cb0b8cda6c595d33384df7c6adde177d1f13a6",null),(0,t.A)(f,"7fffc7c8b72e45ed2d899105c6eee9ff2f1d6e2c61",null),(0,t.A)(u,"7f4c1c2a36086c0dff9984f1e18899ff4712b442f5",null),(0,t.A)(h,"7f7229df28442cf28802a506825e67b916d63cf58a",null)},14757:(e,a,r)=>{"use strict";r.d(a,{VapiInterview:()=>p});var t=r(82966),s=r(4535),c=r(72690),d=r.n(c),n=r(75960),i=r(83148);function l({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function o({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",e),...a})}var f=r(79155),u=r(84675),h=r(15486);let b=(0,h.createServerReference)("7f804d520220bdd31092be9af94ca7c8191040f035",h.callServer,void 0,h.findSourceMapURL,"callEndTranscriptAction");function p({call:e,feedbackId:a}){let r=(0,s.useRef)(null),[c,i]=(0,s.useState)(!1),h=(0,s.useRef)(null),p=()=>{console.log("=========> call ended"),(0,s.startTransition)(()=>{b(e,a,JSON.stringify(h.current))})};return((0,s.useCallback)(()=>{if(!r.current){let e=new(d())("bdf21426-62b3-471a-94a4-aa31e8efa181");r.current=e,e.on("message",e=>{e?.type==="conversation-update"&&(h.current=e.conversation)}),e.on("call-start",()=>{(0,n.oR)("Call Connected...")}),e.on("call-end",()=>{(0,n.oR)("call ended"),p()}),e.on("speech-start",()=>{console.log("Assistant speech has started."),i(!1)}),e.on("speech-end",()=>{console.log("Assistant speech has ended."),i(!0)}),e.on("error",e=>{console.error("Vapi error:",e)})}},[]),e&&a)?(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)(l,{className:"",children:(0,t.jsxs)(o,{children:[(0,t.jsx)("div",{className:"text-center text-2xl font-bold",children:"AI Call"}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:c?"listening...":"speaking..."})]})})}),(0,t.jsx)("div",{children:(0,t.jsx)(l,{children:(0,t.jsxs)(o,{children:[(0,t.jsx)("div",{className:"text-center text-2xl font-bold",children:"You"}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:c?"speaking...":"listening..."})]})})})]}),(0,t.jsx)("div",{className:"flex justify-start mt-5",children:(0,t.jsxs)(f.$,{onClick:()=>{r.current?.stop()},className:"cursor-pointer",children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),"End Call"]})})]}):(0,t.jsx)("div",{children:"No call or feedbackId"})}},30786:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,46919,23)),Promise.resolve().then(r.bind(r,60910)),Promise.resolve().then(r.bind(r,2376)),Promise.resolve().then(r.bind(r,71913)),Promise.resolve().then(r.bind(r,62798))},38130:(e,a,r)=>{"use strict";r.d(a,{J:()=>d,o:()=>c});var t=r(26236),s=r(92574);let c=async(e,a,r)=>{let c=await (0,t.j2)();if(!c?.user)return[];let d=(await s.A.post(`/users/projects/${e}/calls/${a}/feedbacks`,r,{headers:{Authorization:`Bearer ${c.jwt}`}})).data;if("error"===d.status)throw Error(d.data[0].message);return d.data[0]},d=async(e,a,r,c)=>{let d=await (0,t.j2)();if(!d?.user)return[];let n=(await s.A.put(`/users/projects/${e}/calls/${a}/feedbacks/${r}/transcript`,{transcript:c},{headers:{Authorization:`Bearer ${d.jwt}`}})).data;if("error"===n.status)throw Error(n.data[0].message);return n.data[0]}},41726:(e,a,r)=>{"use strict";r.r(a),r.d(a,{"7f4c1c2a36086c0dff9984f1e18899ff4712b442f5":()=>t.Mh,"7f7229df28442cf28802a506825e67b916d63cf58a":()=>t.LX,"7f7e39a31efb885af3524719a73ea8dcb0bb6ffb23":()=>t.H6,"7f83cb0b8cda6c595d33384df7c6adde177d1f13a6":()=>t.dk,"7f95c2afeb2ec2e5df8341d35957da13acc2b002c1":()=>t.A7,"7fbf8ceed367c04425332882ac1b853950c858c14a":()=>s.j,"7fce573b7772ab607eb26877638dc35a166cc7900f":()=>t.aA,"7fffc7c8b72e45ed2d899105c6eee9ff2f1d6e2c61":()=>t.uz});var t=r(13999),s=r(82553)},48938:(e,a,r)=>{Promise.resolve().then(r.t.bind(r,31533,23)),Promise.resolve().then(r.bind(r,38501)),Promise.resolve().then(r.bind(r,80174)),Promise.resolve().then(r.bind(r,70303)),Promise.resolve().then(r.bind(r,14757))},62223:(e,a,r)=>{"use strict";r.r(a),r.d(a,{"7f143444e3e400671830be6ce02b3ff1d3e9dbf1cc":()=>t.N$,"7f228af614aba0103daf10d4c57416d697ff32364b":()=>t.$$,"7f5a97f4138773f7d8f8713e6048ccd0fe6d20e7a2":()=>t.xA,"7f804d520220bdd31092be9af94ca7c8191040f035":()=>t.ip,"7fdffce87a84d5c83ee3356c6e33814b2d8fad3291":()=>t.SG});var t=r(30346)},62798:(e,a,r)=>{"use strict";r.d(a,{VapiInterview:()=>t});let t=(0,r(32120).registerClientReference)(function(){throw Error("Attempted to call VapiInterview() from the server but VapiInterview is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/jdsaifi/Developer/Projects/divya-mvps/ai-kb-platform/apps/webapp/src/components/vapi-interview.tsx","VapiInterview")},77457:(e,a,r)=>{"use strict";r.d(a,{f:()=>n});var t=r(69284),s=r(60910),c=r(89726),d=r(71913);function n({children:e,breadcrumbs:a}){return(0,t.jsxs)(d.SidebarProvider,{style:{"--sidebar-width":"calc(var(--spacing) * 72)","--header-height":"calc(var(--spacing) * 12)"},children:[(0,t.jsx)(s.AppSidebar,{variant:"inset"}),(0,t.jsxs)(d.SidebarInset,{children:[(0,t.jsx)(c.D,{breadcrumbs:a}),(0,t.jsx)("div",{className:"flex flex-1 flex-col",children:(0,t.jsx)("div",{className:"@container/main flex flex-1 flex-col gap-2",children:(0,t.jsx)("div",{className:"flex flex-col gap-4 py-4 md:gap-6 md:py-6",children:(0,t.jsx)("div",{className:"px-4 lg:px-6",children:e})})})})]})]})}}};