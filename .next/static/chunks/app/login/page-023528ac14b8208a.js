(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{1407:(e,r,t)=>{"use strict";t.d(r,{C5:()=>v,MJ:()=>x,Rr:()=>b,eI:()=>p,lR:()=>g,lV:()=>l,zB:()=>u});var o=t(6814),n=t(2094),a=t(2034),i=t(6147),s=t(4682),d=t(4065);let l=i.Op,c=n.createContext({}),u=e=>{let{...r}=e;return(0,o.jsx)(c.Provider,{value:{name:r.name},children:(0,o.jsx)(i.xI,{...r})})},m=()=>{let e=n.useContext(c),r=n.useContext(f),{getFieldState:t}=(0,i.xW)(),o=(0,i.lN)({name:e.name}),a=t(e.name,o);if(!e)throw Error("useFormField should be used within <FormField>");let{id:s}=r;return{id:s,name:e.name,formItemId:"".concat(s,"-form-item"),formDescriptionId:"".concat(s,"-form-item-description"),formMessageId:"".concat(s,"-form-item-message"),...a}},f=n.createContext({});function p(e){let{className:r,...t}=e,a=n.useId();return(0,o.jsx)(f.Provider,{value:{id:a},children:(0,o.jsx)("div",{"data-slot":"form-item",className:(0,s.cn)("grid gap-2",r),...t})})}function g(e){let{className:r,...t}=e,{error:n,formItemId:a}=m();return(0,o.jsx)(d.J,{"data-slot":"form-label","data-error":!!n,className:(0,s.cn)("data-[error=true]:text-destructive",r),htmlFor:a,...t})}function x(e){let{...r}=e,{error:t,formItemId:n,formDescriptionId:i,formMessageId:s}=m();return(0,o.jsx)(a.DX,{"data-slot":"form-control",id:n,"aria-describedby":t?"".concat(i," ").concat(s):"".concat(i),"aria-invalid":!!t,...r})}function b(e){let{className:r,...t}=e,{formDescriptionId:n}=m();return(0,o.jsx)("p",{"data-slot":"form-description",id:n,className:(0,s.cn)("text-muted-foreground text-sm",r),...t})}function v(e){var r;let{className:t,...n}=e,{error:a,formMessageId:i}=m(),d=a?String(null!=(r=null==a?void 0:a.message)?r:""):n.children;return d?(0,o.jsx)("p",{"data-slot":"form-message",id:i,className:(0,s.cn)("text-destructive text-sm",t),...n,children:d}):null}},2140:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>Z});var o=t(6814);let n=(0,t(8681).A)("gallery-vertical-end",[["path",{d:"M7 2h10",key:"nczekb"}],["path",{d:"M5 6h14",key:"u2x4p"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}]]);var a=t(6147),i=t(4682),s=t(7869),d=t(7883),l=t(1407),c=(0,t(3531).A)("filled","brand-google-filled","IconBrandGoogleFilled",[["path",{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z",key:"svg-0"}]]),u=t(5399);function m(e){let{form:r,onSubmit:t,className:n,isPending:a,loginWithGoogle:m,...f}=e;return(0,o.jsxs)(l.lV,{...r,children:[(0,o.jsxs)("form",{onSubmit:r.handleSubmit(t),className:(0,i.cn)("flex flex-col gap-6",n),...f,children:[(0,o.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold",children:"Login to your account"}),(0,o.jsx)("p",{className:"text-muted-foreground text-sm text-balance",children:"Enter your email below to login to your account"})]}),(0,o.jsx)(l.zB,{control:r.control,name:"email",render:e=>{let{field:r}=e;return(0,o.jsxs)(l.eI,{children:[(0,o.jsx)(l.lR,{children:"Email"}),(0,o.jsx)(l.MJ,{children:(0,o.jsx)(d.p,{type:"email",placeholder:"jhon@example.com",...r})}),(0,o.jsx)(l.C5,{})]})}}),(0,o.jsx)(l.zB,{control:r.control,name:"password",render:e=>{let{field:r}=e;return(0,o.jsxs)(l.eI,{children:[(0,o.jsx)(l.lR,{children:"Password"}),(0,o.jsx)(l.MJ,{children:(0,o.jsx)(d.p,{type:"password",placeholder:"********",...r})}),(0,o.jsx)(l.C5,{})]})}}),(0,o.jsx)(s.$,{type:"submit",className:"w-full cursor-pointer",disabled:a,children:a?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Logging in..."]}):"Login"})]}),(0,o.jsx)("div",{className:"flex flex-col gap-2 my-4",children:(0,o.jsx)("div",{className:"after:border-border relative text-center text-sm after:absolute after:inset-0 after:top-1/2 after:z-0 after:flex after:items-center after:border-t",children:(0,o.jsx)("span",{className:"bg-background text-muted-foreground relative z-10 px-2",children:"Or continue with"})})}),(0,o.jsx)("div",{children:(0,o.jsxs)(s.$,{type:"button",variant:"outline",className:"w-full cursor-pointer",onClick:m,children:[(0,o.jsx)(c,{}),"Login with Google"]})})]})}var f=t(5001),p=t(9926),g=t(3338),x=t(7615),b=t(2900),v=t(2094);let h=f.Ay.object({email:f.Ay.string().email(),password:f.Ay.string().min(6)});function Z(){let[e,r]=(0,v.useTransition)(),t=(0,b.useRouter)(),{data:i,status:s}=(0,x.wV)(),d=(0,a.mN)({resolver:(0,p.u)(h),defaultValues:{email:"",password:""}});(0,v.useEffect)(()=>{"authenticated"===s&&(null==i?void 0:i.user)&&("admin"===i.user.role?t.push("/admin/dashboard"):t.push("/"))},[i,s,t]);let l=async e=>{try{r(async()=>{let r=await (0,x.Jv)("credentials",{email:e.email,password:e.password,redirect:!1});if(console.log("\n\n\nres: ",r),null==r?void 0:r.error)return void g.oR.error("Invalid credentials")})}catch(e){console.log("error got from login page onSubmit : ",e),g.oR.error("An error occurred: ".concat(e instanceof Error?e.message:"Unknown error"))}},c=async()=>{try{r(async()=>{await (0,x.Jv)("google",{callbackUrl:"/test-auth"})})}catch(e){console.error("Google sign in error:",e),g.oR.error("An error occurred: ".concat(e instanceof Error?e.message:"Unknown error"))}};return(0,o.jsxs)("div",{className:"grid min-h-svh lg:grid-cols-2",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-4 p-6 md:p-10",children:[(0,o.jsx)("div",{className:"flex justify-center gap-2 md:justify-start",children:(0,o.jsxs)("a",{href:"#",className:"flex items-center gap-2 font-medium",children:[(0,o.jsx)("div",{className:"bg-primary text-primary-foreground flex size-6 items-center justify-center rounded-md",children:(0,o.jsx)(n,{className:"size-4"})}),"AI Knowledge Base"]})}),(0,o.jsx)("div",{className:"flex flex-1 items-center justify-center",children:(0,o.jsx)("div",{className:"w-full max-w-xs",children:(0,o.jsx)(m,{form:d,onSubmit:l,isPending:e,loginWithGoogle:c})})})]}),(0,o.jsx)("div",{className:"bg-muted relative hidden lg:block",children:(0,o.jsx)("img",{src:"/images/login-bg.jpg",alt:"Login Background",className:"absolute inset-0 h-full w-full object-cover dark:brightness-[0.2] dark:grayscale"})})]})}},4065:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var o=t(6814);t(2094);var n=t(7041),a=t(4682);function i(e){let{className:r,...t}=e;return(0,o.jsx)(n.b,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},4682:(e,r,t)=>{"use strict";t.d(r,{cn:()=>a});var o=t(6554),n=t(7038);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,o.$)(r))}},5001:(e,r,t)=>{"use strict";t.d(r,{Ay:()=>u});var o={};t.r(o),t.d(o,{BRAND:()=>d.qt,DIRTY:()=>i.jm,EMPTY_PATH:()=>i.I3,INVALID:()=>i.uY,NEVER:()=>d.tm,OK:()=>i.OK,ParseStatus:()=>i.MY,Schema:()=>d.Sj,ZodAny:()=>d.Ml,ZodArray:()=>d.n,ZodBigInt:()=>d.Lr,ZodBoolean:()=>d.WF,ZodBranded:()=>d.eN,ZodCatch:()=>d.hw,ZodDate:()=>d.aP,ZodDefault:()=>d.Xi,ZodDiscriminatedUnion:()=>d.jv,ZodEffects:()=>d.k1,ZodEnum:()=>d.Vb,ZodError:()=>l.G,ZodFirstPartyTypeKind:()=>d.kY,ZodFunction:()=>d.CZ,ZodIntersection:()=>d.Jv,ZodIssueCode:()=>l.eq,ZodLazy:()=>d.Ih,ZodLiteral:()=>d.DN,ZodMap:()=>d.Ut,ZodNaN:()=>d.Tq,ZodNativeEnum:()=>d.WM,ZodNever:()=>d.iS,ZodNull:()=>d.PQ,ZodNullable:()=>d.l1,ZodNumber:()=>d.rS,ZodObject:()=>d.bv,ZodOptional:()=>d.Ii,ZodParsedType:()=>s.Zp,ZodPipeline:()=>d._c,ZodPromise:()=>d.$i,ZodReadonly:()=>d.EV,ZodRecord:()=>d.b8,ZodSchema:()=>d.lK,ZodSet:()=>d.Kz,ZodString:()=>d.ND,ZodSymbol:()=>d.K5,ZodTransformer:()=>d.BG,ZodTuple:()=>d.y0,ZodType:()=>d.aR,ZodUndefined:()=>d._Z,ZodUnion:()=>d.fZ,ZodUnknown:()=>d._,ZodVoid:()=>d.a0,addIssueToContext:()=>i.zn,any:()=>d.bz,array:()=>d.YO,bigint:()=>d.o,boolean:()=>d.zM,coerce:()=>d.au,custom:()=>d.Ie,date:()=>d.p6,datetimeRegex:()=>d.fm,defaultErrorMap:()=>a.su,discriminatedUnion:()=>d.gM,effect:()=>d.QZ,enum:()=>d.k5,function:()=>d.fH,getErrorMap:()=>a.$W,getParsedType:()=>s.CR,instanceof:()=>d.Nl,intersection:()=>d.E$,isAborted:()=>i.G4,isAsync:()=>i.xP,isDirty:()=>i.DM,isValid:()=>i.fn,late:()=>d.fn,lazy:()=>d.RZ,literal:()=>d.eu,makeIssue:()=>i.y7,map:()=>d.Tj,nan:()=>d.oi,nativeEnum:()=>d.fc,never:()=>d.Zm,null:()=>d.ch,nullable:()=>d.me,number:()=>d.ai,object:()=>d.Ik,objectUtil:()=>s.o6,oboolean:()=>d.yN,onumber:()=>d.p7,optional:()=>d.lq,ostring:()=>d.Di,pipeline:()=>d.Tk,preprocess:()=>d.vk,promise:()=>d.iv,quotelessJson:()=>l.WI,record:()=>d.g1,set:()=>d.hZ,setErrorMap:()=>a.pJ,strictObject:()=>d.re,string:()=>d.Yj,symbol:()=>d.HR,transformer:()=>d.Gu,tuple:()=>d.PV,undefined:()=>d.Vx,union:()=>d.KC,unknown:()=>d.L5,util:()=>s.ZS,void:()=>d.rI});var n={};t.r(n),t.d(n,{BRAND:()=>d.qt,DIRTY:()=>i.jm,EMPTY_PATH:()=>i.I3,INVALID:()=>i.uY,NEVER:()=>d.tm,OK:()=>i.OK,ParseStatus:()=>i.MY,Schema:()=>d.Sj,ZodAny:()=>d.Ml,ZodArray:()=>d.n,ZodBigInt:()=>d.Lr,ZodBoolean:()=>d.WF,ZodBranded:()=>d.eN,ZodCatch:()=>d.hw,ZodDate:()=>d.aP,ZodDefault:()=>d.Xi,ZodDiscriminatedUnion:()=>d.jv,ZodEffects:()=>d.k1,ZodEnum:()=>d.Vb,ZodError:()=>l.G,ZodFirstPartyTypeKind:()=>d.kY,ZodFunction:()=>d.CZ,ZodIntersection:()=>d.Jv,ZodIssueCode:()=>l.eq,ZodLazy:()=>d.Ih,ZodLiteral:()=>d.DN,ZodMap:()=>d.Ut,ZodNaN:()=>d.Tq,ZodNativeEnum:()=>d.WM,ZodNever:()=>d.iS,ZodNull:()=>d.PQ,ZodNullable:()=>d.l1,ZodNumber:()=>d.rS,ZodObject:()=>d.bv,ZodOptional:()=>d.Ii,ZodParsedType:()=>s.Zp,ZodPipeline:()=>d._c,ZodPromise:()=>d.$i,ZodReadonly:()=>d.EV,ZodRecord:()=>d.b8,ZodSchema:()=>d.lK,ZodSet:()=>d.Kz,ZodString:()=>d.ND,ZodSymbol:()=>d.K5,ZodTransformer:()=>d.BG,ZodTuple:()=>d.y0,ZodType:()=>d.aR,ZodUndefined:()=>d._Z,ZodUnion:()=>d.fZ,ZodUnknown:()=>d._,ZodVoid:()=>d.a0,addIssueToContext:()=>i.zn,any:()=>d.bz,array:()=>d.YO,bigint:()=>d.o,boolean:()=>d.zM,coerce:()=>d.au,custom:()=>d.Ie,date:()=>d.p6,datetimeRegex:()=>d.fm,default:()=>c,defaultErrorMap:()=>a.su,discriminatedUnion:()=>d.gM,effect:()=>d.QZ,enum:()=>d.k5,function:()=>d.fH,getErrorMap:()=>a.$W,getParsedType:()=>s.CR,instanceof:()=>d.Nl,intersection:()=>d.E$,isAborted:()=>i.G4,isAsync:()=>i.xP,isDirty:()=>i.DM,isValid:()=>i.fn,late:()=>d.fn,lazy:()=>d.RZ,literal:()=>d.eu,makeIssue:()=>i.y7,map:()=>d.Tj,nan:()=>d.oi,nativeEnum:()=>d.fc,never:()=>d.Zm,null:()=>d.ch,nullable:()=>d.me,number:()=>d.ai,object:()=>d.Ik,objectUtil:()=>s.o6,oboolean:()=>d.yN,onumber:()=>d.p7,optional:()=>d.lq,ostring:()=>d.Di,pipeline:()=>d.Tk,preprocess:()=>d.vk,promise:()=>d.iv,quotelessJson:()=>l.WI,record:()=>d.g1,set:()=>d.hZ,setErrorMap:()=>a.pJ,strictObject:()=>d.re,string:()=>d.Yj,symbol:()=>d.HR,transformer:()=>d.Gu,tuple:()=>d.PV,undefined:()=>d.Vx,union:()=>d.KC,unknown:()=>d.L5,util:()=>s.ZS,void:()=>d.rI,z:()=>o});var a=t(565),i=t(4891),s=t(4952),d=t(3103),l=t(6611);let c=o,u=n},7866:(e,r,t)=>{Promise.resolve().then(t.bind(t,2140))},7869:(e,r,t)=>{"use strict";t.d(r,{$:()=>d,r:()=>s});var o=t(6814);t(2094);var n=t(2034),a=t(2092),i=t(4682);let s=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:r,variant:t,size:a,asChild:d=!1,...l}=e,c=d?n.DX:"button";return(0,o.jsx)(c,{"data-slot":"button",className:(0,i.cn)(s({variant:t,size:a,className:r})),...l})}},7883:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var o=t(6814);t(2094);var n=t(4682);function a(e){let{className:r,type:t,...a}=e;return(0,o.jsx)("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}}},e=>{var r=r=>e(e.s=r);e.O(0,[8264,9615,6828,7768,6788,5097,7358],()=>r(7866)),_N_E=e.O()}]);