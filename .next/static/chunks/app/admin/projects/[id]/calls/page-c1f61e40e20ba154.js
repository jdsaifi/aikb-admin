(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{727:(e,t,a)=>{"use strict";a.d(t,{ProjectCallsTable:()=>y});var s=a(6814),r=a(2094),l=a(4135),n=a(7869),d=a(1486),i=a(6502);let o=(0,i.createServerReference)("7fb018cc823e171de450c7c5d722fd8e4049baedec",i.callServer,void 0,i.findSourceMapURL,"addCallsToProject"),c=(0,i.createServerReference)("7f090f9e5a34fb1f7be8d888b9f14f870fdb2a0d7c",i.callServer,void 0,i.findSourceMapURL,"removeCallFromProject");var h=a(3338),u=a(8681);let x=(0,u.A)("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var m=a(8339);let f=(0,u.A)("phone-incoming",[["path",{d:"M16 2v6h6",key:"1mfrl5"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),j=(0,u.A)("phone-missed",[["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var v=a(1235),p=a.n(v),g=a(5397),b=a(6671);function y(e){let{projectCalls:t,allCalls:a,projectId:i}=e,[u,v]=(0,r.useState)(!1),[y,N]=(0,r.useState)([]),[w,A]=(0,r.useState)(null),k=a.filter(e=>!t.some(t=>t._id===e._id)),C=async()=>{if(0===y.length)return void h.oR.error("Please select at least one call");v(!0);try{await o(i,y),h.oR.success("Calls added to project successfully"),N([]),window.location.reload()}catch(e){h.oR.error((null==e?void 0:e.message)||"An error occurred while adding calls to project")}finally{v(!1)}},_=async e=>{A(e);try{await c(i,e),h.oR.success("Call removed from project successfully"),window.location.reload()}catch(e){h.oR.error("An error occurred while removing call from project")}finally{A(null)}};return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(x,{className:"h-5 w-5"}),(0,s.jsx)("h3",{className:"text-lg font-medium",children:"Project Calls"}),(0,s.jsxs)(d.E,{variant:"secondary",children:[t.length," calls"]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(n.$,{size:"sm",variant:"outline",asChild:!0,children:(0,s.jsxs)(p(),{href:"/admin/projects",children:[(0,s.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"All Projects"]})}),k.length>0&&(0,s.jsxs)(g.lG,{children:[(0,s.jsx)(g.zM,{asChild:!0,children:(0,s.jsxs)(n.$,{size:"sm",children:[(0,s.jsx)(f,{className:"mr-2 h-4 w-4"}),"Add Call"]})}),(0,s.jsxs)(g.Cf,{className:"min-w-3xl",children:[(0,s.jsxs)(g.c7,{children:[(0,s.jsx)(g.L3,{children:"Add Calls to Project"}),(0,s.jsx)(g.rr,{children:"Select one or more calls to add to this project. They will be able to access all project features."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded w-full",children:(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{}),(0,s.jsx)(l.nd,{children:"Name"}),(0,s.jsx)(l.nd,{children:"Created At"})]})}),(0,s.jsx)(l.BF,{children:k.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{children:(0,s.jsx)("input",{type:"checkbox",checked:y.includes(e._id),onChange:t=>{t.target.checked?N(t=>[...t,e._id]):N(t=>t.filter(t=>t!==e._id))}})}),(0,s.jsx)(l.nA,{children:e.name}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(b.N,{date:e.createdAt})})]},e._id))})]})}),(0,s.jsx)("div",{className:"flex justify-end space-x-2",children:(0,s.jsx)(n.$,{onClick:C,disabled:0===y.length||u,children:u?"Adding...":"Add Selected Calls"})})]})]})]})]})]}),t.length>0?(0,s.jsxs)(l.XI,{children:[(0,s.jsx)(l.A0,{children:(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nd,{children:"Name"}),(0,s.jsx)(l.nd,{children:"Created At"}),(0,s.jsx)(l.nd,{children:"Actions"})]})}),(0,s.jsx)(l.BF,{children:t.map(e=>(0,s.jsxs)(l.Hj,{children:[(0,s.jsx)(l.nA,{className:"font-medium",children:e.name}),(0,s.jsx)(l.nA,{children:(0,s.jsx)(b.N,{date:e.createdAt})}),(0,s.jsx)(l.nA,{children:(0,s.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>_(e._id),disabled:w===e._id,className:"cursor-pointer",children:[(0,s.jsx)(j,{className:"mr-2 h-4 w-4"}),w===e._id?"Removing...":"Remove"]})})]},e._id))})]}):(0,s.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,s.jsx)(x,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),(0,s.jsx)("p",{children:"No calls assigned to this project yet."}),k.length>0&&(0,s.jsx)("p",{className:"text-sm mt-2",children:'Click "Add Call" to assign calls to this project.'})]})]})}},1486:(e,t,a)=>{"use strict";a.d(t,{E:()=>i});var s=a(6814);a(2094);var r=a(2034),l=a(2092),n=a(4682);let d=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,asChild:l=!1,...i}=e,o=l?r.DX:"span";return(0,s.jsx)(o,{"data-slot":"badge",className:(0,n.cn)(d({variant:a}),t),...i})}},2711:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,1235,23)),Promise.resolve().then(a.bind(a,4852)),Promise.resolve().then(a.bind(a,727)),Promise.resolve().then(a.bind(a,1898)),Promise.resolve().then(a.bind(a,8657))},4135:(e,t,a)=>{"use strict";a.d(t,{A0:()=>n,BF:()=>d,Hj:()=>i,XI:()=>l,nA:()=>c,nd:()=>o});var s=a(6814);a(2094);var r=a(4682);function l(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,s.jsx)("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",t),...a})})}function n(e){let{className:t,...a}=e;return(0,s.jsx)("thead",{"data-slot":"table-header",className:(0,r.cn)("[&_tr]:border-b",t),...a})}function d(e){let{className:t,...a}=e;return(0,s.jsx)("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",t),...a})}function i(e){let{className:t,...a}=e;return(0,s.jsx)("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function o(e){let{className:t,...a}=e;return(0,s.jsx)("th",{"data-slot":"table-head",className:(0,r.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function c(e){let{className:t,...a}=e;return(0,s.jsx)("td",{"data-slot":"table-cell",className:(0,r.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},5397:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>h,L3:()=>x,c7:()=>u,lG:()=>d,rr:()=>m,zM:()=>i});var s=a(6814);a(2094);var r=a(6701),l=a(9817),n=a(4682);function d(e){let{...t}=e;return(0,s.jsx)(r.bL,{"data-slot":"dialog",...t})}function i(e){let{...t}=e;return(0,s.jsx)(r.l9,{"data-slot":"dialog-trigger",...t})}function o(e){let{...t}=e;return(0,s.jsx)(r.ZL,{"data-slot":"dialog-portal",...t})}function c(e){let{className:t,...a}=e;return(0,s.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function h(e){let{className:t,children:a,showCloseButton:d=!0,...i}=e;return(0,s.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,s.jsx)(c,{}),(0,s.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[a,d&&(0,s.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,s.jsx)(l.A,{}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function u(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",t),...a})}function x(e){let{className:t,...a}=e;return(0,s.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",t),...a})}function m(e){let{className:t,...a}=e;return(0,s.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}},6671:(e,t,a)=>{"use strict";a.d(t,{N:()=>l});var s=a(6814),r=a(2094);function l(e){let{date:t}=e,[a,l]=(0,r.useState)("");return(0,r.useEffect)(()=>{l(new Date(t).toLocaleString())},[t]),(0,s.jsx)("span",{children:a})}},8339:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(8681).A)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[8264,9615,1235,6828,8067,6114,4852,6788,5097,7358],()=>t(2711)),_N_E=e.O()}]);