(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1873,4492],{3558:(e,n,s)=>{Promise.resolve().then(s.t.bind(s,1235,23)),Promise.resolve().then(s.bind(s,4852)),Promise.resolve().then(s.bind(s,1898)),Promise.resolve().then(s.bind(s,8657)),Promise.resolve().then(s.bind(s,5692))},5692:(e,n,s)=>{"use strict";s.d(n,{VapiInterview:()=>m});var t=s(6814),a=s(2094),r=s(120),o=s.n(r),i=s(3338),l=s(4682);function c(e){let{className:n,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,l.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n),...s})}function d(e){let{className:n,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,l.cn)("px-6",n),...s})}var u=s(7869),h=s(9621),p=s(6502);let f=(0,p.createServerReference)("7f804d520220bdd31092be9af94ca7c8191040f035",p.callServer,void 0,p.findSourceMapURL,"callEndTranscriptAction"),v=e=>{var n;let s=e.company.name,t=e.questions,a=null==(n=e.positiveQuestions)?void 0:n.split(","),r=e.negativeQuestions,o=e.AIPersona||"default",i=[...t||[],...a||[]].join(",");return{modelOutputInMessagesEnabled:!0,name:"AI Call Assistant",firstMessage:"Hello, how can I help you today?",transcriber:{provider:"deepgram",model:"nova-2",language:"en-US"},voice:{provider:"playht",voiceId:"jennifer"},model:{provider:"openai",model:"gpt-4o-mini",messages:[{role:"system",content:"\n    You are an AI voice assistant conducting a call for a lawyers firm.\n    Your job is to ask candidates provided questions, assess their responses.\n    Begin the conversation with a friendly introduction, setting a relaxed yet professional tone.\n    Example:\n    \"Hey there! Welcome to your the call. I'm ".concat("John",", your call assistant for ").concat(s,".\n    \n    Ask the candidate questions one by one, and wait for the user's response before proceeding, and assess their responses. Keep the questions clear and concise. Below Are the questions ask one by one.\n    ***Questions*** \n    ").concat(i,"\n\n    These are the negative questions, that you should politely decline to answer.\n    ***Negative Questions***\n    ").concat(r,"\n\n    ***Your personality*** \n    ").concat(o,'\n\n    If the candidate struggles, offer hints or rephrase the question without giving away the answer.\n    If the candidate has no questions, ask them if they have any other questions.\n    If the candidate has no other questions, thank them for their time and end the call.\n    Keep the conversation natural and engagingâ€”use casual phrases like "Alright, next up..." or "Let\'s tackle a tricky one!"\n    After 6-8 questions, wrap up the interview smoothly by summarizing their performance.\n    Keep responses short and natural, like a real conversation\n    Adapt based on the candidate\'s confidence level\n    ').trim()}]},clientMessages:["conversation-update","transcript"]}};function m(e){let{call:n,feedbackId:s}=e,r=(0,a.useRef)(null),[l,p]=(0,a.useState)(!1),m=(0,a.useRef)(null),g=()=>{console.log("=========> call ended"),(0,a.startTransition)(()=>{f(n,s,JSON.stringify(m.current))})},x=(0,a.useCallback)(()=>{if(!r.current){let e=new(o())("bdf21426-62b3-471a-94a4-aa31e8efa181");r.current=e,e.on("message",e=>{(null==e?void 0:e.type)==="conversation-update"&&(m.current=e.conversation)}),e.on("call-start",()=>{(0,i.oR)("Call Connected...")}),e.on("call-end",()=>{(0,i.oR)("call ended"),g()}),e.on("speech-start",()=>{console.log("Assistant speech has started."),p(!1)}),e.on("speech-end",()=>{console.log("Assistant speech has ended."),p(!0)}),e.on("error",e=>{console.error("Vapi error:",e)})}},[]);return((0,a.useEffect)(()=>{if(n){var e;let s=v(n);return x(),null==(e=r.current)||e.start(s),()=>{r.current&&(r.current.stop(),r.current=null)}}},[x,n]),n&&s)?(0,t.jsxs)("div",{className:"flex flex-col gap-4 mt-5",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)(c,{className:"",children:(0,t.jsxs)(d,{children:[(0,t.jsx)("div",{className:"text-center text-2xl font-bold",children:"AI Call"}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:l?"listening...":"speaking..."})]})})}),(0,t.jsx)("div",{children:(0,t.jsx)(c,{children:(0,t.jsxs)(d,{children:[(0,t.jsx)("div",{className:"text-center text-2xl font-bold",children:"You"}),(0,t.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:l?"speaking...":"listening..."})]})})})]}),(0,t.jsx)("div",{className:"flex justify-start mt-5",children:(0,t.jsxs)(u.$,{onClick:()=>{var e;null==(e=r.current)||e.stop()},className:"cursor-pointer",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"End Call"]})})]}):(0,t.jsx)("div",{children:"No call or feedbackId"})}}},e=>{var n=n=>e(e.s=n);e.O(0,[6761,8264,9615,1235,6828,8067,6114,4464,4852,6788,5097,7358],()=>n(3558)),_N_E=e.O()}]);