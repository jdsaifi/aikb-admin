(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[712],{1407:(e,t,s)=>{"use strict";s.d(t,{C5:()=>f,MJ:()=>g,Rr:()=>v,eI:()=>p,lR:()=>h,lV:()=>d,zB:()=>u});var a=s(6814),r=s(2094),n=s(2034),l=s(6147),i=s(4682),o=s(4065);let d=l.Op,c=r.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(l.xI,{...t})})},m=()=>{let e=r.useContext(c),t=r.useContext(x),{getFieldState:s}=(0,l.xW)(),a=(0,l.lN)({name:e.name}),n=s(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},x=r.createContext({});function p(e){let{className:t,...s}=e,n=r.useId();return(0,a.jsx)(x.Provider,{value:{id:n},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,i.cn)("grid gap-2",t),...s})})}function h(e){let{className:t,...s}=e,{error:r,formItemId:n}=m();return(0,a.jsx)(o.J,{"data-slot":"form-label","data-error":!!r,className:(0,i.cn)("data-[error=true]:text-destructive",t),htmlFor:n,...s})}function g(e){let{...t}=e,{error:s,formItemId:r,formDescriptionId:l,formMessageId:i}=m();return(0,a.jsx)(n.DX,{"data-slot":"form-control",id:r,"aria-describedby":s?"".concat(l," ").concat(i):"".concat(l),"aria-invalid":!!s,...t})}function v(e){let{className:t,...s}=e,{formDescriptionId:r}=m();return(0,a.jsx)("p",{"data-slot":"form-description",id:r,className:(0,i.cn)("text-muted-foreground text-sm",t),...s})}function f(e){var t;let{className:s,...r}=e,{error:n,formMessageId:l}=m(),o=n?String(null!=(t=null==n?void 0:n.message)?t:""):r.children;return o?(0,a.jsx)("p",{"data-slot":"form-message",id:l,className:(0,i.cn)("text-destructive text-sm",s),...r,children:o}):null}},1486:(e,t,s)=>{"use strict";s.d(t,{E:()=>o});var a=s(6814);s(2094);var r=s(2034),n=s(2092),l=s(4682);let i=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:s,asChild:n=!1,...o}=e,d=n?r.DX:"span";return(0,a.jsx)(d,{"data-slot":"badge",className:(0,l.cn)(i({variant:s}),t),...o})}},2866:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var a=s(6814),r=s(2900),n=s(7869),l=s(4682);function i(e){let{className:t,children:s,variant:i="default",...o}=e,d=(0,r.useRouter)();return(0,a.jsx)(n.$,{type:"button",onClick:()=>d.back(),className:(0,l.cn)("cursor-pointer",t),variant:i,...o,children:s})}},3022:(e,t,s)=>{"use strict";s.d(t,{TR:()=>p,bq:()=>m,eb:()=>h,gC:()=>x,l6:()=>d,s3:()=>c,yv:()=>u});var a=s(6814);s(2094);var r=s(9622),n=s(1933),l=s(3665),i=s(3536),o=s(4682);function d(e){let{...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...t})}function c(e){let{...t}=e;return(0,a.jsx)(r.YJ,{"data-slot":"select-group",...t})}function u(e){let{...t}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...t})}function m(e){let{className:t,size:s="default",children:l,...i}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,o.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[l,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function x(e){let{className:t,children:s,position:n="popper",...l}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,o.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,a.jsx)(g,{}),(0,a.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(v,{})]})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(r.JU,{"data-slot":"select-label",className:(0,o.cn)("text-muted-foreground px-2 py-1.5 text-xs",t),...s})}function h(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,o.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(l.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:s})]})}function g(e){let{className:t,...s}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}function v(e){let{className:t,...s}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"size-4"})})}},4065:(e,t,s)=>{"use strict";s.d(t,{J:()=>l});var a=s(6814);s(2094);var r=s(7041),n=s(4682);function l(e){let{className:t,...s}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...s})}},4922:(e,t,s)=>{Promise.resolve().then(s.bind(s,8104)),Promise.resolve().then(s.bind(s,4852)),Promise.resolve().then(s.bind(s,1898)),Promise.resolve().then(s.bind(s,8657))},5970:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(8681).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},8104:(e,t,s)=>{"use strict";s.d(t,{default:()=>b});var a=s(6814),r=s(3103),n=s(9926),l=s(6147),i=s(1407),o=s(4682),d=s(7883),c=s(3022),u=s(2866),m=s(7869),x=s(9817),p=s(5399),h=s(5970),g=s(1486),v=s(2094),f=s(3338);let j=r.Ik({name:r.Yj().min(1,{message:"Name is required"}),email:r.Yj().email({message:"Invalid email address"}),password:r.Yj().optional().refine(e=>!(""!==e&&(null==e?void 0:e.length)<6),{message:"Password must be at least 6 characters long"}),tags:r.YO(r.Yj()).optional()});function b(e){let{className:t,user:s,tagsList:r,updateUser:b,...y}=e;console.log("\n\n\n\n--------\x3euser info in edit user form: ",s);let[w,N]=(0,v.useTransition)(),k=(0,l.mN)({resolver:(0,n.u)(j),defaultValues:{name:s.name,email:s.email,tags:s.tags,password:""}}),z=async e=>{N(async()=>{try{let t={name:e.name,email:e.email,tags:e.tags};e.password&&e.password.length>0&&(t.password=e.password),await b(s._id,t),f.oR.success("User updated successfully")}catch(e){f.oR.error("Error updating user")}})};return(0,a.jsx)(i.lV,{...k,children:(0,a.jsxs)("form",{onSubmit:k.handleSubmit(z),className:(0,o.cn)("flex flex-col gap-6",t),...y,children:[(0,a.jsx)(i.zB,{control:k.control,name:"name",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsxs)(i.lR,{children:["Full Name"," ",(0,a.jsx)("span",{className:"text-red-500",children:"(required)"})]}),(0,a.jsx)(i.MJ,{children:(0,a.jsx)(d.p,{...t,placeholder:"Full name"})}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsx)(i.zB,{control:k.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsxs)(i.lR,{children:["Email"," ",(0,a.jsx)("span",{className:"text-red-500",children:"(required)"})]}),(0,a.jsx)(i.MJ,{children:(0,a.jsx)(d.p,{...t,placeholder:"Email",type:"email"})}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsx)(i.zB,{control:k.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(i.eI,{children:[(0,a.jsxs)(i.lR,{children:["Password"," ",(0,a.jsx)("span",{className:"text-blue-500",children:"(optional)"})]}),(0,a.jsx)(i.Rr,{children:"Leave blank to keep the same password"}),(0,a.jsx)(i.MJ,{children:(0,a.jsx)(d.p,{...t,placeholder:"Password",type:"password"})}),(0,a.jsx)(i.C5,{})]})}}),r.length>0&&(0,a.jsx)(i.zB,{control:k.control,name:"tags",render:e=>{let{field:t}=e,s=t.value||[],n=r.filter(e=>!s.includes(e.value)),l=r.filter(e=>s.includes(e.value)),o=e=>{let s=t.value||[];s.includes(e)||t.onChange([...s,e])},d=e=>{let s=t.value;t.onChange(s.filter(t=>t!==e))};return(0,a.jsxs)(i.eI,{children:[(0,a.jsx)(i.lR,{children:"Tag Policy"}),(0,a.jsx)(i.Rr,{children:"Select one or more tags for this user."}),(0,a.jsx)(i.MJ,{children:(0,a.jsxs)("div",{className:"space-y-3 rounded-lg border p-4",children:[l.length>0&&(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>(0,a.jsxs)(g.E,{variant:"secondary",className:"flex items-center gap-1.5 px-2 py-1 pr-1",children:[(0,a.jsx)("span",{children:e.name}),(0,a.jsx)("button",{type:"button",onClick:()=>d(e.value),className:"ml-1 rounded-full hover:bg-secondary-foreground/20 p-0.5 transition-colors","aria-label":"Remove ".concat(e.name),children:(0,a.jsx)(x.A,{className:"h-3 w-3"})})]},e.value))}),n.length>0&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(c.l6,{onValueChange:e=>{o(e)},children:[(0,a.jsx)(c.bq,{className:"w-full",children:(0,a.jsx)(c.yv,{placeholder:"Add a tags..."})}),(0,a.jsx)(c.gC,{children:n.map(e=>(0,a.jsx)(c.eb,{value:e.value,children:e.value},e.value))})]})}),0===l.length&&0===n.length&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"All tags have been selected"})]})}),(0,a.jsx)(i.C5,{})]})}}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(m.$,{type:"submit",className:"cursor-pointer",disabled:w,children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(p.A,{className:"animate-spin"}),"Updating User..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"w-4 h-4"}),"Update User"]})}),(0,a.jsx)(u.o,{variant:"outline",children:"Cancel"})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[8264,9615,1235,6828,8067,6114,7768,5143,4852,6788,5097,7358],()=>t(4922)),_N_E=e.O()}]);