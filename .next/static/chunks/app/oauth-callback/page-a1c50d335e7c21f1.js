(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3138],{4712:(e,r,a)=>{Promise.resolve().then(a.bind(a,9545))},5897:(e,r,a)=>{"use strict";a.d(r,{j:()=>n});var o=a(6502);let n=(0,o.createServerReference)("7fbf8ceed367c04425332882ac1b853950c858c14a",o.callServer,void 0,o.findSourceMapURL,"authGoogleLogin")},9545:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>u});var o=a(6814),n=a(2094),t=a(2900);let l=(0,a(2592).UU)("https://fajkzeffucawbjjtcxyk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZhamt6ZWZmdWNhd2JqanRjeHlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYyNjUwNTMsImV4cCI6MjA2MTg0MTA1M30.ebaA1qKD2omcXLQuUqlHLnGSHRuyXf6VYzwuTSBJr88");var c=a(7615),s=a(5897),i=a(3338);function u(){let e=(0,t.useRouter)();return(0,n.useEffect)(()=>{(async()=>{let{data:{session:r},error:a}=await l.auth.getSession();if(a||!(null==r?void 0:r.user))return console.error("OAuth session error",a);let{user:o}=r,{email:n,user_metadata:t,id:u}=o,f=t.full_name;console.log("\n\n\nuser from oauth callback: ",o);try{let r=await (0,s.j)({email:n,name:f,authProvider:"google",googleId:u,emailVerified:!0});console.log("\n\n\nres from oauth callback: ",r);let a=await (0,c.Jv)("credentials",{email:n,token:r.token,redirect:!1});console.log("\n\n\nauthRes from oauth callback: ",a),(null==a?void 0:a.ok)?e.push("/"):console.error("NextAuth sign-in failed",a)}catch(e){i.oR.error(e.message);return}})()},[]),(0,o.jsx)("p",{children:"Logging in..."})}}},e=>{var r=r=>e(e.s=r);e.O(0,[8264,8067,4647,6788,5097,7358],()=>r(4712)),_N_E=e.O()}]);